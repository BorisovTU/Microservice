{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$comment": "version 20250814",
  "title": "Запрос на отправку поручений клиентов",
  "definitions": {
    "SendCorpActionsAssignmentReq": {
      "description": "Запрос на отправку поручений клиентов",
      "type": "object",
      "required": [
        "CorporateActionInstruction"
      ],
      "additionalProperties": false,
      "properties": {
        "CorporateActionInstruction": {
          "description": "Инструкция по КД",
          "type": "object",
          "required": [
            "CorporateActionIssuerID",
            "CorpActnEvtId",
            "CFTID",
            "OwnerSecurityID",
            "InstrDt",
            "InstrNmb",
            "FinInstrmId",
            "Acct",
            "SubAcct",
            "SfkpgAcct",
            "CorpActnOptnDtls"
          ],
          "additionalProperties": false,
          "properties": {
            "CorporateActionIssuerID": {
              "description": "Идентификатор КД",
              "type": "string"
            },
            "CorpActnEvtId": {
              "description": "Референс корпоративного действия",
              "type": "string"
            },
            "CFTID": {
              "description": "Идентификатор клиента в ЦФТ",
              "type": "string"
            },
            "OwnerSecurityID": {
              "description": "Идентификатор владельца (запись о владельце)",
              "type": "string"
            },
            "InstrDt": {
              "description": "Дата и время инструкции",
              "type": "string",
              "pattern": "^\\d{4}\\-\\d{2}\\-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"
            },
            "InstrNmb": {
              "description": "Номер поручения",
              "type": "string"
            },
            "FinInstrmId": {
              "description": "Идентификация финансового инструмента",
              "type": "object",
              "required": [],
              "additionalProperties": false,
              "properties": {
                "ISIN": {
                  "description": "ISIN",
                  "type": "string"
                },
                "RegNumber": {
                  "description": "Регистрационный номер",
                  "type": "string"
                },
                "NSDR": {
                  "description": "Код НРД",
                  "type": "string"
                }
              }
            },
            "Acct": {
              "description": "Счет депо",
              "type": "string"
            },
            "SubAcct": {
              "description": "Раздел счета депо",
              "type": "string"
            },
            "SfkpgAcct": {
              "description": "Счет места хранения",
              "type": "string"
            },
            "CorpActnOptnDtls": {
              "description": "Вариант участия",
              "type": "object",
              "required": [
                "OptnNb",
                "OptnTp",
                "Bal"
              ],
              "additionalProperties": false,
              "properties": {
                "OptnNb": {
                  "description": "Номер варианта корпоративного действия",
                  "type": "string"
                },
                "OptnTp": {
                  "description": "Тип варианта корпоративного действия",
                  "type": "string"
                },
                "PricVal": {
                  "description": "Цена выкупа",
                  "type": "string"
                },
                "PricValCcy": {
                  "description": "Валюта выкупа",
                  "type": "string"
                },
                "Bal": {
                  "description": "Количество ЦБ, указанное клиентом в поручении",
                  "type": "string"
                }
              }
            }
          }
        }
      }
    }
  },
  "anyOf": [
    {
      "type": "object",
      "additionalProperties": false,
      "required": [
        "SendCorpActionsAssignmentReq"
      ],
      "properties": {
        "SendCorpActionsAssignmentReq": {
          "$ref": "#/definitions/SendCorpActionsAssignmentReq"
        }
      }
    }
  ]
}