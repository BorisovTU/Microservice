/*********************************************************************
*  ---------------------                                             *
*  R-Style Software Lab.                                             *
*  ---------------------                                             *
*  RS-Retail                                                         *
*                                                                    *
*  Пластиковые карточки                                              *
*                                                                    *
*  Глобальные переменные для Платежной системы STB-Card              *
*                                                                    *
*  Лебедев С.В.                                                      *
*  17.12.99                                                          *
*********************************************************************/

import DeprIntr;

/* ----------------------- Параметры банка ------------------------ */
const psCode        = "STB_CARD";  /* Код ПС STB-Card в файле Платежных систем */
const CodeBank      = "047";       /* Код банка, присвоенный STB               */
const CodeSubBank   = "00";        /* Код филиала банка, присвоенный STB       */
const Branch        = NumFNCash(); /* Внутрисистемный номер филиала            */
const WriteCodeBank = FALSE;       /* Писать ли код банка в выходные файлы     */
const DateType      = 1;           /* Тип даты в файлах для ПЦ STB             */
				   /*    1-YYMMDD, 2-DDMMYY, 3-MMDDYY          */
array Bank_BTCAID;                 /* Идентификатор сети                       */
  Bank_BTCAID(0) = "0470001";
  Bank_BTCAID(1) = "0470002";
  Bank_BTCAID(2) = "0470003";
  Bank_BTCAID(3) = "0470004";
  Bank_BTCAID(4) = "0470005";
  Bank_BTCAID(5) = "0470006";
  Bank_BTCAID(6) = "0470007";
  Bank_BTCAID(7) = "49886801574";
  Bank_BTCAID(8) = "49886801322";
  Bank_BTCAID(9) = "49886801111";

/* ----------------------- Параметры системы ---------------------- */
var   STB_psRef        = 0;       /* Референс Платежной системы STB-Card                  */
var   InputDir         = "";      /* Каталог для входных файлов STB-Card                  */
var   OutputDir        = "";      /* Каталог для выходных файлов STB-Card                 */
const LogSC_Acc        = 1;       /* Номер файла scAcc                                    */
const LogSC_Card       = 5;       /* Номер файла scCard                                   */
const LogSC_Link       = 8;       /* Номер файла scLink                                   */
const LogSC_Auth       = 18;      /* Номер файла scTran                                   */
const LogSC_AccS       = 2;       /* Состояние счета для Кодификатора                     */
const LogSC_CardS      = 6;       /* Состояние карточки для Кодификатора                  */
const LogSC_LinkS      = 9;       /* Состояние связи для Кодификатора                     */
const LogSC_depdoc     = 506;     /* Номер файла sbdepdoc                                 */
const LogSC_paydoc     = 521;     /* Номер файла pay_doc                                  */
const VCardState_OFF   = "OFF__"; /* Состояние карточки Подлежит выдаче                   */
const VCardState_NORD  = "NORDO"; /* Состояние карточки Заказать перевыпуск               */
const VCardState_BNORD = "BNORD"; /* Состояние блокированной карточки Заказать перевыпуск */
const VCardState_WM    = "WM___"; /* Состояние карточки Теплая                            */
const VCardState_OK    = "OK___"; /* Состояние карточки Активная                          */
const VCardState_NA    = "NA___"; /* Состояние карточки Блокирована                       */
const VCardState_BFINT = "BFINT"; /* Состояние карточки Бл - Кончается срок действия      */
const VCardState_FINT  = "FINT_"; /* Состояние карточки Кончается срок действия           */
const VCardState_OffPc = "OFFPC"; /* Состояние карточки Заказана в ПЦ                     */
const VCardState_REC   = "REC__"; /* Состояние карточки Подлежит выдаче                   */
const VCardState_ORDOV = "ORDOV"; /* Состояние карточки Подлежит перевыпуску              */
const VCardState_BORDO = "BORDO"; /* Состояние карточки Подлежит перевыпуску блокированная*/
const VCardState_OVER  = "OVER_"; /* Состояние карточки Перевыпущена                      */
const VCardState_BOVER = "BOVER"; /* Состояние карточки Перевыпущена блокированная        */
const VCardState_MayOv = "MAYOV"; /* Состояние карточки Может перевыпуститься             */
const VCardState_BMayO = "BMAYO"; /* Состояние карточки Может перевыпуститься блокиров.   */
const VAccState_OK     = "OK___"; /* Состояние счета Активный                             */
const VAccState_NA     = "NA___"; /* Состояние счета Блокирован                           */
const VAccState_CLS    = "CLS__"; /* Состояние счета Закрыт                               */
const VLinkState_NORD  = "NORD_"; /* Состояние связи Сообщить в ПЦ                        */
const VLinkState_OK    = "OK___"; /* Состояние связи Активная                             */
const VLinkState_CLS   = "CLS__"; /* Состояние связи Закрыта                              */
const VMailState_Error = "ERROR"; /* Сеанс связи с глобальной ошибкой                     */
const VMailState_WithE = "WITHE"; /* Сеанс связи с локальной ошибкой                      */
const VMailState_OK    = "OK___"; /* Успешный сеанс связи                                 */
const VTranState_CON   = "CON__"; /* Подтвержденная транзакция                            */
const VTranState_PAY   = "PAY__"; /* Оплаченая транзакция                                 */
const TypeLIMIT        = "LIMIT"; /* Тип свойства или группы - лимиты                     */
const AK_DEPSC         = 110;     /* Проводка "Оплата транзакции без уведомления ПЦ"      */
const D_AR             = 8;       /* Операция "Архивная проводка по счету Вкладчика"      */
const D_ARC            = 9;       /* Операция "Архивная корректировка по счету Вкладчика" */
const D_IN             = 1;       /* Операция "Приход по счету (кредит)"                  */
const D_OUT            = 2;       /* Операция "Расход по счету (дебет)"                   */
const DOPEN            = "";      /* Открытые объекты                                     */
const DCLOSE           = "З";     /* Закрытые объекты                                     */
const OnGroup          = 1;       /* Ссылка на группу                                     */
const OnProperty       = 2;       /* Ссылка на свойство                                   */
const NoError          = "00";    /* Расшифровка сеанса связи без ошибки                  */

/* -------------------- Параметры операций STB -------------------- */
const Oper_NewCard       = "01";  /* Ввести новую карточку                  */
const Oper_Limit         = "02";  /* Изменить лимиты                        */
const Oper_OverCard      = "10";  /* Перевыпустить карточку                 */
const Oper_CloseCard     = "04";  /* Удалить карточку                       */
const Oper_InfCard       = "05";  /* Получить информацию по карточке        */
const Oper_Fee           = "06";  /* Плата за обслуживание                  */
const Oper_Client        = "07";  /* Изменить данные о клиенте              */
const Oper_PIN           = "08";  /* Изменить PIN-OFFSET                    */
const Oper_AddLink       = "11";  /* Добавить счет                          */
const Oper_CloseLink     = "14";  /* Удалить счет                           */
const Oper_InfAcc        = "15";  /* Получить информацию об атрибутах счета */
const Oper_MainAcc       = "17";  /* Назначить главный счет                 */
const Oper_NoBlock       = "21";  /* Разблокировать карточку                */
const Oper_Block         = "24";  /* Заблокировать карточку                 */
const Oper_InfoStateCard = "25";  /* Информация о состоянии карточки        */
const Oper_IncrRest      = "31";  /* Увеличить остаток                      */
const Oper_DecrRest      = "34";  /* Уменьшить остаток                      */
const Oper_InfRest       = "35";  /* Информация об остатке на счете         */
const Oper_SetRest       = "37";  /* Установить остаток                     */
const Oper_StateAcc      = "32";  /* Изменить статус счета                  */
