/*
$Name:           UCS_CONNECT.mac
$Module:         UCS
$Description:    Соединение с UCS
*/

import rcw;
//var HttpURLConnection = "http://localhost:8101";
macro UCS_Exchange(req:string,resp:String,HttpURLConnection)
    private var jvm = CreateObject("rsjvm", "TJavaHost", "GlobalJavaHost");
    private var httpConnect = jvm.createJavaObject("ru.softlab.rsretail.HttpConnection");
    var props:Tarray =  Tarray();
    var error = httpConnect.execute(HttpURLConnection,"POST","UTF-8","text/xml",req,props);    //
    if(Not error)
        SetParm(1,httpConnect.getResponce());
    end;
    return error;
end;

                                                                                                                       