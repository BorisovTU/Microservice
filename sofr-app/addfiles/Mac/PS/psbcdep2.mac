//-----------------------------------------------------------------------------
// Блок     : "Депонирование п/п/к"
// Шаг      : "Исполнение дочернего документа"
// Описание : Макрос шага
//-----------------------------------------------------------------------------

import PaymInter, PSInter;

var PaymentObj:RsbPayment;

MACRO ExecuteStep( doc, paymDoc )
  var BuyOrder:object = GenObject("RsbBuyCurrencyOrder", PaymentObj.DocumentID);
  if( BuyOrder )
    BuyOrder.WriteOffAmount = PaymentObj.PayerAmount;
  end;
  return 0;
END;