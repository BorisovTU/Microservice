import "ws_ProcessDeals.mac";

      private var xml_string =
"                       &lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?&gt; "+
"                        &lt;IFX&gt; "+
"                          &lt;ProcessDeals_req&gt; "+
"                            &lt;ReqID&gt;5599-56588466-5546885564&lt;/ReqID&gt; "+
"                            &lt;SenderId&gt;RADIUS&lt;/SenderId&gt; "+
"                            &lt;DealList&gt; "+
"                              &lt;DealParm&gt; "+
"                                &lt;IdentityDeal&gt; "+
"                                  &lt;ActionType&gt;1&lt;/ActionType&gt;  "+
"                                  &lt;ExternalID&gt;185493&lt;/ExternalID&gt; "+
"                                  &lt;TSBrief&gt;DEALING 3000&lt;/TSBrief&gt; "+
"                                  &lt;DealID&gt;SPT:2358523&lt;/DealID&gt; "+
"                                  &lt;DealKind&gt;TOM&lt;/DealKind&gt; "+
"                                  &lt;DealDate&gt;2018-10-31&lt;/DealDate&gt; "+
"                                  &lt;DealTime&gt;2018-10-31T16:10:16&lt;/DealTime&gt; "+
"                                  &lt;DealCaptureTime&gt;2018-10-31T16:10:16&lt;/DealCaptureTime&gt; "+
"                                  &lt;DealCorrectTime&gt;2018-10-31T16:10:16&lt;/DealCorrectTime&gt; "+
"                                  &lt;BuySell&gt;Sell&lt;/BuySell&gt; "+
"                                  &lt;Netting&gt;false&lt;/Netting&gt; "+
"                                  &lt;ConversationID&gt;243736&lt;/ConversationID&gt; "+
"                                  &lt;ConversationText&gt; "+
"									# SPOT CNF "+
"									SERGEY> HIHI FRDS GA PLS "+
"									# FIL> HIHI FRNDS "+
"									# TO CONFIRM AT 74.43 I SELL 500 000 EUR AG RUB "+
"									# VAL 01NOV2018  "+
"									# NETTING "+
"									# ALL AGREED? "+
"									# "+
"									ALL AGREED "+
"									NETTING "+
"									TKS TRADE BIBI "+
"									# THANK YOU VERY MUCH FOR THE DEAL AND BIBI "+
"									# "+
"									# #END LOCAL# "+
"									^ ## TKT EDIT OF CNV 12114 BY FIL 1310GMT 31OCT2018 "+
"									^ COMMENT - ARBT "+
"									^ COMMENT - NETTING "+
"									^ STATUS CONFIRMED "+
"									^ ##ENDED AT 13:10 GMT## "+
"								  &lt;/ConversationText&gt; "+
"                                  &lt;Comment&gt;C#12114 ARBT   NETTING&lt;/Comment&gt; "+
"                                &lt;/IdentityDeal&gt; "+
"                                &lt;DealData&gt; "+
"                                  &lt;CurrencyDeal&gt; "+
"                                    &lt;PairsName&gt;EUR/RUB&lt;/PairsName&gt; "+
"                                   &lt;CurrencyDeals&gt;EUR&lt;/CurrencyDeals&gt; "+
"                                    &lt;Rate&gt;74.43&lt;/Rate&gt; "+
"                                    &lt;RateDirection&gt;D&lt;/RateDirection&gt; "+
"                                    &lt;RateQutationUnit&gt;1&lt;/RateQutationUnit&gt; "+
"                                    &lt;IsNostro&gt;true&lt;/IsNostro&gt; "+
"                                    &lt;IsDerivative&gt;false&lt;/IsDerivative&gt; "+
"                                    &lt;Bnote&gt;false&lt;/Bnote&gt; "+
"                                    &lt;Details&gt;&lt;/Details&gt; "+
"                                    &lt;Payments&gt; "+
"                                      &lt;ValueDate1&gt;2018-11-01&lt;/ValueDate1&gt; "+
"                                      &lt;ValueDate2&gt;2018-11-01&lt;/ValueDate2&gt; "+
"                                      &lt;Amount1&gt;-500000.00&lt;/Amount1&gt; "+
"                                      &lt;Amount2&gt;37215000.00&lt;/Amount2&gt; "+
"				      &lt;Netting&gt;true&lt;/Netting&gt; "+
"                                    &lt;/Payments&gt; "+
"                                  &lt;/CurrencyDeal&gt; "+
"                               &lt;/DealData&gt; "+
"                                &lt;PartyDealList&gt; "+
"                                  &lt;PartyDeal&gt; "+
"                                    &lt;PartyKind&gt;2&lt;/PartyKind&gt; "+
"                                    &lt;PartyIDKind&gt;0&lt;/PartyIDKind&gt; "+
"                                    &lt;PartyUId&gt; "+
"                                     &lt;SystemId&gt;Radius&lt;/SystemId&gt;     "+
"                                     &lt;SystemNodeId&gt;CPTY&lt;/SystemNodeId&gt; "+
"                                     &lt;ObjectId&gt;VTBX&lt;/ObjectId&gt;     "+
"                                    &lt;/PartyUId&gt; "+
"                                    &lt;PartyCode&gt;VTBX&lt;/PartyCode&gt; "+
"                                    &lt;PartyFullName&gt;VTB BANK MOSCOW&lt;/PartyFullName&gt; "+
"                                    &lt;PartyShortName&gt;VTBX&lt;/PartyShortName&gt; "+
"                                  &lt;/PartyDeal&gt; "+
"			          &lt;PartyDeal&gt; "+
"                                    &lt;PartyKind&gt;3&lt;/PartyKind&gt; "+
"                                    &lt;PartyIDKind&gt;0&lt;/PartyIDKind&gt; "+
"                                    &lt;PartyUId&gt; "+
"                                     &lt;SystemId&gt;Radius&lt;/SystemId&gt;     "+
"                                     &lt;SystemNodeId&gt;FOLDER&lt;/SystemNodeId&gt; "+
"                                     &lt;ObjectId&gt;ABARANV_FX&lt;/ObjectId&gt;     "+
"                                    &lt;/PartyUId&gt; "+
"                                    &lt;PartyCode&gt;ABARANV_FX&lt;/PartyCode&gt; "+
"                                    &lt;PartyFullName&gt;ARBITRAGE BARANOV FX&lt;/PartyFullName&gt; "+
"                                    &lt;PartyShortName&gt;ABARANV_FX&lt;/PartyShortName&gt; "+
"                                  &lt;/PartyDeal&gt; "+
"                                &lt;/PartyDealList&gt; "+
"                                &lt;PayInstrList&gt; "+
"                                  &lt;PayInstr&gt; "+
"                                    &lt;PayInstrKind&gt;1&lt;/PayInstrKind&gt; "+
"                                    &lt;!-- Получить RUB --&gt; "+
"                                    &lt;PayInstr&gt;30102810700000000001&lt;/PayInstr&gt; "+
"                                    &lt;PayComment&gt;Ностро-счет Банка, с которого/на который будут перечислены деньги в первой валюте&lt;/PayComment&gt; "+
"                                  &lt;/PayInstr&gt; "+
"                                  &lt;PayInstr&gt; "+
"                                    &lt;PayInstrKind&gt;2&lt;/PayInstrKind&gt; "+
"                                    &lt;!-- Заплатить EUR --&gt; "+
"                                    &lt;PayInstr&gt;30114978700000000009&lt;/PayInstr&gt; "+
"                                    &lt;PayComment&gt;Ностро-счет Банка, с которого/на который будут перечислены деньги во второй валюте&lt;/PayComment&gt; "+
"                                  &lt;/PayInstr&gt; "+
"                                &lt;/PayInstrList&gt; "+
"                              &lt;/DealParm&gt; "+
"                            &lt;/DealList&gt; "+
"                          &lt;/ProcessDeals_req&gt; "+
"                        &lt;/IFX&gt; ";

var result_str = "";

result_str = ProcessDeals(xml_string);
println(result_str);

end;