/*-------------------------------------------------*/
/* Описание объектов, общих для различных сервисов */
/*-------------------------------------------------*/

//
class c_IntegrSymId()
   var ObjectId     : string
      ,SystemId     : string
      ,SystemNodeId : string;
end;

//
class c_IntegrDictRec()
   var RecordCode     : string
      ,RecordTitle    : string
      ,Note           : string
      ,SystemId       : string
      ,SystemNodeId   : string
      ,Desc           : string
      ,DictionaryCode : string;
end;

// описание ошибки
class c_Error
   var ErrorCode : string;  // Код результата, обязательное: Нет
   var ErrorDesc : string;   // Поясняющий текст, обязательное: Нет
end;

// параметры ответа
class c_SOFR_ClientCreateLE_resp (IncomeData)
   var ResultCode            : integer;  // Код результата "0 = успех 1 = ошибка", обязательное: Да
   var MasterRecordId     ; //   : c_IntegrationSymbolicIdentifierXType;   // Идентификатор субъекта в СОФР, обязательное: Нет
   var OperationalRecordId; //   : c_IntegrationSymbolicIdentifierXType;   // Идентификатор клиента в АБС, обязательное: Да
   //var ErrorList = TArray;             // Список ошибок, обязательное: Нет
   var ErrorList;
 end;

// параметры ответа
class c_ClientCreateLEResponseMsg()
   var ClientCreateLEResponse = c_SOFR_ClientCreateLE_resp; // имя строго по названию тега
end;

// параметры ответа
class c_ClientCreateLE_outObj()
   var ClientCreateLEResponseMsg = c_ClientCreateLEResponseMsg; // имя строго по названию тега
end;

// параметры ответа
class c_SOFR_SetPerson_resp (IncomeData)
   var ResultCode : integer;  // Код результата "0 = успех 1 = ошибка", обязательное: Да
   var RequestId      ; //: string;   // ИдентификаторЗапроса. Равен идентификатору во входящем сообщении, обязательное: Да
   var ClientId       ; //: string;   // Уникальный идентификатор клиента в СОФР, обязательное: Нет
   //var ErrorList = TArray;             // Список ошибок, обязательное: Нет
   var ErrorList;
   var MarketCodeList;                   // BIQ-7426 Гераськина Т.В. Блок с кодами ЕКК договоров клиента, обязательное: Нет
 end;

// параметры ответа
class c_SetPersonResponseMsg()
   var SetPersonResponse = c_SOFR_SetPerson_resp; // имя строго по названию тега
end;


// параметры ответа
class c_SetPerson_outObj()
   var SetPersonResponseMsg = c_SetPersonResponseMsg; // имя строго по названию тега
end;


// параметры ответа
class c_ActiveContractResp (IncomeData)
  var ResultCode : string;   // обязательное: Да
  var Error;
  var DossierId;
end;

// параметры ответа
class c_ActiveContract_outObj()
   var ActiveContractResp = c_ActiveContractResp; // имя строго по названию тега
end;

// Наименования
class adp_Names(IncomeData)  
  var PartyNameID : integer;  /* Код вида наименования */
  var Name        : string;   /* Псевдоним  */
end;

// Категории
class adp_Categories(IncomeData)
   var GroupID:integer;
   var Value:String;
   var IsSingle:bool;
   var Dt:Date;
end;


// BIQ-7313
// Информация о счете
class c_BrokerAccountDBO
   var AccountNumber : string;   // Номер счета    Да
   var Saldo         : string;   // Баланс счета   Да
//biq-10484
   var Saldo_T0      : string;   
   var Saldo_T1      : string;
   var Saldo_T2      : string;
   var Saldo_Tx      : string;
   var SaldoRub      : string;

end;

// Ценные бумаги
class c_Securities
   var SecuritiesName         : string;   // Наименование инструмента   Да
   var SecuritiesISIN         : string;   // ISIN инструмента           Да
   var SecuritiesAmount       : string;   // Количество, шт             Да
   var SecuritiesCost         : string;   // Стоимость                  Да
   var SecuritiesCurrencyCode : c_IntegrDictRec;   // Валюта                     Да
   var SecuritiesCostRub      : string;   // Стоимость в рублях
end;

// Инструмент срочного рынка
class c_Futures
   var FuturesNumber    : string;   // Номер инструмента          Да
   var FuturesName      : string;   // Наименование инструмента   Да
   var FuturesQuantity  : string;   // Количество, шт             Да
   var FuturesType      : c_IntegrDictRec    // Тип инструмента            Да
end;

// Информация о счете ДЕПО
class c_DepoAccount
   var DepoAccountNumber : string;   // Номер счета ДЕПО           Да
   var Securities;                   // Ценные бумаги              Да
end;

class c_TradingPlatform
   var TradingPlatformName : string;   // Название площадки    Да
   var ClientCode          : string;   // Единый код клиента   Да
   var BrokerAccountList;                 // Информация о счетах        Нет
   var DepoAccountList;                   // Информация о счетах ДЕПО   Нет
end;

// BIQ-8786 тарифные планы
// Тариф обслуживания
class c_Tariff
   var IsIndividual  : bool;  // Флаг индивидуального тарифа   Да    true - признак "индивидуальный" установлен
                              //                                     false - признак "индивидуальный" не установлен
   var Comment       : String;// Комментарий к ТП на русском языке  Нет
   var Description   : String;// Справочное описание тарифа         Нет
   var IsHidden      : bool;  // Признак скрытого тарифа (если true - тариф не отображается клиентам и на UI СОФРа) Нет  true - признак "скрытый" установлен
                              //                                                                                         false - признак "скрытый" не установлен
   var BeginDate     : date;  // Дата начала действия тарифаного плана  Нет
   var EndDate       : date;  // Дата окончания действия тарифного плана. Пустая String либо 01.01.0001 - неограничено  Нет
   var BindDate      : date;  // Дата привязки тарифного плана к клиентскому договору. Применимо для сообщений изменяющих ТП.       Нет
   var UnbindDate    : date;  // Дата прекращения действия правил ТП в ЦФТ/СОФРЕ. Техническая отвязка происходит за -3D (рабочих)   Нет
   var TariffId;              // Идентификатор тарифа в системе хранения (СОФР)  Да    Идентификатор
   var TariffKind;            // Вид тарифа                    Да    Справочник  Передаваемые значения в рамках 8786: BROKERAGE; REPO; UNDEFINED
   var TariffPlan;            // Наименование тарифного плана  Да    Справочник
end;

// Контракт
class c_BrokerContract
   var BrokerContractNumber   : string;   // Номер договора             Да
   var BrokerContractDate     : date;     // Дата договора              Да
   var BrokerContractStatus   : string;   // Статус договора            Да
   var BrokerRightUseStock    : integer;  // Признак предоставления брокеру права использования ценных бумаг в его интересах 1 - да, 2 - нет
   var IsIISContract          : bool;     // Признак ИИС                Да 
   var IsAvailabilityInfo     : bool;     // Признак намерений перевода активов ИИС3 от другого проф участника   Нет
   var IISType                : string;   // Тип ИИС. По ИИС нового типа будет передаваться строка "ИИС3"   Нет
   var TransformationDate     : date;     // Дата трансформации ИИС     Нет
   var IsSelectImperfectTransactions : bool; // Признак выбора необеспеченных сделок   Да
   //var IsConsolidatedCashPosition: bool;  // Признак наличия ЕДП	Нет
   var TradingPlatformList;               // Список торговых площадок   Да
   //var MainCurrencyCode       : c_IntegrDictRec;   // Основная валюта            Нет
   var FuturesList;                       // Инструменты срочного рынка Нет
   // BIQ-8786 тарифные планы
   var TariffList;      //Список тарифов    Да
end;

// Клиентские данные
class c_ClientInfo()
//shev biq-14177
   var ClientLogin:string;    //логин клиента для доступа к ИТС
   var FilialId   :c_IntegrSymId;    // Код филиала          Да
   var ClientId   :c_IntegrSymId;    // ID клиента в АБС     Да
   var BrokerContractList;    // Контракты            Нет
end;

class c_GetBrokerContractInfo()
   var ReportDate  : datetime;    // Дата формирования ответа   Да
   var ClientInfo;                // Клиентские данные          Да
   
   private macro uInitPrime()
      ReportDate = dttm(date(), time());
      ClientInfo = c_ClientInfo();
   end; 

   uInitPrime();
end;

class c_GetBrokerContractInfoResp()
   var GetBrokerContractInfo;    // информация по клиенту
   var ErrorList;                // список ошибок
   
   private macro uInitPrime()
      GetBrokerContractInfo = c_GetBrokerContractInfo();
      ErrorList = NULL;
   end; 

   uInitPrime();
end;

class c_BrokerContractInfo_outObj()
   var GetBrokerContractInfoResp = c_GetBrokerContractInfoResp; // имя строго по названию тега
end;

// BIQ-7426 Гераськина Т.В.
// класс для ЕКК
class c_MarketCode()
  var ContractNumber: string; // по схеме принимающей системы необзяательное
  var MarketCodeMOEX;
  var MarketCodeSPB; 
end;

class c_InsertPersonOut()
  var ClientID;
  var ErrorList;
  var MarketCodeList;
end;


// BIQ-7041 Обновление информации о договоре БО/ИИС в Диасофт
class c_ContractParams_UpdateDepo()
   var ContractNumber               :string;                               // Номер договора                            Да
   var ClientCodeSPBEX              :string;                               // Единый код клиента на СПБ                 Нет
   var ClientRegistrationCodeSPBEX  :string;                               // Регистрационный код участника торгов СПБ  Нет
   var ClientId                     :c_IntegrSymId; // Код клиента в АБС                         Да
   var ContractId                   :c_IntegrSymId; // Id договора в СОФР                        Да
end;

class c_BrokInfoUpdate
   var ContractParameters;    // Параметры договора      Контейнер
end;


// BIQ-9185
// тесты квал.инвестора
class c_SendAccreditationStatusResp
   var ErrorList;                // список ошибок
end;

class c_SendAccreditationStatus_outObj
   var SendAccreditationStatusResp = c_SendAccreditationStatusResp; // имя строго по названию тега
end;


// BIQ-7294
// Сервис передачи данных для пересчета НОБ
class c_SendTaxRecalculationSOFRResp
   var ErrorList;                // список ошибок
end;

class c_SendTaxRecalculationSOFRResp_outObj
   var SendTaxRecalculationSOFRResp = c_SendTaxRecalculationSOFRResp; // имя строго по названию тега
end;