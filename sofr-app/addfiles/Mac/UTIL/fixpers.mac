
/* 
 *  Подправляет person.dbt 
 *  ( что необходимо в связи с вводом флага доступа к наличным в кассе )
 */

file Person( "person.dbt", "bank.def" ) key 0 write;

const
  TP_DESK_NO    = "",            /* Не определен                  */
  TP_DESK_ADM   = "А",           /* Администратор системы         */
  TP_DESK_ADMIN = "З",           /* Зав.кассой (администратор)    */
  TP_DESK_OPER  = "О",           /* Контролер                     */
  TP_DESK_CASH  = "К",           /* Кассир                        */
  TP_DESK_PANTRY= "Л",           /* Кладовщик                     */
  TP_DESK_CONR  = "Р";           /* Ревизор (управляющий)         */

  Rewind( Person );
  while ( Next( Person ) )
    if ( Person.cTypeInDesk == TP_DESK_CASH )
      Person.CanWorkWithCurrencyRes = "X";
      Update( Person );
      [ Пользователь #### - разрешена работа с наличными ]( Person.Oper );
    end;
  end;
end; 
  
 
  
