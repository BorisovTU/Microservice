/*! Операция Регистрация исковой ситуации */

import stforcel, classes;
import globOp;

class (TOperationExecutor) TRegClaimOperation( opObj )

  var contr = operation.contract;

  macro inputClients()      
    return true;
  end;

  macro createDocuments()

    var dsDoc;
    var stat = true;
    
    if( contr.isClaimRegistered )
      PushErrorMessage( "По договору уже зарегистрирована исковая ситуация" );
      return false;
    end;

  /* формируем документ Регистрация исковой ситуации */ 
    dsDoc = operationObj.newDsDoc(1); 
    operationObj.docList.insert(dsDoc);

    return true;
  end;

  InitTOperationExecutor( opObj );
end;

/************************ Основная программа **********************************/
var obj = TRegClaimOperation ( operation );

  obj.runOp();

end;

