/******************************************************************************\

		Макрос по расчету штрафа за просрочку: % за день
	
			Программист: Крестьянинов Е.А.

\******************************************************************************/
import DeprIntr,CommonInter,getstsum, stpencls;

const ProcentForDay = 0.3; /* Процентная доля арендной платы за весь срок аренды */

macro GetPenalty(Contract,Tarif)

var Sum = $0,penDays = 0, SumForPeriod = $0;

  penDays = GetPenaltyDays( Contract );
  penDays = PenDays - Tarif.rec.PrivilegeDays;
  SumForPeriod = GetSum(Contract,Tarif);

  if( penDays > 0 )
    Sum = money(ProcentForDay * SumForPeriod * penDays / 100);
  else
    penDays = 0;
  end;

  return String( Sum ) + "|" + String( penDays );
end;