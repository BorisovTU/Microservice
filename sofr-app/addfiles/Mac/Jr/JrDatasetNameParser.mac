/*
$Name:          JrDatasetNameParser.mac
$Module:        JasperReports
$Description:   Класс парсера полного имени ИД (bean-объекта)
*/

class TJrDatasetNameParser(datasetName)
    var m_fullName;
    var m_data;

    macro getFullName()
        return m_fullName;
    end;

    macro getObjectName()
        return m_data[m_data.size-1];
    end;

    macro getPackageName()
        return substr(m_fullName, 1, strlen(m_fullName)-strlen(getObjectName())-1);
    end;

    private macro constructorTJrDatasetNameParser(datasetName)
        m_fullName = datasetName;
        m_data = strcut(datasetName, ".");
    end;

    constructorTJrDatasetNameParser(datasetName);
end;
