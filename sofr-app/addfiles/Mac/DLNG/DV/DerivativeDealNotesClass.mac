//DerivativeDealNotesClass.mac
//Класс по работе с примечаниями сделок срочного рынка
import "NotesCommonClass.mac", globals;

class (NotesCommonClass) DerivativeDealNotesClass (dealid:integer)
  private var codeTSNoteKind:integer = 101;
  private var requestTypeNoteKind:integer = 102;

  private macro Init(dealid:integer)
    documentID = string(dealid:34:o);
    logger = NewLogger(c_logger.IT_LOG_TYPE, "DERIVATIVEDEALNOTESCLASS.MAC");
    objectType = 140; //OBJTYPE_OPER_DV
  end;

  macro SaveCodeTS(value:string, dt:date)
    return SaveNote(codeTSNoteKind, value, dt);
  end;

  macro SaveRequestType(value:string, dt:date)
    return SaveNote(requestTypeNoteKind, value, dt);
  end;

  Init(dealid);
end;