/*
$Name: ul_forex_deal.mac
$Module: Универсальный загрузчик
$Description: Выходная структура сделки КО
*/

IMPORT "globals.mac";

CLASS FRX_DEALPART
  VAR
      LegNumber    = "",          //Идентификационный номер сделки, который будет использоваться для генерации номеров лицевых счетов для учета сделки
      BaseFIID     = -1,          //Финансовый инструмент базового актива
      Principal    = Money(0),    //Сумма базового актива
      BaseDate     = Date(0,0,0), //Дата валютирования по базовому активу
      BaseBankID   = -1,          //Идентификатор банка получателя по базовому активу
      BasePI       = "",          //Платежная инструкция в свободном формате
      ContrFIID    = -1,          //Финансовый инструмент контрактива
      Cost         = Money(0),    //Сумма контрактива
      ContrDate    = Date(0,0,0), //Дата валютирования по контрактиву
      ContrBankID  = -1,          //Идентификатор банка получателя по контрактиву
      ContrPI      = "",          //Платежная инструкция в свободном формате
      Price        = Double(0),   //Курс сделки
      Scale        = 1,           //Масштаб курса
      RevRate      = "";          //Признак обратной котировки
end;

CLASS UL_FOREX_DEAL
  VAR
      DealType    = 0,              //Вид сделки
      DealDate    = Date(0,0,0),    //Дата заключения сделки
      DealTime    = Time(),         //Время заключения сделки
      DealCode    = "",             //Номер, под которым сделка будет зарегистрирована в бэк-офисе
      TradeSystem = 0,              //Идентификатор торговой системы
      DealCodeTS  = "",             //Номер, присвоенный сделке в торговой системе
      Netting     = 0,              //Признак участия в неттинге
      TypeDoc     = "",             //Тип сделки (обозначение направления движения валюты)
      DealPart    = FRX_DEALPART(), //Сделка "Покупка", "Продажа" или первая часть сделки СВОП
      RevDealPart = FRX_DEALPART(), //Вторая часть сделки СВОП (не заполняется при сделках "Покупка", "Продажа")
      PartyID     = -1,             //Идентификатор контрагента по сделке
      BrokerID    = -1,             //Идентификатор брокера
      ClientID    = -1,             //Идентификатор клиента, по поручению которого была совершена сделка
      IndocID     = 0,              //Номер поручеиня клиента, на основании которого была заключена сделка
      UserTypeDoc = "",             //Пользовательский тип сделки
      NumberPack  = 0,              //Номер пачки
      TraderID    = -1,             //Номер дилера, заключившего сделку
      Department  = {OperDprt},     //Номер филиала, для которого вводится сделка
      OriginID    = 0,              //Идентификатор приложения (комплекса), из которого поступила сделка
      Comment     = "",             //Текст комментария к сделке
      ConfTpID    = 0,              //Идентификатор транспорта отправки подтверждений
      DealCodePS  = "";             //Код сделки в системе подтверждений
END;

