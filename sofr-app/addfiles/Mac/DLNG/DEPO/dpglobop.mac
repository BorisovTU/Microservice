/*
$Name: dpglobop.mac
$Module: Депозитарий
$Description: Инициализация глобальной операции
*/
import BankInter, DPInter, SPInter, Payments, Globals, deposerv, "dprstrsc.mac";


var GlobolCounterStep30 = 0; //глобальный счетчик шага "Отражение операции по счетам"
var StorDepoAccStep30   = 0; //счет депо места хранения на шаге "Отражение операции по счетам"
var Progress = CProgressBar;

record Dpcorpop   ( dpcorpop );
record OldDpcorpop( dpcorpop );


/* Установка подсказки для скролингов из макроса */
PRIVATE MACRO УстановитьПодсказку( TableName:string, IndexNum:integer, DefaultHint:string, ScrolStatus:integer, ScrolKind:integer ):string
  //  Возможные значения ScrolStatus:
  // 0,  //все       
  // 1,  //отложенное
  // 2,  //открытое  
  // 3   //закрытое  
  
  //  Возможные значения ScrolKind:
  // DP_DEPOPER_CONVERT       852, // "Поручение на конвертацию ц/б"             
  // DP_DEPOPER_REPAY         854, // "Поручение на погашение (анулирование) ц/б"
  // DP_DEPOPER_BONEMISS      856, // "Поручение на бонусную эмиссию ц/б"        
  // ALL_KIND_OF_DOC          0,   // Все

  //пример
  //return "/*+FIRST_ROWS LEADING(t) INDEX(t ddpcorpop_dbt_idx0)*/";

  return DefaultHint;

END;

private macro Функция_Пользователя( )
  MsgBox( "Выполняется макрофункция \"dpglobop.mac\\ Функция_Пользователя\"." );
  return 0;
end;