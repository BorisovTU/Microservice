/************************************************************************/
/*-    ОПРЕДЕЛЕНИЕ БЛОКИРОВОК ПО НОМЕРАМ БАЛАНСОВЫХ СЧЕТОВ             -*/
/*----------------------------------------------------------------------*/
/*-  Programmer: Alex V. Mishin                                        -*/
/*-  Creation:   18.04.2002                                            -*/
/************************************************************************/

/*Import BankInter, DPInter, "makenum.mac";*/

/*
Процедура определяет значения блокировки по данному номеру балансового счета

Передаваемый параметр:
Balance - номер балансового счета

Возвращаемое значение - строковый вариант номера блокировки,
в случае проблем возвращает "-1" или пустую строку
*/
macro GetBlockbyBalance( Balance )
  var Block = -1;

  if( ( Balance == "98000" ) OR
      ( Balance == "98010" ) OR
      ( Balance == "98015" ) OR
      ( Balance == "98040" ) OR
      ( Balance == "98050" ) OR
      ( Balance == "98060" ) OR
      ( Balance == "98065" )
    )
    Block =   0; /* Стандартная */
  elif( ( Balance == "98020" ) OR 
        ( Balance == "98035" )
      )
    Block =  63; /* Хранятся обособленно */
  elif( Balance == "98030" )
    Block = 102; /* Изъяты */
  elif( Balance == "98053" )
    Block =  23; /* Переданы для реализации */
  elif( Balance == "98055" )
    Block =  24; /* В доверительном управлении */
  elif( Balance == "98070" )
    Block =  32; /* Блокированы администрацией */
  elif( Balance == "98080" )
    Block =  27; /* Избыток */
  elif( Balance == "98090" )
    Block =  51; /* Не размещены */
  end;

  if( Block == -1 )
    msgbox( "Неверный балансовый счет - невозможно определить блокировку" );
  end;

  return string( Block );
end;
