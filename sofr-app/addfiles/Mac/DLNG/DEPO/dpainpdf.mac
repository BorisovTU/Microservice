/**************************************************************************/
/*- "Учет актива в пассиве"                                              -*/
/*- Макрофункция разнесения по умолчанию суммы операции на суммы счетов  -*/
/*------------------------------------------------------------------------*/
/*- Programming: Alex V. Mishin                                          -*/
/*- Creation: 24.01.2003                                                 -*/
/**************************************************************************/


private macro ConnectBuff( b1, b2 )
  var type = ValType(b2);

  if( (type == V_DBFFILE) or (type == V_STRUC) or (type == V_GENOBJ) ) 
    copy( b1, b2 );
  else 
    SetBuff( b1, b2); /*Для передачи из С*/
  end;
end;


private macro Minimum( A, B )
  if( A < B )
    return A;
  else
    return B;
  end;
end;


macro DefineAinPDefaultSum( RestSum, dpsubdc_addr )
  record dpsubdc("dpsubdc.dbt");

  ConnectBuff(dpsubdc, dpsubdc_addr);

  return Minimum(RestSum, dpsubdc.Rest);
end;

