
/* Панель корректировки суммы комиссии в операции расчёта СНП */

IMPORT "DlForms_h.mac", "DlRepForm_h.mac";

CONST PNFLD_TYPE_COM  = 0,
      PNFLD_CACL_SUM  = 1,
      PNFLD_SUM       = 2;

CLASS (DL_CPanel) TS_CorrCom()

  PRIVATE MACRO Init()
     AddFieldProc( 0, PNFLD_TYPE_COM,  DL_USERFIELD,  NULL, 0 );
     AddFieldProc( 0, PNFLD_CACL_SUM,  DL_USERFIELD,  NULL, 0 );
     AddFieldProc( 0, PNFLD_SUM,       DL_USERFIELD,  NULL, 0 );
  END;

  PRIVATE MACRO Check():BOOL
     var RetVal = true;
     if( Data().rec.Sum < 0.0 )
        RetVal = false;
     end;
     return RetVal;
  END;

  initDL_CPanel( "trust.lbr", "PCORSCOM" );
END;