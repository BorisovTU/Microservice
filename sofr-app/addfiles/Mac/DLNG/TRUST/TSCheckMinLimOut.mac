/* Проверка ограничения */
/* Минимальная допустимая сумма вывода капитала */

MACRO TS_CheckLimit(Val:double, CheckVal:double, OrderFD, MngPlan):bool

   var RetVal = true;

   if(CheckVal < Val)
      if( MsgBoxEx("Выводимая сумма нарушает ограничение плана управления по договору" + TS_IIF((OrderFD.Kind == TS_DOC_DPOFBU), " присоединения", "") +
                   ".\nМинимально допустимая сумма вывода капитала составляет <" + string(Val) + ">.| Продолжить выполнение?", MB_YES+MB_NO, IND_NO ) == IND_NO )
         RetVal = false;
      end;
   end;

   return RetVal;
END;