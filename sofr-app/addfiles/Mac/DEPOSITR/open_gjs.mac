import CommonInter,BankInter,deprintr,DeskInter,OperCode,InputRN,ChkPrn,IsSrvDoc,sbk_titl,getdocs,QueryRes,Alg_Vars;

  if (StrFor(GetProgramID) == "П")
     ALG_RESULT = OK_RES;
     return;
  end;

  private file GroupMem( "groupmem.dbt" ) key 0;
  private file regnum("reg_num.dbt") key 0;
  private file auxinfo("auxinfo.dbt") key 0 write;
  private file cashval("sb_casvl.dbt") key 1;
  private file cashdoc("sb_casdc.dbt") key 4;

  /*---------- Инициализируемые структуры ---------------------------------*/
  private record Parm(CashParm);


  private const TYPERES_VALFORM  = 2;
  private const CASHOP_CREDIT    = 6;
  private const VALFORM_GJS      = 482;
  private const SB_DEPOSIT       = 1;
  private const AI_GJS           = 18;  /* Тип для auxinfo.dbt для ГЖС */

  private var stat;
  private var summa = $0;
  private var FNCash = NumFNCash();

  ALG_SBDEPDOC.iApplicationKind = SB_DEPOSIT;
  ALG_SBDEPDOC.ApplicationKey = FormApplicationKey( ALG_SBDEPDOC.iApplicationKind );

  ClearRecord(Parm);
  Parm.Type=0;       /* Платежеспосбные ресурсы */
  Parm.TypeValue=TYPERES_VALFORM;
  Parm.CodIntValue=VALFORM_GJS;
  Parm.Oper=ALG_SBDEPDOC.Oper;
  Parm.OperPatern=ALG_SBDEPDOC.Oper;
  Parm.CashDateDoc={curdate};
  Parm.NumOper=CASHOP_CREDIT;
  Parm.ValueCol=1;
  Parm.NumbDocumCash=ALG_SBDEPDOC.NDoc;
  Parm.ApplicationKind=ALG_SBDEPDOC.iApplicationKind;
  Parm.ApplicationKey=ALG_SBDEPDOC.ApplicationKey;

  stat = InputRegNum(
    ALG_SBDEPDOC.Oper,
    Parm.Oper,
    TYPERES_VALFORM,
    VALFORM_GJS,
    "Введите номер бланка ГЖС:",
    Parm.Series, Parm.MinRegistrNumber, false );

  GetMoney( summa, "Укажите сумму ГЖС", 20 );

  if ( stat )
    stat = InitCashDoc(Parm);
  end;

  if ( stat )
    ClearRecord( auxinfo );
    auxinfo.Reference = ALG_DEPOSITOR.Referenc;
    auxinfo.InfoType  = AI_GJS;
    auxinfo.Date      = {curdate};
    auxinfo.FNCash    = FNCash;
    auxinfo.Info      = "SER.=" + Parm.Series + " " +
                        "NUM.=" + String( Parm.MinRegistrNumber ) + " " +
                        "SUM.=" + String( summa );
    stat = Insert( auxinfo );
  end;

  if ( stat )
    ALG_RESULT = OK_RES;
  else
    ALG_RESULT = ERR_RES;
  end;