/*
  RS-Retail

  Alg_Proc.mac

  Общие функции и алгоритмы
*/
/**********************************************************/

macro Alg_Proc_NewDepDoc
(
 Alg_Proc_Dep,  /* ВХОД:  строка счета */
 Alg_Proc_Doc   /* ВЫХОД: инициализированная строка документа */
)
/*
  Инициализация нового документа на основе счета
*/
  ClearRecord(Alg_Proc_Doc);
  Alg_Proc_Doc.Referenc         = Alg_Proc_Dep.Referenc;
  Alg_Proc_Doc.IsCur            = Alg_Proc_Dep.IsCur;
  Alg_Proc_Doc.FNCash           = Alg_Proc_Dep.FNCash;
  Alg_Proc_Doc.Account          = Alg_Proc_Dep.Account;
  Alg_Proc_Doc.Oper             = {oper};
  Alg_Proc_Doc.Type_Account     = Alg_Proc_Dep.Type_Account;
  Alg_Proc_Doc.Code_Currency    = Alg_Proc_Dep.Code_Currency;
  Alg_Proc_Doc.CodClient        = Alg_Proc_Dep.CodClient;
  Alg_Proc_Doc.YesSbook         = "X";
  Alg_Proc_Doc.Date_Document    = {curdate};
  Alg_Proc_Doc.DepDate_Document = {curdate};
  Alg_Proc_Doc.iApplicationKind = 1;
  Alg_Proc_Doc.ApplicationKey   = FormApplicationKey(1);

end;
