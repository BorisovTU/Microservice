file filez(rtfiles) key 9999;

macro ReportOnCleanUp(dateRep)

var
 ZeroDate = date(0, 0, 0);

 rewind(filez);
 println(" ");
 println("  Сегодня - дата очистки для следующих файлов:");
 println(" ");
 while(next(filez))
    if(filez.CleanUp and (filez.NextCleanUpDate <= dateRep) and (filez.NextCleanUpDate != ZeroDate))
      println(filez.NameFile);
    end;
 end;
/*
 rewind(filez);
 println(" ");
 println("  Не задан график очистки для следующих файлов:");
 println(" ");
 while(next(filez))
    if(filez.CleanUp and not filez.CleanUpAlg)
      println(filez.NameFile);
    end;
 end;
*/
end;