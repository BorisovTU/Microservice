/*
**  Вывод денежного значения в формате, принятом
**  в ордерах СБ (например, 48-50, 50=)
*/

macro MoneyWithHyphen( Sum )

  macro Ternary( Cond, V1, V2 )
    
    if ( Cond )
      return V1;
    else
      return V2;
    end;
  end;

  var
    S = String( Sum ),
    I = Index( S, "." ),
    Maj = SubStr( S, 1, I - 1 ),
    Min = String( Int( SubStr( S, I + 1 ) ) ),
    MinNoZeroes = Ternary( Int( Min ), Min, "" ),
    Delim = Ternary( Int( Min ), "-", "=" );

  return Maj + Delim + MinNoZeroes;     
end;

