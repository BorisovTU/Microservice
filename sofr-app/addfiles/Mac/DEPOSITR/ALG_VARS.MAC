/**************************************************************************\
*  ---------------------                                                   *
*  R-Style Software Lab.                                                   *
*  ---------------------                                                   *
*  RS-Retail                                                               *
*                                                                          *
*  Вклады                                                                  *
*                                                                          *
*  Глобальные переменные (структуры) при проведении операций по вкладам    *
*                                                                          *
*  Лебедев С.В.                                                            *
*  03.03.2000                                                              *
\**************************************************************************/
import all_vars;

record ALG_DEPCLNT   (depclnt );
record ALG_PAYER     (depclnt );
record ALG_DEPOSITOR (depositr);
record ALG_SBDEPDOC  (sbdepdoc);
record ALG_SBTRAST   (sbtrast);
record ALG_OPERPRM   ("oper_prm.1");
record ALG_PARAM     ("sb_algop.dbt");
record ALG_RET_OP    (ret_op);
record ALG_NFOPR     (rtnfopr);
record ALG_CARDPRODUCT (cardproduct);
var    ALG_COMDEPCLNT = Get_ALG_COMDEPCLNT ();
var    ALG_COMPAYER   = Get_ALG_COMPAYER   ();
var    ALG_CONTRACT   = Get_ALG_DEPCONTRACT(); 
var    ALG_CARDCONTRACT = Get_ALG_CARDCONTRACT(); 
record CUR_SBDEPDOC  (sbdepdoc);    /* Added by Martinov SCR 9049    */

const
  OK_RES   =  0,  /* продолжать проводку                            */
  SKIP_RES =  1,  /* пропустить выполнение предопределенного модуля */
  END_RES  =  2,  /* завершить проводку                             */
  ERR_RES  = -1;  /* аваpийно завершить проводку                    */

const
  UPDATE_COMCLNT = 16; /* Обновить файлы Единого клиента */

// #########################################################
//       Потомок TBFile
// В макросах, которые работают в Филиале и Последконтроле
// с файлами модуля "Обсл.физ.лиц" этот класс описывает
// файлы вместо TBFile, чтобы была возможность подмены
// файлов "Вкладов" файлами "Последконтроля"
//  Ромодин Александр Васильевич
//  18.02.2004
// #########################################################

class (TBFile) TDepFile (structName, mode, keyNum, fileName, dicName)
  macro getRealStructName (name)
    var retname = name;
      
    return retname;
  end;

  InitTBFile (getRealStructName(structName), mode, keyNum, fileName, dicName);
end;
