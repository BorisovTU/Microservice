/****************************************************************

  R-Style SoftLab.

  RS-Retail.

  Пример пользовательского макроса для договора по
  группам счетов.

  Вызывается по клавише Ctrl+Z из скроллинга договоров по
  группам счетов.

*****************************************************************/

// Структура записи договора по группам счетов.
record contract ( "trn_cntr.dbt"  );  

// Головная процедура.  Параметр Addr - адрес записи договора по группам счетов.
// Должна возвращать: 0 - успешно, сохранить изменения в записи договора по группам счетов.
//                    не 0 - ошибка выполнения макроса.
MACRO RunUserProcForTrnContract( Addr )

 SetBuff( contract, Addr );

 println( contract.NumberContract,     " | ", 
          contract.NameBusines,        " | ", 
          contract.ManagerBusines,     " | ", 
          contract.NameFounding,       " | ", 
          contract.FoundingBusinesNum, " | ", 
          contract.NameManager );  // Вывод параметров договора.

 contract.AdressBusines = "The Example.";  // Пример изменения в записи договора.

 return 777;  // Не сохранять изменения.

END;
