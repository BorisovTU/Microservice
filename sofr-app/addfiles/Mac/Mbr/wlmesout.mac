/****************************************************************************/
/*                   R-Style SoftWare Lab, RS-Bank 5.1                      */
/****************************************************************************/
/*                  Подсистема "Межбанковские расчеты"                      */
/*  Макрофункции для работы с сообщениями                                   */
/*                                                                          */
/*  Имя файла: wlmes.mac                                                    */
/*  Создан:  18.08.00                                        Алешин А.В.    */
/****************************************************************************/

import "wldoc.mac", MesInter;


/* Обращаемся к полям структур, используемых в макросах выполнения шагов
   операций, для ускорения работы макросов */

var field_finit;

field_finit = route.ObjID;
field_finit = wlfininstr.FIID;
field_finit = wlpm.PaymentID;
field_finit = wlpmpaym.PaymentID;
field_finit = wlpmpropdeb.PaymentID;
field_finit = wlpmpropcred.PaymentID;
field_finit = wlpmrmprop.PaymentID;
field_finit = wlhead.HeadID;
field_finit = wlconf.ConfID;
field_finit = wlreq.ReqID;
field_finit = wlmes.MesID;
field_finit = wlinfo.InfoID;
field_finit = wldlmm.DlMMID;
field_finit = wldeal.DealID;

macro Функция_Пользователя()
  return 0;
end;

MACRO УстановитьПодсказку( TableName:string, IndexNum:integer, DefaultHint:string, ScrolStates:integer ):string
  // Пример формируемой подсказки
  //    "/*+FIRST_ROWS LEADING(t)*/"
  // Возможные значения ScrolStates:
  /* WL_ALL_MESSCR         = 0,  Список всех сообщений
     WL_READY_MESSCR       = 1,  Подготовка к отправке
     WL_DEFECTED_MESSCR    = 2,  Отбракованные адресатом
     WL_DELIVERED_MESSCR   = 3,  Доставленные - все
     WL_UNDELIVERED_MESSCR = 4,  Недоставленные
     WL_CONTROL_MESSCR     = 5,  Проконтролированные
  */
  if( (ScrolStates == 0 ) or 
      (ScrolStates == 1 ) or 
      (ScrolStates == 2 ) or
      (ScrolStates == 3 ) or
      (ScrolStates == 4 ) or
      (ScrolStates == 5 ) ) 
    return "/*+FIRST_ROWS LEADING(t) */";
  end;
  return DefaultHint;
END;
