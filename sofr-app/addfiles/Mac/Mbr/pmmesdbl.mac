import WldInter;

macro CheckOnDouble( addrMes )
  var MesID:integer = 0, StateName:string = "";
  record wlmes( wlmes );
  SetBuff( wlmes, addrMes );
  if( not WldCheckMesDouble( wlmes, MesID, StateName ) )
    msgbox( "Обнаружено совпадение с ранее отправленным сообщением ID: ", MesID ," со статусом '", StateName ,"'. Повторная отправка запрещена" );
    return false;
  else
    return true;
  end;
end;