/**************************************************************************\
|                                                                          |
\**************************************************************************/
class TMtUtils

  // =====================================================================
  macro isForeignCounterparty ( transfer )

    return transfer.rec.curCode != 0; 
  end;

  // =====================================================================
  macro getMinNominal ( curCode )

    var nominal = $1.0L;
    var currency = TBFile( "currency.dbt", "r", 0 );

    if ( curCode == 0 )
      nominal = $0.01L;
    else
      currency.KeyNum = 0;
      currency.Clear;
      currency.rec.Code_Currency = curCode;

      if ( currency.GetEQ )
        if ( ( StrUpr( currency.rec.Short_Name ) == "EUR" ) or ( StrUpr( currency.rec.ExternalCode ) == "978" ) )
          nominal = $5.0L;
        end;
      end;
    end;

    return nominal; 
  end;

end;
