/*-RSL---------------------------------------- R-Style Software Lab --*/
/*----------- Расчет конверсии валютной мелочи при выполнении --------*/
/*            валютообменных операций                                 */
/*            Обменный пункт                                          */
/*                                                                    */
/* Copyright 2000 (c) R-Style Software Lab.                           */
/* Создание: Рытик А.И. 17-11-00                                      */
/*                                                                    */
/* Принимаемые значения:                                              */
/*   ConvertingSum конвертируемая сумма                               */
/*   Curr_Ref      валюта конвертируемой суммы                        */
/*   CnvRate       курс конверсии                                     */
/*                                                                    */
/* Возвращаемые значения:                                             */
/*   return       успешно ли выполнен расчет (True/False)             */
/*   ConvertedSum сконвертированная сумма (в нац. валюте)             */
/*   TaxSum       сумма налога на конвертацию                         */
/*  ------------------------------------------------------------------*/

RECORD ArraySums ( "arrmoney.str" , "exchange.def" );

MACRO ConvertCoins( ConvertingSum, Curr_Ref, CnvRate, Array_of_Sums )

  Var ConvertedSum = $0.0,
      TaxSum       = $0.0;

  SetBuff( ArraySums, Array_of_Sums );

  ConvertedSum = ConvertingSum * CnvRate;
  TaxSum = 0;

  /*через Array_of_Sums значения передаются в программу*/
  ArraySums(0) = ConvertedSum;
  ArraySums(1) = TaxSum;

  return TRUE;

END;  