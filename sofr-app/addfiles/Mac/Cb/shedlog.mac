/*
 *      Печать журнала планировщика
 */

record slog (shedlog);

ARRAY  Action ;

const ALG_SHEDULE_ACTIONS = 2270;

macro GetNameAlg( TypeAlg, NumberAlg )
  file Алгоритмы ( namealg );    /* Названия алгоритмов*/
   Алгоритмы.iTypeAlg   = TypeAlg;
   Алгоритмы.iNumberAlg = NumberAlg;
   if( getEQ(Алгоритмы) )
         return Алгоритмы.szNameAlg;
   else  return "не найден алгоритм "+NumberAlg;
   end;
end;


macro PrintRecord( logrec, errdata )

   setbuff( slog, logrec );

   Action(0) = "?";
   Action(1) = "Выполнение модуля";

   [------------------------------------------------------------- ];
   [Период выполнения: ########## ######## - ########## ########  ] ( slog.StartDate, slog.StartTime, slog.EndDate, slog.EndTime );
   [Операционист: #####] ( slog.iOper );
   [Действие: #] /*( Action( slog.Action ):l );*/
                ( GetNameAlg( ALG_SHEDULE_ACTIONS, slog.Action ):l );
   [Параметры выполнения: #]( slog.Parms:l );
   [Сообщения об ошибках:];
   [#] ( errdata:l );
   [ ];
   [ ];

end;