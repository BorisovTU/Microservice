/************************************************************************/
/*         Автоматизированная банковская система RS-Bank                */
/*            Copyright (c) R-Style Software Lab 2001                   */
/*                                                                      */
/*  Имя файла   : objnote.mac                                           */
/*                                                                      */
/*  Описание    : Базовый класс для работы с примечаниями объектов      */
/*                                                                      */
/*  Создан      : 31.10.2001                                            */
/*                                                                      */
/*  Programmer by Vladimir Gurov                                        */
/*                                                                      */     
/************************************************************************/

import BankInter;

class TObjectNote( _ObjType:integer, _ObjID:string )
   
   var ObjType:integer = _ObjType;
   var ObjID  :string  = _ObjID  ;

   /* перегружаемая функция, проверяет наличие объекта
      ( по сути проверка ссылочной целостности) */
   macro existObject() 
      return false;
   end;

   /* добавляет комментарий */
   macro add( NoteKind:integer, Note:string )
      if( existObject() )
         addNoteForObject( ObjType, ObjID, NoteKind, Note );
      end;
   end;

   /* прочитать комментарий */
   macro read( NoteKind:integer ):string
      return readNoteForObject( ObjType, ObjID, NoteKind );
   end; 

end;
