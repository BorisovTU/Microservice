/*
  DateTimeFormatter.mac
  Класс для форматирования даты и времени. 
*/

Class DateTimeFormatter()

    macro Get(dttm:datetime, format:string):string
        var dd, mm, yy, hh, mn, ss;
        var fmt:string = StrLwr(format);
        DateSplit(dttm, dd, mm, yy);
        TimeSplit(dttm, hh, mn, ss);

        // Формат "dd.mm.yyyy hh:mi:ss"
        if (fmt == "dd.mm.yyyy hh:mi:ss")
            return string(dd:o:2) + "." + string(mm:o:2) + "." + string(yy) + " " +
            string(hh:o:2) + ":" + string(mn:o:2) + ":" + string(ss:o:2);
        end;

        return "";
    end;

End;   
