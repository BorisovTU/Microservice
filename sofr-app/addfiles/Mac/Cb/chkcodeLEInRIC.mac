/*
 $Name: chkcodeLEInRIC.mac
 $Module: Ядро ГКБО 
 $Description: функции проверки кода для субъекта
 */
 /*
	функции проверки кода для субъекта
 */
import  BankInter, PTInter, CTInter,"pt_lib.mac";

record fininstr( fininstr );

/*
пример функции проверки кода для субъекта
private macro CheckCodeParty( pObject : RsbParty, pCodeKind : integer, pCode : string, pMode : integer )
end;

пример функции проверки кода для фининструмента
private macro CheckCodeFinInstr( pObject, pCodeKind : integer, pCode : string, pMode : integer )
  setbuff( fininstr, pObject );

end;

*/

private var DIGITSTR = "1234567890";

private macro ПроверитьКодСубъектаРИК( pObject : RsbParty, pCodeKind : integer, pCode : string, pMode : integer )
    var Code;
 
    if( strlen( pCode ) == 0 )
        return 1508;
    end;

    Code = pCode;
    var codelen = strlen( Code );
    if( codelen != 12 )
        /*Ошибка: РИК должен иметь длину 12 символов*/
        return 19356;
    end;
    return 0;
end;

private macro ПроверитьКодСубъектаLEI( pObject : RsbParty, pCodeKind : integer, pCode : string, pMode : integer )
    var Code;
 
    if( strlen( pCode ) == 0 )
        return 1508;
    end;

    Code = pCode;
    var codelen = strlen( Code );
    if( codelen != 20 )
        /*Ошибка: LEI должен иметь длину 20 символов*/
        return 19357;
    end;
    return 0;
end;


