/*
 $Name: bcfunc.mac
 $Module: Ядро Banking
 $Description: Функции для требований банка
 */
import "bnk_ptlib.mac", "pm_common.mac";
 
macro IsBankClaimOutNostro(PaymentObj : RsbPayment) : bool

  if( // нет записи dp_dep, где dp_dep.PartyID = pmpaym.PayerBankID
      (GetDepIdByPartyId(PaymentObj.PayerBankID) <= 0) and
      // corschem.IsNostro = SET_CHAR для исходящей корсхемы платежа
      CorschemIsNostro(PaymentObj.OutCorschem, PaymentObj.OutCorschemFIID)
    )
    return TRUE;
  end;

  return FALSE;
end;
