//DateFormatter.mac

/*
  класс для форматирования даты. Чтобы не писать в каждом макросе один и тот же функционал.
  как-бы статический. Начать можно с перебора форматов через if'ы. 
*/
class DateFormatter()

  macro Get(dt:date, _format:string):string
    var dd, mm, yy;
    var format:string = StrLwr(_format);
    DateSplit(dt, dd, mm, yy);

    if (format == "dd.mm.yyyy")
      return string(dd:o:2) + "." + string(mm:o:2) + "." + string(yy);
    end;

    if (format == "dd.mm.yy")
      return string(dd:o:2) + "." + string(mm:o:2) + "." + substr(string(yy), 3, 2);
    end;

    if (format == "yyyymmdd")
      return string(yy) + string(mm:o:2) + string(dd:o:2);
    end;

    if (format == "ddmmyyyy")
      return string(dd:o:2) + string(mm:o:2) + string(yy);
    end;
    
    return "";
  end;
end;