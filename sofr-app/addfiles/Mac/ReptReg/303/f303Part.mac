/*
$Name:        f303Part.mac
$Module:        Регламентируемая отчетность
$Description:   Форма 303. Раздел отчета
*/

/**
 * Форма 303. Раздел отчета.
 *
 * @since   10.08.2015
 * @author  Kirin Pavel
 * @version 6.00.020.31
 */

/**
 * Основной раздел с расчитанными данными
*/

class (RcbPartBase) TF303PartBase(partId : Integer, report : RcbReportBase, compositeValue)

    private var m_report : RcbReportBase;

    private macro getAttributeCompositeValue(creditId : Integer)
        var keyValue = m_compositeValue.createKeyValue();

        keyValue.fieldValue("creditId") = creditId;

        var compositeValue = m_compositeValue.findValue(keyValue);

        if (compositeValue != null)
            return compositeValue;
        end;

        compositeValue = m_compositeValue.addValue();
    
        compositeValue.reset();

        compositeValue.fieldValue("creditId").exact = creditId;

        return compositeValue;
    end;

    macro isEmpty() : bool
        if (m_attributes.size == 0);
            return true;
        else
            return false;
        end;
    end;

    macro getAttribute(creditId : Integer) : RcbAttributeBase
        throw(TPureVirtualMethodCallException("TF303PartBase::getAttribute"));
    end;

    macro getAttributes()
        return m_attributes;
    end;

    /**
     * Инициализация атрибутов раздела.
     */
    macro initializeAttributes()
        var iterator = m_compositeValue.createValueIterator();

        iterator.moveFirst();
        while (not iterator.isDone())
            getAttribute(iterator.currentItem.fieldValue("creditId").exact);
            iterator.moveNext();
        end;
    end;

    /**
     * Конструктор.
     * 
     * @param     partId	название раздела
     * @param     report	ссылка на отчет
     * @param     compositeValue	ссылка на составное значение
     */
    macro constructorTF303PartBase(partId : Integer, report : RcbReportBase, compositeValue)
        initRcbPartBase(partId, compositeValue);
        m_report = report;
        initializeAttributes();
    end;

    constructorTF303PartBase(partId, report, compositeValue);
end;

class (TF303PartBase) TF303Part1(partId : Integer, report : RcbReportBase, compositeValue)

    /**
     * Получить атрибут отчета.
     * 
     * @param     creditId	идентификатор договора
     */
    macro getAttribute(creditId : Integer) : RcbAttributeBase

        m_attributes.moveFirst();
        while (m_attributes.moveNext())
            if (m_attributes.getCurrentItem().getId() == creditId)
              return m_attributes.getCurrentItem();
            end;
        end;

        return m_attributes.push_back(objectFactoryInstance.createPart1Attribute(creditId, this, getAttributeCompositeValue(creditId)));
    end;

    /**
     * Конструктор.
     * 
     * @param     partId	название раздела
     * @param     report	ссылка на отчет
     * @param     compositeValue	ссылка на составное значение
     */
    macro constructorF303Part1(partId : Integer, report : RcbReportBase, compositeValue)
        initTF303PartBase(partId, report, compositeValue);
    end;

    constructorF303Part1(partId, report, compositeValue);
end;

class (TF303PartBase) TF303UserPart1(partId : Integer, report : RcbReportBase, compositeValue)

    /**
     * Получить атрибут отчета.
     * 
     * @param     creditId	идентификатор договора
     */
    macro getAttribute(creditId : Integer) : RcbAttributeBase

        m_attributes.moveFirst();
        while (m_attributes.moveNext())
            if (m_attributes.getCurrentItem().getId() == creditId)
              return m_attributes.getCurrentItem();
            end;
        end;

        return m_attributes.push_back(objectFactoryInstance.createPart1UserAttribute(creditId, this, getAttributeCompositeValue(creditId)));
    end;

    /**
     * Конструктор.
     * 
     * @param     partId	название раздела
     * @param     report	ссылка на отчет
     * @param     compositeValue	ссылка на составное значение
     */
    macro constructorF303UserPart1(partId : Integer, report : RcbReportBase, compositeValue)
        initTF303PartBase(partId, report, compositeValue);
    end;

    constructorF303UserPart1(partId, report, compositeValue);
end;

class (TF303PartBase) TF303Part1_4637(partId : Integer, report : RcbReportBase, compositeValue)

    private macro getAttributeCompositeValue(creditId : Integer, addLine : Integer)
        var keyValue = m_compositeValue.createKeyValue();

        keyValue.fieldValue("creditId") = creditId;
        keyValue.fieldValue("addLine") = addLine;

        var compositeValue = m_compositeValue.findValue(keyValue);

        if (compositeValue != null)
            return compositeValue;
        end;

        compositeValue = m_compositeValue.addValue();

        compositeValue.reset();

        compositeValue.fieldValue("creditId").exact     = creditId;
        compositeValue.fieldValue("addLine").exact      = addLine;

        return compositeValue;
    end;

    /**
     * Инициализация атрибутов раздела.
     */
    macro initializeAttributes()
        var iterator = m_compositeValue.createValueIterator();

        iterator.moveFirst();
        while (not iterator.isDone())
            getAttribute(iterator.currentItem.fieldValue("creditId").exact, iterator.currentItem.fieldValue("addLine").exact);
            iterator.moveNext();
        end;
    end;

    /**
     * Получить атрибут отчета.
     *
     * @param     creditId	идентификатор договора
     */
    macro getAttribute(creditId : Integer, addLine : Integer) : RcbAttributeBase
        m_attributes.moveFirst();
        while (m_attributes.moveNext())
            if ((m_attributes.getCurrentItem().getId() == creditId) and (m_attributes.getCurrentItem().getAddLine() == addLine))
              return m_attributes.getCurrentItem();
            end;
        end;

        return m_attributes.push_back(objectFactoryInstance.createPart1Attribute(creditId, this, getAttributeCompositeValue(creditId, addLine)));
    end;

    /**
     * Конструктор.
     *
     * @param     partId	название раздела
     * @param     report	ссылка на отчет
     * @param     compositeValue	ссылка на составное значение
     */
    macro constructorF303Part1_4637(partId : Integer, report : RcbReportBase, compositeValue)
        initTF303PartBase(partId, report, compositeValue);
    end;

    constructorF303Part1_4637(partId, report, compositeValue);
end;

class (TF303Part1_4637) TF303UserPart1_4637(partId : Integer, report : RcbReportBase, compositeValue)

    /**
     * Получить атрибут отчета.
     *
     * @param     creditId	идентификатор договора
     */
    macro getAttribute(creditId : Integer, addLine : Integer) : RcbAttributeBase
        m_attributes.moveFirst();
        while (m_attributes.moveNext())
            if ((m_attributes.getCurrentItem().getId() == creditId) and (m_attributes.getCurrentItem().getAddLine() == addLine))
              return m_attributes.getCurrentItem();
            end;
        end;

        return m_attributes.push_back(objectFactoryInstance.createPart1UserAttribute(creditId, this, getAttributeCompositeValue(creditId, addLine)));
    end;

    /**
     * Конструктор.
     *
     * @param     partId	название раздела
     * @param     report	ссылка на отчет
     * @param     compositeValue	ссылка на составное значение
     */
    macro constructorF303UserPart4_4637(partId : Integer, report : RcbReportBase, compositeValue)
        initTF303PartBase(partId, report, compositeValue);
    end;

    constructorF303UserPart4_4637(partId, report, compositeValue);
end;


class (TF303PartBase) TF303Part2(partId : Integer, report : RcbReportBase, compositeValue)

    /**
     * Получить атрибут отчета.
     * 
     * @param     creditId	идентификатор договора
     */
    macro getAttribute(creditId : Integer, dateEntry : String, trancheNumber : Integer) : RcbAttributeBase
        m_attributes.moveFirst();
        while (m_attributes.moveNext())
            if ((m_attributes.getCurrentItem().getId() == creditId) and (m_attributes.getCurrentItem().getDateEntry() == dateEntry) and (m_attributes.getCurrentItem().getTrancheNumber() == trancheNumber))
              return m_attributes.getCurrentItem();
            end;
        end;

        return m_attributes.push_back(objectFactoryInstance.createPart2Attribute(creditId, this, getAttributeCompositeValue(creditId, dateEntry, trancheNumber)));
    end;

    private macro getAttributeCompositeValue(creditId : Integer, dateEntry : String, trancheNumber : Integer)
        var keyValue = m_compositeValue.createKeyValue();

        keyValue.fieldValue("creditId") = creditId;
        keyValue.fieldValue("dateEntry") = NVL(dateEntry, "");
        keyValue.fieldValue("trancheNumber") = trancheNumber;

        var compositeValue = m_compositeValue.findValue(keyValue);

        if (compositeValue != null)
            return compositeValue;
        end;

        compositeValue = m_compositeValue.addValue();
    
        compositeValue.reset();

        compositeValue.fieldValue("creditId").exact = creditId;
        compositeValue.fieldValue("dateEntry").exact = NVL(dateEntry, "");
        compositeValue.fieldValue("trancheNumber").exact = trancheNumber;

        return compositeValue;
    end;

    /**
     * Инициализация атрибутов раздела.
     */
    macro initializeAttributes()
        var iterator = m_compositeValue.createValueIterator();

        iterator.moveFirst();
        while (not iterator.isDone())
            getAttribute(iterator.currentItem.fieldValue("creditId").exact, iterator.currentItem.fieldValue("dateEntry").exact, iterator.currentItem.fieldValue("trancheNumber").exact);
            iterator.moveNext();
        end;
    end;
    /**
     * Конструктор.
     * 
     * @param     partId	название раздела
     * @param     report	ссылка на отчет
     * @param     compositeValue	ссылка на составное значение
     */
    macro constructorF303Part2(partId : Integer, report : RcbReportBase, compositeValue)
        initTF303PartBase(partId, report, compositeValue);
    end;

    constructorF303Part2(partId, report, compositeValue);
end;

class (TF303Part2) TF303UserPart2(partId : Integer, report : RcbReportBase, compositeValue)

    /**
     * Получить атрибут отчета.
     * 
     * @param     creditId	идентификатор договора
     */
    macro getAttribute(creditId : Integer, dateEntry : String, trancheNumber : Integer) : RcbAttributeBase
        m_attributes.moveFirst();
        while (m_attributes.moveNext())
            if ((m_attributes.getCurrentItem().getId() == creditId) and (m_attributes.getCurrentItem().getDateEntry() == dateEntry) and (m_attributes.getCurrentItem().getTrancheNumber() == trancheNumber))
              return m_attributes.getCurrentItem();
            end;
        end;

        return m_attributes.push_back(objectFactoryInstance.createPart2UserAttribute(creditId, this, getAttributeCompositeValue(creditId, dateEntry, trancheNumber)));
    end;

    /**
     * Конструктор.
     * 
     * @param     partId	название раздела
     * @param     report	ссылка на отчет
     * @param     compositeValue	ссылка на составное значение
     */
    macro constructorF303UserPart2(partId : Integer, report : RcbReportBase, compositeValue)
        initTF303PartBase(partId, report, compositeValue);
    end;

    constructorF303UserPart2(partId, report, compositeValue);
end;

class (TF303PartBase) TF303Part3(partId : Integer, report : RcbReportBase, compositeValue)

    private macro getAttributeCompositeValue(creditId : Integer, account : String, trancheNumber : Integer, dateOrigContract : String, dateChangesContract : String)
        var keyValue = m_compositeValue.createKeyValue();

        keyValue.fieldValue("creditId") = creditId;
        keyValue.fieldValue("account") = account;
        keyValue.fieldValue("trancheNumber") = trancheNumber;
        keyValue.fieldValue("dateOrigContract") = NVL(dateOrigContract, "");
        keyValue.fieldValue("dateChangesContract") = NVL(dateChangesContract, "");

        var compositeValue = m_compositeValue.findValue(keyValue);

        if (compositeValue != null)
            return compositeValue;
        end;

        compositeValue = m_compositeValue.addValue();
    
        compositeValue.reset();

        compositeValue.fieldValue("creditId").exact = creditId;
        compositeValue.fieldValue("account").exact = account;
        compositeValue.fieldValue("trancheNumber").exact = trancheNumber;
        compositeValue.fieldValue("dateOrigContract").exact = NVL(dateOrigContract, "");
        compositeValue.fieldValue("dateChangesContract").exact = NVL(dateChangesContract, "");

        return compositeValue;
    end;

    /**
     * Инициализация атрибутов раздела.
     */
    macro initializeAttributes()
        var iterator = m_compositeValue.createValueIterator();

        iterator.moveFirst();
        while (not iterator.isDone())
            getAttribute(iterator.currentItem.fieldValue("creditId").exact, iterator.currentItem.fieldValue("account").exact, iterator.currentItem.fieldValue("trancheNumber").exact, iterator.currentItem.fieldValue("dateOrigContract").exact, iterator.currentItem.fieldValue("dateChangesContract").exact);
            iterator.moveNext();
        end;
    end;

    /**
     * Получить атрибут отчета.
     * 
     * @param     creditId	идентификатор договора
     */
    macro getAttribute(creditId : Integer, account : String, trancheNumber : Integer, dateOrigContract : String, dateChangesContract : String) : RcbAttributeBase
        m_attributes.moveFirst();

        while (m_attributes.moveNext())
            if ((m_attributes.getCurrentItem().getId() == creditId) and (m_attributes.getCurrentItem().getAccount() == account) and (m_attributes.getCurrentItem().getTrancheNumber() == trancheNumber) and (m_attributes.getCurrentItem().getDateOrigContract() == dateOrigContract) and (m_attributes.getCurrentItem().getDateChangesContract() == dateChangesContract))
              return m_attributes.getCurrentItem();
            end;
        end;

        return m_attributes.push_back(objectFactoryInstance.createPart3Attribute(creditId, this, getAttributeCompositeValue(creditId, account, trancheNumber, dateOrigContract, dateChangesContract)));
    end;

    /**
     * Конструктор.
     * 
     * @param     partId	название раздела
     * @param     report	ссылка на отчет
     * @param     compositeValue	ссылка на составное значение
     */
    macro constructorF303Part3(partId : Integer, report : RcbReportBase, compositeValue)
        initTF303PartBase(partId, report, compositeValue);
    end;

    constructorF303Part3(partId, report, compositeValue);
end;

class (TF303Part3) TF303UserPart3(partId : Integer, report : RcbReportBase, compositeValue)
    initTF303Part3(partId, report, compositeValue);

    /**
     * Получить атрибут отчета.
     * 
     * @param     creditId	идентификатор договора
     */
    macro getAttribute(creditId : Integer, account : String, trancheNumber : Integer, dateOrigContract : String, dateChangesContract : String) : RcbAttributeBase
        m_attributes.moveFirst();

        while (m_attributes.moveNext())
            if ((m_attributes.getCurrentItem().getId() == creditId) and (m_attributes.getCurrentItem().getAccount() == account) and (m_attributes.getCurrentItem().getTrancheNumber() == trancheNumber) and (m_attributes.getCurrentItem().getDateOrigContract() == dateOrigContract) and (m_attributes.getCurrentItem().getDateChangesContract() == dateChangesContract))
              return m_attributes.getCurrentItem();
            end;
        end;

        return m_attributes.push_back(objectFactoryInstance.createPart3UserAttribute(creditId, this, getAttributeCompositeValue(creditId, account, trancheNumber, dateOrigContract, dateChangesContract)));
    end;

end;

class (TF303PartBase) TF303Part4(partId : Integer, report : RcbReportBase, compositeValue)

    /**
     * Получить атрибут отчета.
     * 
     * @param     creditId	идентификатор договора
     */
    macro getAttribute(creditId : Integer) : RcbAttributeBase
        m_attributes.moveFirst();
        while (m_attributes.moveNext())
            if (m_attributes.getCurrentItem().getId() == creditId)
              return m_attributes.getCurrentItem();
            end;
        end;

        return m_attributes.push_back(objectFactoryInstance.createPart4Attribute(creditId, this, getAttributeCompositeValue(creditId)));
    end;

    /**
     * Конструктор.
     * 
     * @param     partId	название раздела
     * @param     report	ссылка на отчет
     * @param     compositeValue	ссылка на составное значение
     */
    macro constructorF303Part4(partId : Integer, report : RcbReportBase, compositeValue)
        initTF303PartBase(partId, report, compositeValue);
    end;

    constructorF303Part4(partId, report, compositeValue);
end;

class (TF303PartBase) TF303UserPart4(partId : Integer, report : RcbReportBase, compositeValue)

    /**
     * Получить атрибут отчета.
     * 
     * @param     creditId	идентификатор договора
     */
    macro getAttribute(creditId : Integer) : RcbAttributeBase
        m_attributes.moveFirst();
        while (m_attributes.moveNext())
            if (m_attributes.getCurrentItem().getId() == creditId)
              return m_attributes.getCurrentItem();
            end;
        end;

        return m_attributes.push_back(objectFactoryInstance.createPart4UserAttribute(creditId, this, getAttributeCompositeValue(creditId)));
    end;

    /**
     * Конструктор.
     * 
     * @param     partId	название раздела
     * @param     report	ссылка на отчет
     * @param     compositeValue	ссылка на составное значение
     */
    macro constructorF303UserPart4(partId : Integer, report : RcbReportBase, compositeValue)
        initTF303PartBase(partId, report, compositeValue);
    end;

    constructorF303UserPart4(partId, report, compositeValue);
end;

class (TF303PartBase) TF303Part4_4637(partId : Integer, report : RcbReportBase, compositeValue)

    private macro getAttributeCompositeValue(creditId : Integer, typeSecurity : String, addLine : Integer)
        var keyValue = m_compositeValue.createKeyValue();

        keyValue.fieldValue("creditId") = creditId;
        keyValue.fieldValue("typeSecurity") = typeSecurity;
        keyValue.fieldValue("addLine") = addLine;

        var compositeValue = m_compositeValue.findValue(keyValue);

        if (compositeValue != null)
            return compositeValue;
        end;

        compositeValue = m_compositeValue.addValue();

        compositeValue.reset();

        compositeValue.fieldValue("creditId").exact     = creditId;
        compositeValue.fieldValue("typeSecurity").exact = typeSecurity;
        compositeValue.fieldValue("addLine").exact      = addLine;

        return compositeValue;
    end;

    /**
     * Инициализация атрибутов раздела.
     */
    macro initializeAttributes()
        var iterator = m_compositeValue.createValueIterator();

        iterator.moveFirst();
        while (not iterator.isDone())
            getAttribute(iterator.currentItem.fieldValue("creditId").exact, iterator.currentItem.fieldValue("typeSecurity").exact, iterator.currentItem.fieldValue("addLine").exact);
            iterator.moveNext();
        end;
    end;

    /**
     * Получить атрибут отчета.
     *
     * @param     creditId	идентификатор договора
     */
    macro getAttribute(creditId : Integer, typeSecurity : String, addLine : Integer) : RcbAttributeBase
        m_attributes.moveFirst();
        while (m_attributes.moveNext())
            if ((m_attributes.getCurrentItem().getId() == creditId) and (m_attributes.getCurrentItem().getTypeSecurity() == typeSecurity) and (m_attributes.getCurrentItem().getAddLine() == addLine))
              return m_attributes.getCurrentItem();
            end;
        end;

        return m_attributes.push_back(objectFactoryInstance.createPart4Attribute(creditId, this, getAttributeCompositeValue(creditId, typeSecurity, addLine)));
    end;

    /**
     * Конструктор.
     *
     * @param     partId	название раздела
     * @param     report	ссылка на отчет
     * @param     compositeValue	ссылка на составное значение
     */
    macro constructorF303Part4_4637(partId : Integer, report : RcbReportBase, compositeValue)
        initTF303PartBase(partId, report, compositeValue);
    end;

    constructorF303Part4_4637(partId, report, compositeValue);
end;

class (TF303Part4_4637) TF303UserPart4_4637(partId : Integer, report : RcbReportBase, compositeValue)

    /**
     * Получить атрибут отчета.
     *
     * @param     creditId	идентификатор договора
     */
    macro getAttribute(creditId : Integer, typeSecurity : String, addLine : Integer) : RcbAttributeBase
        m_attributes.moveFirst();
        while (m_attributes.moveNext())
            if ((m_attributes.getCurrentItem().getId() == creditId) and (m_attributes.getCurrentItem().getTypeSecurity() == typeSecurity) and (m_attributes.getCurrentItem().getAddLine() == addLine))
              return m_attributes.getCurrentItem();
            end;
        end;

        return m_attributes.push_back(objectFactoryInstance.createPart4UserAttribute(creditId, this, getAttributeCompositeValue(creditId, typeSecurity, addLine)));
    end;

    /**
     * Конструктор.
     *
     * @param     partId	название раздела
     * @param     report	ссылка на отчет
     * @param     compositeValue	ссылка на составное значение
     */
    macro constructorF303UserPart4_4637(partId : Integer, report : RcbReportBase, compositeValue)
        initTF303PartBase(partId, report, compositeValue);
    end;

    constructorF303UserPart4_4637(partId, report, compositeValue);
end;

class (TF303PartBase) TF303Part5(partId : Integer, report : RcbReportBase, compositeValue)

    private macro getAttributeCompositeValue(creditId : Integer, trancheNumber : Integer)
        var keyValue = m_compositeValue.createKeyValue();

        keyValue.fieldValue("creditId") = creditId;
        keyValue.fieldValue("trancheNumber") = trancheNumber;

        var compositeValue = m_compositeValue.findValue(keyValue);

        if (compositeValue != null)
            return compositeValue;
        end;

        compositeValue = m_compositeValue.addValue();
    
        compositeValue.reset();

        compositeValue.fieldValue("creditId").exact = creditId;
        compositeValue.fieldValue("trancheNumber").exact = trancheNumber;

        return compositeValue;
    end;

    /**
     * Инициализация атрибутов раздела.
     */
    macro initializeAttributes()
        var iterator = m_compositeValue.createValueIterator();

        iterator.moveFirst();
        while (not iterator.isDone())
            getAttribute(iterator.currentItem.fieldValue("creditId").exact, iterator.currentItem.fieldValue("trancheNumber").exact);
            iterator.moveNext();
        end;
    end;

    /**
     * Получить атрибут отчета.
     * 
     * @param     creditId	идентификатор договора
     */
    macro getAttribute(creditId : Integer, trancheNumber : Integer) : RcbAttributeBase
        m_attributes.moveFirst();
        while (m_attributes.moveNext())
            if ((m_attributes.getCurrentItem().getId() == creditId) and (m_attributes.getCurrentItem().getTrancheNumber() == trancheNumber))
              return m_attributes.getCurrentItem();
            end;
        end;

        return m_attributes.push_back(objectFactoryInstance.createPart5Attribute(creditId, this, getAttributeCompositeValue(creditId, trancheNumber)));
    end;

    /**
     * Конструктор.
     * 
     * @param     partId	название раздела
     * @param     report	ссылка на отчет
     * @param     compositeValue	ссылка на составное значение
     */
    macro constructorF303Part5(partId : Integer, report : RcbReportBase, compositeValue)
        initTF303PartBase(partId, report, compositeValue);
    end;

    constructorF303Part5(partId, report, compositeValue);
end;

class (TF303Part5) TF303UserPart5(partId : Integer, report : RcbReportBase, compositeValue)
    initTF303Part5(partId, report, compositeValue);

    /**
     * Получить атрибут отчета.
     * 
     * @param     creditId	идентификатор договора
     */
    macro getAttribute(creditId : Integer, trancheNumber : Integer) : RcbAttributeBase
        m_attributes.moveFirst();
        while (m_attributes.moveNext())
            if ((m_attributes.getCurrentItem().getId() == creditId) and (m_attributes.getCurrentItem().getTrancheNumber() == trancheNumber))
              return m_attributes.getCurrentItem();
            end;
        end;

        return m_attributes.push_back(objectFactoryInstance.createPart5UserAttribute(creditId, this, getAttributeCompositeValue(creditId, trancheNumber)));
    end;
end;

class (TF303PartBase) TF303Part6(partId : Integer, report : RcbReportBase, compositeValue)

    private macro getAttributeCompositeValue(creditId : Integer, loansTermAccount : String, loansArrearsAccount : String, trancheNumber : Integer, addLine : Integer)
        var keyValue = m_compositeValue.createKeyValue();

        keyValue.fieldValue("creditId") = creditId;
        keyValue.fieldValue("loansTermAccount") = loansTermAccount;
        keyValue.fieldValue("loansArrearsAccount") = loansArrearsAccount;
        keyValue.fieldValue("trancheNumber") = trancheNumber;
        keyValue.fieldValue("addLine") = addLine;

        var compositeValue = m_compositeValue.findValue(keyValue);

        if (compositeValue != null)
            return compositeValue;
        end;

        compositeValue = m_compositeValue.addValue();
    
        compositeValue.reset();

        compositeValue.fieldValue("creditId").exact = creditId;
        compositeValue.fieldValue("loansTermAccount").exact = loansTermAccount;
        compositeValue.fieldValue("loansArrearsAccount").exact = loansArrearsAccount;
        compositeValue.fieldValue("trancheNumber").exact = trancheNumber;
        compositeValue.fieldValue("addLine").exact = addLine;

        return compositeValue;
    end;

    /**
     * Инициализация атрибутов раздела.
     */
    macro initializeAttributes()
        var iterator = m_compositeValue.createValueIterator();

        iterator.moveFirst();
        while (not iterator.isDone())
            getAttribute(iterator.currentItem.fieldValue("creditId").exact, iterator.currentItem.fieldValue("loansTermAccount").exact, iterator.currentItem.fieldValue("loansArrearsAccount").exact, iterator.currentItem.fieldValue("trancheNumber").exact, iterator.currentItem.fieldValue("addLine").exact);
            iterator.moveNext();
        end;
    end;

    /**
     * Получить атрибут отчета.
     * 
     * @param     creditId	идентификатор договора
     */
    macro getAttribute(creditId : Integer, loansTermAccount : String, loansArrearsAccount : String, trancheNumber : Integer, addLine : Integer) : RcbAttributeBase
        m_attributes.moveFirst();
        while (m_attributes.moveNext())
            if ((m_attributes.getCurrentItem().getId() == creditId) and (m_attributes.getCurrentItem().getTermDebtAccount() == loansTermAccount) and (m_attributes.getCurrentItem().getLoansArrearsAccount() == loansArrearsAccount) and (m_attributes.getCurrentItem().getTrancheNumber() == trancheNumber) and (m_attributes.getCurrentItem().getLoansArrearsAccount() == loansArrearsAccount) and (m_attributes.getCurrentItem().getAddLine() == addLine))
              return m_attributes.getCurrentItem();
            end;
        end;

        return m_attributes.push_back(objectFactoryInstance.createPart6Attribute(creditId, this, getAttributeCompositeValue(creditId, loansTermAccount, loansArrearsAccount, trancheNumber, addLine)));
    end;

    /**
     * Конструктор.
     * 
     * @param     partId	название раздела
     * @param     report	ссылка на отчет
     * @param     compositeValue	ссылка на составное значение
     */
    macro constructorF303Part6(partId : Integer, report : RcbReportBase, compositeValue)
        initTF303PartBase(partId, report, compositeValue);
    end;

    constructorF303Part6(partId, report, compositeValue);
end;

class (TF303Part6) TF303UserPart6(partId : Integer, report : RcbReportBase, compositeValue)
    initTF303Part6(partId, report, compositeValue);

    /**
     * Получить атрибут отчета.
     * 
     * @param     creditId	идентификатор договора
     */
    macro getAttribute(creditId : Integer, loansTermAccount : String, loansArrearsAccount : String, trancheNumber : Integer, addLine : Integer) : RcbAttributeBase
        m_attributes.moveFirst();
        while (m_attributes.moveNext())
            if ((m_attributes.getCurrentItem().getId() == creditId) and (m_attributes.getCurrentItem().getTermDebtAccount() == loansTermAccount) and (m_attributes.getCurrentItem().getLoansArrearsAccount() == loansArrearsAccount) and (m_attributes.getCurrentItem().getTrancheNumber() == trancheNumber) and (m_attributes.getCurrentItem().getLoansArrearsAccount() == loansArrearsAccount) and (m_attributes.getCurrentItem().getAddLine() == addLine))
              return m_attributes.getCurrentItem();
            end;
        end;

        return m_attributes.push_back(objectFactoryInstance.createPart6UserAttribute(creditId, this, getAttributeCompositeValue(creditId, loansTermAccount, loansArrearsAccount, trancheNumber, addLine)));
    end;
end;

class (TF303PartBase) TF303Part7(partId : Integer, report : RcbReportBase, compositeValue)

    private macro getAttributeCompositeValue(creditId : Integer, trancheNumber : Integer)
        var keyValue = m_compositeValue.createKeyValue();

        keyValue.fieldValue("creditId") = creditId;
        keyValue.fieldValue("trancheNumber") = trancheNumber;

        var compositeValue = m_compositeValue.findValue(keyValue);

        if (compositeValue != null)
            return compositeValue;
        end;

        compositeValue = m_compositeValue.addValue();
    
        compositeValue.reset();

        compositeValue.fieldValue("creditId").exact = creditId;
        compositeValue.fieldValue("trancheNumber").exact = trancheNumber;

        return compositeValue;
    end;

    /**
     * Инициализация атрибутов раздела.
     */
    macro initializeAttributes()
        var iterator = m_compositeValue.createValueIterator();

        iterator.moveFirst();
        while (not iterator.isDone())
            getAttribute(iterator.currentItem.fieldValue("creditId").exact, iterator.currentItem.fieldValue("trancheNumber").exact);
            iterator.moveNext();
        end;
    end;

    /**
     * Получить атрибут отчета.
     * 
     * @param     creditId	идентификатор договора
     */
    macro getAttribute(creditId : Integer, trancheNumber : Integer) : RcbAttributeBase
        m_attributes.moveFirst();
        while (m_attributes.moveNext())
            if ((m_attributes.getCurrentItem().getId() == creditId) and (m_attributes.getCurrentItem().getTrancheNumber() == trancheNumber))
              return m_attributes.getCurrentItem();
            end;
        end;

        return m_attributes.push_back(objectFactoryInstance.createPart7Attribute(creditId, this, getAttributeCompositeValue(creditId, trancheNumber)));
    end;

    /**
     * Конструктор.
     * 
     * @param     partId	название раздела
     * @param     report	ссылка на отчет
     * @param     compositeValue	ссылка на составное значение
     */
    macro constructorF303Part7(partId : Integer, report : RcbReportBase, compositeValue)
        initTF303PartBase(partId, report, compositeValue);
    end;

    constructorF303Part7(partId, report, compositeValue);
end;

class (TF303Part7) TF303UserPart7(partId : Integer, report : RcbReportBase, compositeValue)
    initTF303Part7(partId, report, compositeValue);

    /**
     * Получить атрибут отчета.
     * 
     * @param     creditId	идентификатор договора
     */
    macro getAttribute(creditId : Integer, trancheNumber : Integer) : RcbAttributeBase
        m_attributes.moveFirst();
        while (m_attributes.moveNext())
            if ((m_attributes.getCurrentItem().getId() == creditId) and (m_attributes.getCurrentItem().getTrancheNumber() == trancheNumber))
              return m_attributes.getCurrentItem();
            end;
        end;

        return m_attributes.push_back(objectFactoryInstance.createPart7UserAttribute(creditId, this, getAttributeCompositeValue(creditId, trancheNumber)));
    end;
end;

class (TF303PartBase) TF303Part8(partId : Integer, report : RcbReportBase, compositeValue)

    /**
     * Получить атрибут отчета.
     * 
     * @param     creditId	идентификатор договора
     */
    macro getAttribute(creditId : Integer) : RcbAttributeBase
        m_attributes.moveFirst();
        while (m_attributes.moveNext())
            if (m_attributes.getCurrentItem().getId() == creditId)
              return m_attributes.getCurrentItem();
            end;
        end;

        return m_attributes.push_back(objectFactoryInstance.createPart8Attribute(creditId, this, getAttributeCompositeValue(creditId)));
    end;

    /**
     * Конструктор.
     * 
     * @param     partId	название раздела
     * @param     report	ссылка на отчет
     * @param     compositeValue	ссылка на составное значение
     */
    macro constructorF303Part8(partId : Integer, report : RcbReportBase, compositeValue)
        initTF303PartBase(partId, report, compositeValue);
    end;

    constructorF303Part8(partId, report, compositeValue);
end;

class (TF303Part8) TF303UserPart8(partId : Integer, report : RcbReportBase, compositeValue)
    initTF303Part8(partId, report, compositeValue);

    macro getAttribute(creditId : Integer, trancheNumber : Integer) : RcbAttributeBase
        m_attributes.moveFirst();
        while (m_attributes.moveNext())
            if (m_attributes.getCurrentItem().getId() == creditId)
              return m_attributes.getCurrentItem();
            end;
        end;

        return m_attributes.push_back(objectFactoryInstance.createPart8UserAttribute(creditId, this, getAttributeCompositeValue(creditId)));
    end;
end;

class (TF303PartBase) TF303Part9(partId : Integer, report : RcbReportBase, compositeValue)

    private macro getAttributeCompositeValue(creditId : Integer, trancheNumber : Integer, dateRemovalDebt : String, maturityDateDebt : String, addLine : Integer)
        var keyValue = m_compositeValue.createKeyValue();

        keyValue.fieldValue("creditId") = creditId;
        keyValue.fieldValue("trancheNumber") = trancheNumber;
        keyValue.fieldValue("dateRemovalDebt") = NVL(dateRemovalDebt, "");
        keyValue.fieldValue("maturityDateDebt") = NVL(maturityDateDebt, "");
        keyValue.fieldValue("addLine") = NVL(addLine, 0);

        var compositeValue = m_compositeValue.findValue(keyValue);

        if (compositeValue != null)
            return compositeValue;
        end;

        compositeValue = m_compositeValue.addValue();
    
        compositeValue.reset();

        compositeValue.fieldValue("creditId").exact = creditId;
        compositeValue.fieldValue("trancheNumber").exact = trancheNumber;
        compositeValue.fieldValue("dateRemovalDebt").exact = NVL(dateRemovalDebt, "");
        compositeValue.fieldValue("maturityDateDebt").exact = NVL(maturityDateDebt, "");
        compositeValue.fieldValue("addLine").exact = NVL(addLine, 0);

        return compositeValue;
    end;

    /**
     * Инициализация атрибутов раздела.
     */
    macro initializeAttributes()
        var iterator = m_compositeValue.createValueIterator();

        iterator.moveFirst();
        while (not iterator.isDone())
            getAttribute(iterator.currentItem.fieldValue("creditId").exact, iterator.currentItem.fieldValue("trancheNumber").exact, iterator.currentItem.fieldValue("dateRemovalDebt").exact, iterator.currentItem.fieldValue("maturityDateDebt").exact, iterator.currentItem.fieldValue("addLine").exact);
            iterator.moveNext();
        end;
    end;
    /**
     * Получить атрибут отчета.
     * 
     * @param     creditId	идентификатор договора
     */
    macro getAttribute(creditId : Integer, trancheNumber : Integer, dateRemovalDebt, maturityDateDebt, addLine : Integer) : RcbAttributeBase
        m_attributes.moveFirst();
        while (m_attributes.moveNext())
            if ((m_attributes.getCurrentItem().getId() == creditId) and (m_attributes.getCurrentItem().getTrancheNumber() == trancheNumber) and (m_attributes.getCurrentItem().getDateRemovalDebt() == dateRemovalDebt) and (m_attributes.getCurrentItem().getMaturityDateDebt() == maturityDateDebt) and (m_attributes.getCurrentItem().getAddLine() == addLine))
              return m_attributes.getCurrentItem();
            end;
        end;

        return m_attributes.push_back(objectFactoryInstance.createPart9Attribute(creditId, this, getAttributeCompositeValue(creditId, trancheNumber, dateRemovalDebt, maturityDateDebt, addLine)));
    end;

    /**
     * Конструктор.
     * 
     * @param     partId	название раздела
     * @param     report	ссылка на отчет
     * @param     compositeValue	ссылка на составное значение
     */
    macro constructorF303Part9(partId : Integer, report : RcbReportBase, compositeValue)
        initTF303PartBase(partId, report, compositeValue);
    end;

    constructorF303Part9(partId, report, compositeValue);
end;

class (TF303PartBase) TF303Part9_4637(partId : Integer, report : RcbReportBase, compositeValue)

    private macro getAttributeCompositeValue(creditId : Integer, trancheNumber : Integer, dateRemovalDebt : String, maturityDateDebt : String, sourceRepayment : String, codeNewCredit : String, addLine : Integer)
        var keyValue = m_compositeValue.createKeyValue();

        keyValue.fieldValue("creditId") = creditId;
        keyValue.fieldValue("trancheNumber") = trancheNumber;
        keyValue.fieldValue("dateRemovalDebt") = NVL(dateRemovalDebt, "");
        keyValue.fieldValue("maturityDateDebt") = NVL(maturityDateDebt, "");
        keyValue.fieldValue("sourceRepayment") = NVL(sourceRepayment, "");
        keyValue.fieldValue("codeNewCredit") = NVL(codeNewCredit, "");
        keyValue.fieldValue("addLine") = NVL(addLine, 0);

        var compositeValue = m_compositeValue.findValue(keyValue);

        if (compositeValue != null)
            return compositeValue;
        end;

        compositeValue = m_compositeValue.addValue();

        compositeValue.reset();

        compositeValue.fieldValue("creditId").exact = creditId;
        compositeValue.fieldValue("trancheNumber").exact = trancheNumber;
        compositeValue.fieldValue("dateRemovalDebt").exact = NVL(dateRemovalDebt, "");
        compositeValue.fieldValue("maturityDateDebt").exact = NVL(maturityDateDebt, "");
        compositeValue.fieldValue("sourceRepayment").exact = NVL(sourceRepayment, "");
        compositeValue.fieldValue("codeNewCredit").exact = NVL(codeNewCredit, "");
        compositeValue.fieldValue("addLine").exact = NVL(addLine, 0);

        return compositeValue;
    end;

    /**
     * Инициализация атрибутов раздела.
     */
    macro initializeAttributes()
        var iterator = m_compositeValue.createValueIterator();

        iterator.moveFirst();
        while (not iterator.isDone())
            getAttribute(iterator.currentItem.fieldValue("creditId").exact, iterator.currentItem.fieldValue("trancheNumber").exact, iterator.currentItem.fieldValue("dateRemovalDebt").exact,
                         iterator.currentItem.fieldValue("maturityDateDebt").exact,
                         iterator.currentItem.fieldValue("sourceRepayment").exact, iterator.currentItem.fieldValue("codeNewCredit").exact,
                         iterator.currentItem.fieldValue("addLine").exact);
            iterator.moveNext();
        end;
    end;
    /**
     * Получить атрибут отчета.
     *
     * @param     creditId	идентификатор договора
     */
    macro getAttribute(creditId : Integer, trancheNumber : Integer, dateRemovalDebt, maturityDateDebt, sourceRepayment, codeNewCredit, addLine : Integer) : RcbAttributeBase
        m_attributes.moveFirst();
        while (m_attributes.moveNext())
            if ((m_attributes.getCurrentItem().getId() == creditId) and (m_attributes.getCurrentItem().getTrancheNumber() == trancheNumber)
                 and (m_attributes.getCurrentItem().getDateRemovalDebt() == dateRemovalDebt) and (m_attributes.getCurrentItem().getMaturityDateDebt() == maturityDateDebt)
                 and (m_attributes.getCurrentItem().sourceRepayment() == sourceRepayment) and (m_attributes.getCurrentItem().codeNewCredit() == codeNewCredit)
                 and (m_attributes.getCurrentItem().getAddLine() == addLine))
              return m_attributes.getCurrentItem();
            end;
        end;

        return m_attributes.push_back(objectFactoryInstance.createPart9Attribute(creditId, this, getAttributeCompositeValue(creditId, trancheNumber, dateRemovalDebt, maturityDateDebt, sourceRepayment, codeNewCredit, addLine)));
    end;

    /**
     * Конструктор.
     *
     * @param     partId	название раздела
     * @param     report	ссылка на отчет
     * @param     compositeValue	ссылка на составное значение
     */
    macro constructorF303Part9_4637(partId : Integer, report : RcbReportBase, compositeValue)
        initTF303PartBase(partId, report, compositeValue);
    end;

    constructorF303Part9_4637(partId, report, compositeValue);
end;

class (TF303Part9) TF303UserPart9(partId : Integer, report : RcbReportBase, compositeValue)
    initTF303Part9(partId, report, compositeValue);

    macro getAttribute(creditId : Integer, trancheNumber : Integer, dateRemovalDebt, maturityDateDebt, addLine : Integer) : RcbAttributeBase
        m_attributes.moveFirst();
        while (m_attributes.moveNext())
            if ((m_attributes.getCurrentItem().getId() == creditId) and (m_attributes.getCurrentItem().getTrancheNumber() == trancheNumber) and (m_attributes.getCurrentItem().getDateRemovalDebt() == dateRemovalDebt) and (m_attributes.getCurrentItem().getMaturityDateDebt() == maturityDateDebt) and (m_attributes.getCurrentItem().getAddLine() == addLine))
              return m_attributes.getCurrentItem();
            end;
        end;

        return m_attributes.push_back(objectFactoryInstance.createPart9UserAttribute(creditId, this, getAttributeCompositeValue(creditId, trancheNumber, dateRemovalDebt, maturityDateDebt, addLine)));
    end;
end;

class (TF303Part9_4637) TF303UserPart9_4637(partId : Integer, report : RcbReportBase, compositeValue)
    initTF303Part9_4637(partId, report, compositeValue);

    macro getAttribute(creditId : Integer, trancheNumber : Integer, dateRemovalDebt, maturityDateDebt, sourceRepayment, codeNewCredit, addLine : Integer) : RcbAttributeBase
        m_attributes.moveFirst();
        while (m_attributes.moveNext())
            if ((m_attributes.getCurrentItem().getId() == creditId) and (m_attributes.getCurrentItem().getTrancheNumber() == trancheNumber)
                and (m_attributes.getCurrentItem().getDateRemovalDebt() == dateRemovalDebt) and (m_attributes.getCurrentItem().getMaturityDateDebt() == maturityDateDebt)
                and (m_attributes.getCurrentItem().getSourceRepayment() == sourceRepayment) and (m_attributes.getCurrentItem().getCodeNewCredit() == codeNewCredit)
                and (m_attributes.getCurrentItem().getAddLine() == addLine))
              return m_attributes.getCurrentItem();
            end;
        end;

        return m_attributes.push_back(objectFactoryInstance.createPart9UserAttribute(creditId, this, getAttributeCompositeValue(creditId, trancheNumber, dateRemovalDebt, maturityDateDebt, sourceRepayment, codeNewCredit, addLine)));
    end;
end;

class (TF303PartBase) TF303Part10(partId : Integer, report : RcbReportBase, compositeValue)

    /**
     * Получить атрибут отчета.
     * 
     * @param     creditId	идентификатор договора
     */
    macro getAttribute(creditId : Integer) : RcbAttributeBase
        m_attributes.moveFirst();
        while (m_attributes.moveNext())
            if (m_attributes.getCurrentItem().getId() == creditId)
              return m_attributes.getCurrentItem();
            end;
        end;

        return m_attributes.push_back(objectFactoryInstance.createPart10Attribute(creditId, this, getAttributeCompositeValue(creditId)));
    end;

    /**
     * Конструктор.
     * 
     * @param     partId	название раздела
     * @param     report	ссылка на отчет
     * @param     compositeValue	ссылка на составное значение
     */
    macro constructorF303Part10(partId : Integer, report : RcbReportBase, compositeValue)
        initTF303PartBase(partId, report, compositeValue);
    end;

    constructorF303Part10(partId, report, compositeValue);
end;

class (TF303Part10) TF303UserPart10(partId : Integer, report : RcbReportBase, compositeValue)
    initTF303Part10(partId, report, compositeValue);

    macro getAttribute(creditId : Integer, trancheNumber : Integer, dateRemovalDebt, maturityDateDebt) : RcbAttributeBase
        m_attributes.moveFirst();
        while (m_attributes.moveNext())
            if (m_attributes.getCurrentItem().getId() == creditId)
              return m_attributes.getCurrentItem();
            end;
        end;

        return m_attributes.push_back(objectFactoryInstance.createPart10UserAttribute(creditId, this, getAttributeCompositeValue(creditId)));
    end;
end;
