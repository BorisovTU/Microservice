/*
$Name:          f303Parameters.mac
$Module:        ¥£« ¬¥­â¨àã¥¬ ï ®âç¥â­®áâì
$Description:   ”®à¬  303.  à ¬¥âàë ®âç¥â 
*/

import ReptCbInter;
import BankInter;
import RcbCoreInter;

/**
 * ƒ«®¡ «ì­ ï ááë«ª  ¤«ï åà ­¥­¨ï ¯ à ¬¥âà®¢.
 */
private var m_parameters = null;

private class TF303ParametersImpl()
    var m_writeOffOldDebt;

    macro getWriteOffOldDebt()
        return m_writeOffOldDebt;
    end;

    private macro constructorTF303Parameters()
        getRegistryValue("REPTREG/REP_GROUPS/”ŽŒ€ 115/‘ˆ‘€ˆ… ‘’€Ž‰ ‡€„Ž‹†…Ž‘’ˆ", V_BOOL, m_writeOffOldDebt, null);
    end;

    constructorTF303Parameters();
end;

private class (TF303ParametersImpl) TF303ParametersImpl_4033()
    var m_isAccountingEnsure;

    initTF303ParametersImpl();

    getRegistryValue("RS-LOANS/“—…’_Ž…‘…—…ˆŸ", V_INTEGER, m_isAccountingEnsure, NULL);

    macro getIsAccountingEnsure()
        return m_isAccountingEnsure;
    end;
end;

private class (TF303ParametersImpl_4033) TF303Parameters_4637()
    var m_isIdContract;

    initTF303ParametersImpl_4033();

    getRegistryValue("REPTREG/REP_GROUPS/”ŽŒ€ 303/ˆ„…’ˆ”ˆŠ€–ˆŽ›‰ ŠŽ„ „ŽƒŽ‚Ž€", V_BOOL, m_isIdContract, NULL);

    macro getIsIdContract()
        return m_isIdContract;
    end;
end;

/**
 * ’®çª  ¤®áâã¯ .
 */
macro TF303Parameters() : TF303ParametersImpl
    if (m_parameters == null)
        if (rcbApplication().currentReport().context.period.EndDate >= RCB_I4637_DATE)
            m_parameters = TF303Parameters_4637();
        elif (rcbApplication().currentReport().context.period.EndDate >= RCB_I4033_DATE)
            m_parameters = TF303ParametersImpl_4033();
        else
            m_parameters = TF303ParametersImpl();
        end;
    end;

    return m_parameters;
end;
