/*
$Name:          f303Global.mac
$Module:        Регламентируемая отчетность
$Description:   Форма 303. Глобальный класс
*/

/**
 * Форма 303. Глобальный класс.
 *
 * @since   10.08.2015
 * @author  Kirin Pavel
 * @version 6.00.020.31
 */

class (TGlobalBase) TF303Global()
    initTGlobalBase();

    private var m_rcbReport = rcbApplication.currentReport;

    macro getRcbReport() : RcbReport
        return m_rcbReport;
    end;

    sql_execute("CALL rep_opt.clearOurBankTable()");
    sql_execute("CALL rep_opt.makeOurBankSlice()");
end;

macro global()
    if (v_global == null)
        v_global = TF303Global();
    end;

    return v_global;
end;