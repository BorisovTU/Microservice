/*
$Name:          f303Attribute.mac
$Module:        Регламентируемая отчетность
$Description:   Форма 303. Атрибут отчета
*/

/**
 * Форма 303. Атрибут отчета.
 *
 * @since   10.08.2015
 * @author  Kirin Pavel
 * @version 6.00.020.31
 */

class (RcbAttributeBase) TF303AttributeBase(creditId : Integer, part : RcbPartBase, compositeValue : Object /*RcbCompositeValue или RcbAttributeValue*/)
    initRcbAttributeBase(creditId, part, compositeValue);

    private macro getCompositeValue(creditId : Integer, isFind : Bool) : RcbCompositeValue
        defaultParm(isFind, false);

        var keyValue = m_attributeCompositeValue.createKeyValue();

        if (creditId == NULL)
            throw(TVariableIsNotDefined("creditId"));
        end;

        keyValue.fieldValue("creditId") = creditId;

        var compositeValue = m_attributeCompositeValue.findVAlue(keyValue);

        if (compositeValue != null)
            return compositeValue;
        elif (isFind)
            return null;
        end;

        compositeValue = m_attributeCompositeValue.addValue();

        compositeValue.reset();

        compositeValue.fieldValue("creditId").exact = creditId;

        return compositeValue;
    end;

    macro getCreditId() : String
        return getId();
    end;
end;

class (TF303AttributeBase) TF303Part1Attribute(creditId : Integer, part : RcbPartBase, compositeValue : Object /*RcbCompositeValue или RcbAttributeValue*/)

    macro setValue(obj : Object)
        if (obj != null)
            var compositeValue = getCompositeValue(obj.creditId);

            if (compositeValue != null)
                compositeValue.fieldValue("debtor").exact = obj.debtor;
                compositeValue.fieldValue("ogrn").exact = obj.ogrn;
                compositeValue.fieldValue("ogrnip").exact = obj.ogrnip;
                compositeValue.fieldValue("registrationDate").exact = String(NVL(obj.registrationDate, ""));
                compositeValue.fieldValue("debtorINN").exact = obj.debtorINN;
                compositeValue.fieldValue("debtorOKPO").exact = obj.debtorOKPO;
                compositeValue.fieldValue("debtorOKSM").exact = obj.debtorOKSM;
                compositeValue.fieldValue("isMSP").exact = obj.isMSP;
                compositeValue.fieldValue("relationsWitnBank").exact = obj.relationsWitnBank;
                compositeValue.recalculateScaled();
            end;
        end;
    end;

    macro getDebtor() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("debtor").exact;
    end;

    macro getOgrn() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("ogrn").exact;
    end;

    macro getOgrnip() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("ogrnip").exact;
    end;

    macro getRegistrationDate() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("registrationDate").exact;
    end;

    macro getDebtorINN() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("debtorINN").exact;
    end;

    macro getDebtorOKPO() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("debtorOKPO").exact;
    end;

    macro getDebtorOKSM() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("debtorOKSM").exact;
    end;

    macro getIsMSP() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("isMSP").exact;
    end;

    macro getRelationsWitnBank() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("relationsWitnBank").exact;
    end;

    initTF303AttributeBase(creditId, part, compositeValue);
end;

class (TF303Part1Attribute) TF303Part1Attribute_4212(creditId : Integer, part : RcbPartBase, compositeValue : Object /*RcbCompositeValue или RcbAttributeValue*/)
    initTF303Part1Attribute(creditId, part, compositeValue);

    macro setValue(obj : Object)
        if (obj != null)
            var compositeValue = getCompositeValue(obj.creditId);

            if (compositeValue != null)
                compositeValue.fieldValue("debtor").exact = obj.debtor;
                compositeValue.fieldValue("ogrn").exact = obj.ogrn;
                compositeValue.fieldValue("ogrnip").exact = obj.ogrnip;
                compositeValue.fieldValue("registrationDate").exact = String(NVL(obj.registrationDate, ""));
                compositeValue.fieldValue("debtorINN").exact = obj.debtorINN;
                compositeValue.fieldValue("debtorOKPO").exact = obj.debtorOKPO;
                compositeValue.fieldValue("debtorOKSM").exact = obj.debtorOKSM;
                compositeValue.fieldValue("relationsWitnBank").exact = obj.relationsWitnBank;
                compositeValue.recalculateScaled();
            end;
        end;
    end;

end;

class (TF303Part1Attribute_4212) TF303Part1Attribute_4637(creditId : Integer, part : RcbPartBase, compositeValue : Object /*RcbCompositeValue или RcbAttributeValue*/)
    initTF303Part1Attribute_4212(creditId, part, compositeValue);

    private macro getCompositeValue(creditId : Integer, addLine : Integer, isFind : Bool) : RcbCompositeValue
        defaultParm(isFind, false);

        var keyValue = m_attributeCompositeValue.createKeyValue();

        if (creditId == NULL)
            throw(TVariableIsNotDefined("creditId"));
        end;

        keyValue.fieldValue("creditId") = creditId;
        keyValue.fieldValue("addLine") = addLine;

        var compositeValue = m_attributeCompositeValue.findVAlue(keyValue);

        if (compositeValue != null)
            return compositeValue;
        elif (isFind)
            return null;
        end;

        compositeValue = m_attributeCompositeValue.addValue();

        compositeValue.reset();

        compositeValue.fieldValue("creditId").exact = creditId;
        compositeValue.fieldValue("addLine").exact = addLine;

        return compositeValue;
    end;

    macro setValue(obj : Object)
        if (obj != null)
            var compositeValue = getCompositeValue(obj.creditId, obj.addLine);

            if (compositeValue != null)
                compositeValue.fieldValue("debtor").exact = obj.debtor;
                compositeValue.fieldValue("ogrn").exact = obj.ogrn;
                compositeValue.fieldValue("ogrnip").exact = obj.ogrnip;
                compositeValue.fieldValue("registrationDate").exact = String(NVL(obj.registrationDate:f, ""));
                compositeValue.fieldValue("debtorINN").exact = obj.debtorINN;
                compositeValue.fieldValue("debtorOKPO").exact = obj.debtorOKPO;
                compositeValue.fieldValue("debtorOKSM").exact = obj.debtorOKSM;
                compositeValue.fieldValue("relationsWitnBank").exact = String(NVL(obj.relationsWitnBank, ""));
                compositeValue.fieldValue("addLine").exact = obj.addLine;

                compositeValue.recalculateScaled();

                if (obj.okved != null)
                    compositeValue.fieldValue("okved").exact = obj.okved;
                    compositeValue.fieldValue("okved").recalculateScaled();
                else
                    compositeValue.fieldValue("okved").setUndefined();
                end;

                if (obj.borrowersGroupNumber != null)
                    compositeValue.fieldValue("borrowersGroupNumber").exact = obj.borrowersGroupNumber;
                    compositeValue.fieldValue("borrowersGroupNumber").recalculateScaled();
                else
                    compositeValue.fieldValue("borrowersGroupNumber").setUndefined();
                end;

                if (obj.borrowersGroupName != null)
                    compositeValue.fieldValue("borrowersGroupName").exact = obj.borrowersGroupName;
                    compositeValue.fieldValue("borrowersGroupName").recalculateScaled();
                else
                    compositeValue.fieldValue("borrowersGroupName").setUndefined();
                end;
            end;
        end;
    end;

    macro getOkved() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("okved").exact;
    end;

    macro getBorrowersGroupNumber() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("borrowersGroupNumber").exact;
    end;

    macro getBorrowersGroupName() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("borrowersGroupName").exact;
    end;

    macro getAddLine() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("addLine").exact;
    end;
end;

class (TF303Part1Attribute) TF303Part1UserAttribute(creditId : Integer, part : RcbPartBase, compositeValue : Object /*RcbCompositeValue или RcbAttributeValue*/)
    initTF303Part1Attribute(creditId, part, compositeValue);

    macro setValue(attribute)
        if (attribute != null)
            var compositeValue = getCompositeValue(attribute.getCreditId());

            if (compositeValue != null)
                compositeValue.setUndefined();
                compositeValue.fieldValue("creditId").exact = attribute.getCreditId();
                compositeValue.recalculateScaled();
            end;
        end;
    end;

end;

class (TF303Part1Attribute_4637) TF303Part1UserAttribute_4637(creditId : Integer, part : RcbPartBase, compositeValue : Object /*RcbCompositeValue или RcbAttributeValue*/)
    initTF303Part1Attribute_4637(creditId, part, compositeValue);

    macro setValue(attribute)
        if (attribute != null)
            var compositeValue = getCompositeValue(attribute.getCreditId(), attribute.getAddLine());

            if (compositeValue != null)
                compositeValue.setUndefined();
                compositeValue.fieldValue("creditId").exact = attribute.getCreditId();
                compositeValue.fieldValue("addLine").exact = attribute.getAddLine();
                compositeValue.recalculateScaled();
            end;
        end;
    end;

end;

class (TF303AttributeBase) TF303Part2Attribute(creditId : Integer, part : RcbPartBase, compositeValue : Object /*RcbCompositeValue или RcbAttributeValue*/)

    private macro getCompositeValue(creditId : Integer, dateEntry : String, trancheNumber : Integer, isFind : Bool) : RcbCompositeValue
        defaultParm(isFind, false);

        var keyValue = m_attributeCompositeValue.createKeyValue();

        if (creditId == NULL)
            throw(TVariableIsNotDefined("creditId"));
        end;

        if (trancheNumber == NULL)
            throw(TVariableIsNotDefined("trancheNumber"));
        end;

        keyValue.fieldValue("creditId") = creditId;
        keyValue.fieldValue("dateEntry") = NVL(dateEntry, "");
        keyValue.fieldValue("trancheNumber") = trancheNumber;

        var compositeValue = m_attributeCompositeValue.findVAlue(keyValue);

        if (compositeValue != null)
            return compositeValue;
        elif (isFind)
            return null;
        end;

        compositeValue = m_attributeCompositeValue.addValue();

        compositeValue.reset();

        compositeValue.fieldValue("creditId").exact = creditId;
        compositeValue.fieldValue("dateEntry").exact = NVL(dateEntry, "");
        compositeValue.fieldValue("trancheNumber").exact = trancheNumber;

        return compositeValue;
    end;

    macro setValue(obj : Object)
        if (obj != null)
            var compositeValue = getCompositeValue(obj.creditId, obj.dateEntry, obj.trancheNumber);

            if (compositeValue != null)
                compositeValue.fieldValue("creditNumber").exact = obj.creditNumber;
                compositeValue.fieldValue("date").exact = String(NVL(obj.date, ""));
                compositeValue.fieldValue("numberLoan").exact = obj.numberLoan;
                compositeValue.fieldValue("dateLoan").exact = String(NVL(obj.dateLoan, ""));
                compositeValue.fieldValue("partyLoan").exact = obj.partyLoan;
                compositeValue.fieldValue("ogrnLoan").exact = obj.ogrnLoan;
                compositeValue.fieldValue("regnumberLoan").exact = obj.regnumberLoan;
                compositeValue.fieldValue("oksmLoan").exact = obj.oksmLoan;
                compositeValue.fieldValue("numberRestructurings").exact = obj.numberRestructurings;
                compositeValue.fieldValue("dateClaim").exact = String(NVL(obj.dateClaim, ""));
                compositeValue.fieldValue("dateEntry").exact = String(NVL(obj.dateEntry, ""));

                if (obj.sumClaim != null)
                    compositeValue.fieldValue("sumClaim").exact = obj.sumClaim;
                else
                    compositeValue.fieldValue("sumClaim").setUndefined();
                end;
                if (obj.sumCollection != null)
                    compositeValue.fieldValue("sumCollection").exact = obj.sumCollection;
                else
                    compositeValue.fieldValue("sumCollection").setUndefined();
                end;
                // compositeValue.fieldValue("sumCollection").exact = obj.sumCollection;
                if (obj.fiCode != null)
                    compositeValue.fieldValue("fiCode").exact = obj.fiCode;
                else
                    compositeValue.fieldValue("fiCode").setUndefined();
                end;
                compositeValue.fieldValue("bankruptcyInfo").exact = obj.bankruptcyInfo;
                compositeValue.fieldValue("trancheNumber").exact = obj.trancheNumber;
                compositeValue.fieldValue("addLine").exact = obj.addLine;
                compositeValue.recalculateScaled();
            end;
        end;
    end;

    macro getCreditId() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("creditId").exact;
    end;

    macro getTrancheNumber() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("trancheNumber").exact;
    end;

    macro getCreditNumber() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("creditNumber").exact;
    end;

    macro getCreditIdForReport() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        var contractId : String;

        if (TF303Parameters().getIsIdContract() == true)
            contractId = string(int(getCreditId()));
        else
            contractId = getCreditNumber();
            if (contractId == "бн")
                contractId = string(int(getCreditId()));
            end;
        end;

        return contractId;
    end;

    macro getDate() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("date").exact;
    end;

    macro getNumberLoan() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("numberLoan").exact;
    end;

    macro getDateLoan() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("dateLoan").exact;
    end;

    macro getPartyLoan() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("partyLoan").exact;
    end;

    macro getOgrnLoan() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("ogrnLoan").exact;
    end;

    macro getRegnumberLoan() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("regnumberLoan").exact;
    end;

    macro getOksmLoan() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("oksmLoan").exact;
    end;

    macro getNumberRestructurings() : Integer
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("numberRestructurings").exact;
    end;

    macro getDateClaim() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("dateClaim").exact;
    end;

    macro getDateEntry() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("dateEntry").exact;
    end;

    macro getSumClaim() : Money
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("sumClaim").exact;
    end;

    macro getSumCollection() : Money
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("sumCollection").exact;
    end;

    macro getFiCode() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("fiCode").exact;
    end;

    macro getBankruptcyInfo() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("bankruptcyInfo").exact;
    end;

    macro getAddLine() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("addLine").exact;
    end;

    initTF303AttributeBase(creditId, part, compositeValue);
end;

class (TF303Part2Attribute) TF303Part2Attribute_4212(creditId : Integer, part : RcbPartBase, compositeValue : Object /*RcbCompositeValue или RcbAttributeValue*/)
    initTF303Part2Attribute(creditId, part, compositeValue);

    macro setValue(obj : Object)
        if (obj != null)
            var compositeValue = getCompositeValue(obj.creditId, obj.dateEntry, obj.trancheNumber);

            if (compositeValue != null)
                compositeValue.fieldValue("creditNumber").exact = obj.creditNumber;
                compositeValue.fieldValue("date").exact = String(NVL(obj.date, ""));
                compositeValue.fieldValue("numberLoan").exact = obj.numberLoan;
                compositeValue.fieldValue("dateLoan").exact = String(NVL(obj.dateLoan, ""));
                compositeValue.fieldValue("partyLoan").exact = obj.partyLoan;
                compositeValue.fieldValue("ogrnLoan").exact = obj.ogrnLoan;
                compositeValue.fieldValue("regnumberLoan").exact = obj.regnumberLoan;
                compositeValue.fieldValue("oksmLoan").exact = obj.oksmLoan;
                compositeValue.fieldValue("numberRestructurings").exact = obj.numberRestructurings;
                compositeValue.fieldValue("dateFilingSuit").exact = String(NVL(obj.dateFilingSuit, ""));
                compositeValue.fieldValue("lawCourt").exact = String(NVL(obj.lawCourt, ""));
                compositeValue.fieldValue("dateClaim").exact = String(NVL(obj.dateClaim, ""));
                compositeValue.fieldValue("dateEntry").exact = String(NVL(obj.dateEntry, ""));

                compositeValue.fieldValue("bankruptcyInfo").exact = obj.bankruptcyInfo;
                compositeValue.fieldValue("dateBankruptcy").exact = String(NVL(obj.dateBankruptcy, ""));
                compositeValue.fieldValue("trancheNumber").exact = obj.trancheNumber;
                compositeValue.fieldValue("addLine").exact = obj.addLine;
                compositeValue.recalculateScaled();

                if (obj.sumClaim != null)
                    compositeValue.fieldValue("sumClaim").exact = obj.sumClaim;
                    compositeValue.fieldValue("sumClaim").recalculateScaled();
                else
                    compositeValue.fieldValue("sumClaim").setUndefined();
                end;
                if (obj.sumCollection != null)
                    compositeValue.fieldValue("sumCollection").exact = obj.sumCollection;
                    compositeValue.fieldValue("sumCollection").recalculateScaled();
                else
                    compositeValue.fieldValue("sumCollection").setUndefined();
                end;
                // compositeValue.fieldValue("sumCollection").exact = obj.sumCollection;
                if (obj.fiCode != null)
                    compositeValue.fieldValue("fiCode").exact = obj.fiCode;
                    compositeValue.fieldValue("fiCode").recalculateScaled();
                else
                    compositeValue.fieldValue("fiCode").setUndefined();
                end;
            end;
        end;
    end;

    macro getDateFilingSuit() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("dateFilingSuit").exact;
    end;

    macro getLawCourt() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("lawCourt").exact;
    end;

    macro getDateBankruptcy() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("dateBankruptcy").exact;
    end;
end;

class (TF303Part2Attribute_4212) TF303Part2Attribute_4637(creditId : Integer, part : RcbPartBase, compositeValue : Object /*RcbCompositeValue или RcbAttributeValue*/)
    initTF303Part2Attribute_4212(creditId, part, compositeValue);

    macro setValue(obj : Object)
        if (obj != null)
            var compositeValue = getCompositeValue(obj.creditId, obj.dateEntry, obj.trancheNumber);

            if (compositeValue != null)
                compositeValue.fieldValue("creditNumber").exact = NVL(obj.creditNumber, "");
                compositeValue.fieldValue("date").exact = String(NVL(obj.date:f, ""));
                compositeValue.fieldValue("numberLoan").exact = NVL(obj.numberLoan, "");
                compositeValue.fieldValue("dateLoan").exact = String(NVL(obj.dateLoan:f, ""));
                compositeValue.fieldValue("partyLoan").exact = NVL(obj.partyLoan, "");
                compositeValue.fieldValue("ogrnLoan").exact = NVL(obj.ogrnLoan, "");
                compositeValue.fieldValue("regnumberLoan").exact = NVL(obj.regnumberLoan, "");
                compositeValue.fieldValue("oksmLoan").exact = NVL(obj.oksmLoan, "");
                compositeValue.fieldValue("numberRestructurings").exact = NVL(obj.numberRestructurings, "");
                compositeValue.fieldValue("dateFilingSuit").exact = String(NVL(obj.dateFilingSuit:f, ""));
                compositeValue.fieldValue("lawCourt").exact = String(NVL(obj.lawCourt, ""));
                compositeValue.fieldValue("dateClaim").exact = String(NVL(obj.dateClaim:f, ""));
                compositeValue.fieldValue("dateEntry").exact = String(NVL(obj.dateEntry:f, ""));

                compositeValue.fieldValue("bankruptcyInfo").exact = NVL(obj.bankruptcyInfo, "");
                compositeValue.fieldValue("dateBankruptcy").exact = String(NVL(obj.dateBankruptcy:f, ""));
                compositeValue.fieldValue("trancheNumber").exact = obj.trancheNumber;
                compositeValue.fieldValue("addLine").exact = obj.addLine;
                compositeValue.recalculateScaled();

                if (obj.sumClaim != null)
                    compositeValue.fieldValue("sumClaim").exact = obj.sumClaim;
                    compositeValue.fieldValue("sumClaim").recalculateScaled();
                else
                    compositeValue.fieldValue("sumClaim").setUndefined();
                end;
                if (obj.sumCollection != null)
                    compositeValue.fieldValue("sumCollection").exact = obj.sumCollection;
                    compositeValue.fieldValue("sumCollection").recalculateScaled();
                else
                    compositeValue.fieldValue("sumCollection").setUndefined();
                end;

                if (obj.fiCode != null)
                    compositeValue.fieldValue("fiCode").exact = obj.fiCode;
                    compositeValue.fieldValue("fiCode").recalculateScaled();
                else
                    compositeValue.fieldValue("fiCode").setUndefined();
                end;

                if (obj.dateLastRestructuring != null)
                    compositeValue.fieldValue("dateLastRestructuring").exact = string(obj.dateLastRestructuring:f);
                else
                    compositeValue.fieldValue("dateLastRestructuring").setUndefined();
                end;

                if (obj.beneficiaryName != null)
                    compositeValue.fieldValue("beneficiaryName").exact = obj.beneficiaryName;
                else
                    compositeValue.fieldValue("beneficiaryName").setUndefined();
                end;

                if (obj.beneficiaryOgrn != null)
                    compositeValue.fieldValue("beneficiaryOgrn").exact = obj.beneficiaryOgrn;
                else
                    compositeValue.fieldValue("beneficiaryOgrn").setUndefined();
                end;

                if (obj.beneficiaryRegNumber != null)
                    compositeValue.fieldValue("beneficiaryRegNumber").exact = obj.beneficiaryRegNumber;
                else
                    compositeValue.fieldValue("beneficiaryRegNumber").setUndefined();
                end;

                if (obj.beneficiaryOksm != null)
                    compositeValue.fieldValue("beneficiaryOksm").exact = obj.beneficiaryOksm;
                else
                    compositeValue.fieldValue("beneficiaryOksm").setUndefined();
                end;

                if (obj.obligationKind != null)
                    compositeValue.fieldValue("obligationKind").exact = obj.obligationKind;
                else
                    compositeValue.fieldValue("obligationKind").setUndefined();
                end;

                if (obj.obligationSum != null)
                    compositeValue.fieldValue("obligationSum").exact = obj.obligationSum;
                else
                    compositeValue.fieldValue("obligationSum").setUndefined();
                end;

                if (obj.maturityObligation != null)
                    compositeValue.fieldValue("maturityObligation").exact = string(obj.maturityObligation : f);
                else
                    compositeValue.fieldValue("maturityObligation").setUndefined();
                end;

            end;
        end;
    end;

    macro getDateLastRestructuring() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("dateLastRestructuring").exact;
    end;

    macro getBeneficiaryName() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("beneficiaryName").exact;
    end;

    macro getBeneficiaryOgrn() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("beneficiaryOgrn").exact;
    end;

    macro getBeneficiaryRegNumber() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("beneficiaryRegNumber").exact;
    end;

    macro getBeneficiaryOksm() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("beneficiaryOksm").exact;
    end;

    macro getObligationKind() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("obligationKind").exact;
    end;

    macro getObligationSum() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("obligationSum").exact;
    end;

    macro getMaturityObligation() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("maturityObligation").exact;
    end;

end;

class (TF303Part2Attribute)TF303Part2UserAttribute(creditId : Integer, part : RcbPartBase, compositeValue : Object /*RcbCompositeValue или RcbAttributeValue*/)
    initTF303Part2Attribute(creditId, part, compositeValue);

    macro setValue(attribute)
        if (attribute != null)

            var compositeValue = getCompositeValue(attribute.getCreditId(), attribute.getDateEntry(), attribute.getTrancheNumber());

            if (compositeValue != null)
                compositeValue.setUndefined();

                compositeValue.fieldValue("creditId").exact = attribute.getCreditId();
                compositeValue.fieldValue("dateEntry").exact = attribute.getDateEntry();
                compositeValue.fieldValue("trancheNumber").exact = attribute.getTrancheNumber();
                compositeValue.fieldValue("addLine").exact = attribute.getAddLine();
            end;
        end;
    end;
end;

class (TF303Part2Attribute_4212)TF303Part2UserAttribute_4212(creditId : Integer, part : RcbPartBase, compositeValue : Object /*RcbCompositeValue или RcbAttributeValue*/)
    initTF303Part2Attribute_4212(creditId, part, compositeValue);

    macro setValue(attribute)
        if (attribute != null)

            var compositeValue = getCompositeValue(attribute.getCreditId(), attribute.getDateEntry(), attribute.getTrancheNumber());

            if (compositeValue != null)
                compositeValue.setUndefined();

                compositeValue.fieldValue("creditId").exact = attribute.getCreditId();
                compositeValue.fieldValue("dateEntry").exact = attribute.getDateEntry();
                compositeValue.fieldValue("trancheNumber").exact = attribute.getTrancheNumber();
                compositeValue.fieldValue("addLine").exact = attribute.getAddLine();
            end;
        end;
    end;
end;

class (TF303Part2Attribute_4637)TF303Part2UserAttribute_4637(creditId : Integer, part : RcbPartBase, compositeValue : Object /*RcbCompositeValue или RcbAttributeValue*/)
    initTF303Part2Attribute_4637(creditId, part, compositeValue);

    macro setValue(attribute)
        if (attribute != null)

            var compositeValue = getCompositeValue(attribute.getCreditId(), attribute.getDateEntry(), attribute.getTrancheNumber());

            if (compositeValue != null)
                compositeValue.setUndefined();

                compositeValue.fieldValue("creditId").exact = attribute.getCreditId();
                compositeValue.fieldValue("dateEntry").exact = attribute.getDateEntry();
                compositeValue.fieldValue("trancheNumber").exact = attribute.getTrancheNumber();
                compositeValue.fieldValue("addLine").exact = attribute.getAddLine();
            end;
        end;
    end;
end;

class (TF303AttributeBase) TF303Part3Attribute(creditId : Integer, part : RcbPartBase, compositeValue : Object /*RcbCompositeValue или RcbAttributeValue*/)

    private macro getCompositeValue(creditId : Integer, account : String, trancheNumber : Integer, dateOrigContract : String, dateChangesContract : String, isFind : Bool) : RcbCompositeValue
        defaultParm(isFind, false);

        var keyValue = m_attributeCompositeValue.createKeyValue();

        if (creditId == NULL)
            throw(TVariableIsNotDefined("creditId"));
        end;

        if (account == NULL)
            throw(TVariableIsNotDefined("account"));
        end;

        if (trancheNumber == NULL)
            throw(TVariableIsNotDefined("trancheNumber"));
        end;

        keyValue.fieldValue("creditId") = creditId;
        keyValue.fieldValue("account") = account;
        keyValue.fieldValue("trancheNumber") = trancheNumber;
        keyValue.fieldValue("dateOrigContract") = NVL(dateOrigContract, "");
        keyValue.fieldValue("dateChangesContract") = NVL(dateChangesContract, "");

        var compositeValue = m_attributeCompositeValue.findVAlue(keyValue);

        if (compositeValue != null)
            return compositeValue;
        elif (isFind)
            return null;
        end;

        compositeValue = m_attributeCompositeValue.addValue();

        compositeValue.reset();

        compositeValue.fieldValue("creditId").exact = creditId;
        compositeValue.fieldValue("account").exact = account;
        compositeValue.fieldValue("trancheNumber").exact = trancheNumber;
        compositeValue.fieldValue("dateOrigContract").exact = dateOrigContract;
        compositeValue.fieldValue("dateChangesContract").exact = dateChangesContract;

        return compositeValue;
    end;

    macro setValue(obj : Object)
        if (obj != null)
            var compositeValue = getCompositeValue(obj.creditId, obj.account, obj.trancheNumber, obj.dateOrigContract, obj.dateChangesContract);

            if (compositeValue != null)
                compositeValue.fieldValue("typeLoan").exact = obj.typeLoan;
                compositeValue.fieldValue("purposeCredit").exact = NVL(obj.purposeCredit, "");
                compositeValue.fieldValue("sumOrigContract").exact = obj.sumOrigContract;
                compositeValue.fieldValue("sumChangesContract").exact = obj.sumChangesContract;
                compositeValue.fieldValue("fiCodeOrigContract").exact = obj.fiCodeOrigContract;
                compositeValue.fieldValue("fiCodeChangesContract").exact = obj.fiCodeChangesContract;
                compositeValue.fieldValue("dateOrigContract").exact = String(NVL(obj.dateOrigContract, ""));
                compositeValue.fieldValue("dateChangesContract").exact = String(NVL(obj.dateChangesContract, ""));
                compositeValue.fieldValue("typeRate").exact = obj.typeRate;
                if (obj.rateOrigContract != null)
                    compositeValue.fieldValue("rateOrigContract").exact = obj.rateOrigContract;
                else
                    compositeValue.fieldValue("rateOrigContract").setUndefined();
                end;
                if (obj.rateChangesContract != null)
                    compositeValue.fieldValue("rateChangesContract").exact = obj.rateChangesContract;
                else
                    compositeValue.fieldValue("rateChangesContract").setUndefined();
                end;
                if (obj.rateLoan != null)
                    compositeValue.fieldValue("rateLoan").exact = obj.rateLoan;
                else
                    compositeValue.fieldValue("rateLoan").setUndefined();
                end;
                if (obj.interestPeriod != null)
                    compositeValue.fieldValue("interestPeriod").exact = obj.interestPeriod;
                else
                    compositeValue.fieldValue("interestPeriod").setUndefined();
                end;
                if (obj.typeFloatRate != null)
                    compositeValue.fieldValue("typeFloatRate").exact = obj.typeFloatRate;
                else
                    compositeValue.fieldValue("typeFloatRate").setUndefined();
                end;

                compositeValue.fieldValue("conditionCode").exact = obj.conditionCode;
                compositeValue.fieldValue("creditIdCode").exact = obj.creditIdCode;
                compositeValue.fieldValue("account").exact = obj.account;
                compositeValue.fieldValue("trancheNumber").exact = obj.trancheNumber;
                compositeValue.fieldValue("addLine").exact = obj.addLine;
                compositeValue.recalculateScaled();
            end;
        end;
    end;

    macro getAddLine() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("addLine").exact;
    end;

    macro getTrancheNumber() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("trancheNumber").exact;
    end;

    macro getAccount() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("account").exact;
    end;

    macro getTypeLoan() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("typeLoan").exact;
    end;

    macro getPurposeCredit() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("purposeCredit").exact;
    end;

    macro getSumOrigContract() : Money
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("sumOrigContract").exact;
    end;

    macro getSumChangesContract() : Money
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("sumChangesContract").exact;
    end;

    macro getFiCodeOrigContract() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("fiCodeOrigContract").exact;
    end;

    macro getFiCodeChangesContract() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("fiCodeChangesContract").exact;
    end;

    macro getDateOrigContract() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("dateOrigContract").exact;
    end;

    macro getDateChangesContract() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("dateChangesContract").exact;
    end;

    macro getTypeRate() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("typeRate").exact;
    end;

    macro getRateOrigContract() : Double
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("rateOrigContract").exact;
    end;

    macro getRateChangesContract() : Double
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("rateChangesContract").exact;
    end;

    macro getRateLoan() : Double
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("rateLoan").exact;
    end;

    macro getInterestPeriod() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("interestPeriod").exact;
    end;

    macro getTypeFloatRate() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("typeFloatRate").exact;
    end;

    macro getConditionCode() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("conditionCode").exact;
    end;

    macro getCreditIdCode() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("creditIdCode").exact;
    end;

    initTF303AttributeBase(creditId, part, compositeValue);
end;

class (TF303Part3Attribute) TF303Part3Attribute_4637(creditId : Integer, part : RcbPartBase, compositeValue : Object /*RcbCompositeValue или RcbAttributeValue*/)
    initTF303Part3Attribute(creditId, part, compositeValue);

    macro setValue(obj : Object)
        if (obj != null)
            var compositeValue = getCompositeValue(obj.creditId, obj.account, obj.trancheNumber, obj.dateOrigContract, obj.dateChangesContract);

            if (compositeValue != null)
                compositeValue.fieldValue("typeLoan").exact = NVL(obj.typeLoan, "");
                compositeValue.fieldValue("purposeCredit").exact = NVL(obj.purposeCredit, "");
                compositeValue.fieldValue("sumOrigContract").exact = obj.sumOrigContract;
                compositeValue.fieldValue("sumChangesContract").exact = obj.sumChangesContract;
                compositeValue.fieldValue("fiCodeOrigContract").exact = obj.fiCodeOrigContract;
                compositeValue.fieldValue("fiCodeChangesContract").exact = obj.fiCodeChangesContract;
                compositeValue.fieldValue("dateOrigContract").exact = String(NVL(obj.dateOrigContract:f, ""));
                compositeValue.fieldValue("dateChangesContract").exact = String(NVL(obj.dateChangesContract:f, ""));
                compositeValue.fieldValue("typeRate").exact = obj.typeRate;
                compositeValue.fieldValue("conditionCode").exact = obj.conditionCode;
                compositeValue.fieldValue("creditIdCode").exact = obj.creditIdCode;
                compositeValue.fieldValue("account").exact = obj.account;
                compositeValue.fieldValue("trancheNumber").exact = obj.trancheNumber;
                compositeValue.fieldValue("addLine").exact = obj.addLine;
                compositeValue.recalculateScaled();

                if (obj.rateOrigContract != null)
                    compositeValue.fieldValue("rateOrigContract").exact = obj.rateOrigContract;
                    compositeValue.recalculateScaled();
                else
                    compositeValue.fieldValue("rateOrigContract").setUndefined();
                end;
                if (obj.rateChangesContract != null)
                    compositeValue.fieldValue("rateChangesContract").exact = obj.rateChangesContract;
                    compositeValue.recalculateScaled();
                else
                    compositeValue.fieldValue("rateChangesContract").setUndefined();
                end;
                if (obj.rateLoan != null)
                    compositeValue.fieldValue("rateLoan").exact = obj.rateLoan;
                    compositeValue.recalculateScaled();
                else
                    compositeValue.fieldValue("rateLoan").setUndefined();
                end;
                if (obj.interestPeriod != null)
                    compositeValue.fieldValue("interestPeriod").exact = obj.interestPeriod;
                    compositeValue.recalculateScaled();
                else
                    compositeValue.fieldValue("interestPeriod").setUndefined();
                end;

                if (obj.typeFloatRate != null)
                    compositeValue.fieldValue("typeFloatRate").exact = obj.typeFloatRate;
                    compositeValue.recalculateScaled();
                else
                    compositeValue.fieldValue("typeFloatRate").setUndefined();
                end;

                if (obj.typeFloatRateEndDate != null)
                    compositeValue.fieldValue("typeFloatRateEndDate").exact = obj.typeFloatRateEndDate;
                    compositeValue.recalculateScaled();
                else
                    compositeValue.fieldValue("typeFloatRateEndDate").setUndefined();
                end;

                if (obj.typeRateEndDate != null)
                    compositeValue.fieldValue("typeRateEndDate").exact = obj.typeRateEndDate;
                    compositeValue.recalculateScaled();
                else
                    compositeValue.fieldValue("typeRateEndDate").setUndefined();
                end;
            end;
        end;
    end;

    macro getTypeRateEndDate() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("typeRateEndDate").exact;
    end;

    macro getTypeFloatRateEndDate() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("typeFloatRateEndDate").exact;
    end;
end;

class (TF303Part3Attribute) TF303Part3UserAttribute(creditId : Integer, part : RcbPartBase, compositeValue : Object /*RcbCompositeValue или RcbAttributeValue*/)
    initTF303Part3Attribute(creditId, part, compositeValue);

    macro setValue(attribute)
        if (attribute != null)
            var compositeValue = getCompositeValue(attribute.getCreditId(), attribute.getAccount(), attribute.getTrancheNumber(), attribute.getDateOrigContract(), attribute.getDateChangesContract());

            if (compositeValue != null)
                compositeValue.setUndefined();
                compositeValue.fieldValue("creditId").exact = attribute.getCreditId();
                compositeValue.fieldValue("account").exact = attribute.getAccount();
                compositeValue.fieldValue("dateOrigContract").exact = String(NVL(attribute.getDateOrigContract(), ""));
                compositeValue.fieldValue("dateChangesContract").exact = String(NVL(attribute.getDateChangesContract(), ""));
                compositeValue.fieldValue("trancheNumber").exact = attribute.getTrancheNumber();
                compositeValue.fieldValue("addLine").exact = attribute.getAddLine();
            end;
        end;
    end;
end;

class (TF303Part3Attribute_4637) TF303Part3UserAttribute_4637(creditId : Integer, part : RcbPartBase, compositeValue : Object /*RcbCompositeValue или RcbAttributeValue*/)
    initTF303Part3Attribute_4637(creditId, part, compositeValue);

    macro setValue(attribute)
        if (attribute != null)
            var compositeValue = getCompositeValue(attribute.getCreditId(), attribute.getAccount(), attribute.getTrancheNumber(), attribute.getDateOrigContract(), attribute.getDateChangesContract());

            if (compositeValue != null)
                compositeValue.setUndefined();
                compositeValue.fieldValue("creditId").exact = attribute.getCreditId();
                compositeValue.fieldValue("account").exact = attribute.getAccount();
                compositeValue.fieldValue("dateOrigContract").exact = String(NVL(attribute.getDateOrigContract(), ""));
                compositeValue.fieldValue("dateChangesContract").exact = String(NVL(attribute.getDateChangesContract(), ""));
                compositeValue.fieldValue("trancheNumber").exact = attribute.getTrancheNumber();
                compositeValue.fieldValue("addLine").exact = attribute.getAddLine();
            end;
        end;
    end;
end;

class (TF303AttributeBase) TF303Part4Attribute(creditId : Integer, part : RcbPartBase, compositeValue : Object /*RcbCompositeValue или RcbAttributeValue*/)

    macro setValue(obj : Object)
        if (obj != null)
            var compositeValue = getCompositeValue(obj.creditId);

            if (compositeValue != null)
                compositeValue.fieldValue("typeSecurity").exact = obj.typeSecurity;
                if (obj.sumFirstQuality != null)
                    compositeValue.fieldValue("sumFirstQuality").exact = obj.sumFirstQuality;
                    compositeValue.fieldValue("sumFirstQuality").recalculateScaled();
                else
                    compositeValue.fieldValue("sumFirstQuality").setUndefined();
                end;
                if (obj.sumSecondQuality != null)
                    compositeValue.fieldValue("sumSecondQuality").exact = obj.sumSecondQuality;
                    compositeValue.fieldValue("sumSecondQuality").recalculateScaled();
                else
                    compositeValue.fieldValue("sumSecondQuality").setUndefined();
                end;
                if (obj.sumSecuritiesReserve != null)
                    compositeValue.fieldValue("sumSecuritiesReserve").exact = obj.sumSecuritiesReserve;
                    compositeValue.fieldValue("sumSecuritiesReserve").recalculateScaled();
                else
                    compositeValue.fieldValue("sumSecuritiesReserve").setUndefined();
                end;
                if (obj.typeInsurance != 0)
                    compositeValue.fieldValue("typeInsurance").exact = obj.typeInsurance;
                else
                    compositeValue.fieldValue("typeInsurance").exact = "";
                end;
            end;
        end;
    end;

    macro getTypeSecurity() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("typeSecurity").exact;
    end;

    macro getSumFirstQuality() : Money
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("sumFirstQuality").exact;
    end;

    macro getSumSecondQuality() : Money
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("sumSecondQuality").exact;
    end;

    macro getSumSecuritiesReserve() : Money
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("sumSecuritiesReserve").exact;
    end;

    macro getTypeInsurance() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("typeInsurance").exact;
    end;

    initTF303AttributeBase(creditId, part, compositeValue);
end;

class (TF303Part4Attribute) TF303Part4Attribute_4637(creditId : Integer, part : RcbPartBase, compositeValue : Object /*RcbCompositeValue или RcbAttributeValue*/)
    initTF303Part4Attribute(creditId, part, compositeValue);

    private macro getCompositeValue(creditId : Integer, typeSecurity : String, addLine : Integer, isFind : Bool) : RcbCompositeValue
        defaultParm(isFind, false);

        var keyValue = m_attributeCompositeValue.createKeyValue();

        if (creditId == NULL)
            throw(TVariableIsNotDefined("creditId"));
        end;

        if (typeSecurity == NULL)
            throw(TVariableIsNotDefined("typeSecurity"));
        end;

        if (addLine == NULL)
            throw(TVariableIsNotDefined("addLine"));
        end;

        keyValue.fieldValue("creditId") = creditId;
        keyValue.fieldValue("typeSecurity") = typeSecurity;
        keyValue.fieldValue("addLine") = addLine;

        var compositeValue = m_attributeCompositeValue.findVAlue(keyValue);

        if (compositeValue != null)
            return compositeValue;
        elif (isFind)
            return null;
        end;

        compositeValue = m_attributeCompositeValue.addValue();

        compositeValue.reset();

        compositeValue.fieldValue("creditId").exact = creditId;
        compositeValue.fieldValue("typeSecurity").exact = typeSecurity;
        compositeValue.fieldValue("addLine").exact = addLine;

        return compositeValue;
    end;

    macro setValue(obj : Object)
        if (obj != null)
            var compositeValue = getCompositeValue(obj.creditId, String(obj.typeSecurity), obj.addLine);

            if (compositeValue != null)
                compositeValue.fieldValue("addLine").exact = obj.addLine;
                compositeValue.fieldValue("repossessionDate").exact = subStr(string(NVL(obj.repossessionDate:f, "")), 1, 10);
                compositeValue.recalculateScaled();

                if (obj.typeSecurity != null)
                    compositeValue.fieldValue("typeSecurity").exact = String(obj.typeSecurity);
                    compositeValue.fieldValue("typeSecurity").recalculateScaled();
                else
                    compositeValue.fieldValue("typeSecurity").setUndefined();
                end;

                if (obj.sumFirstQuality != null)
                    compositeValue.fieldValue("sumFirstQuality").exact = obj.sumFirstQuality;
                    compositeValue.fieldValue("sumFirstQuality").recalculateScaled();
                else
                    compositeValue.fieldValue("sumFirstQuality").setUndefined();
                end;

                if (obj.sumSecondQuality != null)
                    compositeValue.fieldValue("sumSecondQuality").exact = obj.sumSecondQuality;
                    compositeValue.fieldValue("sumSecondQuality").recalculateScaled();
                else
                    compositeValue.fieldValue("sumSecondQuality").setUndefined();
                end;

                if (obj.sumSecuritiesReserve != null)
                    compositeValue.fieldValue("sumSecuritiesReserve").exact = obj.sumSecuritiesReserve;
                    compositeValue.fieldValue("sumSecuritiesReserve").recalculateScaled();
                else
                    compositeValue.fieldValue("sumSecuritiesReserve").setUndefined();
                end;

                if (obj.typeInsurance != null)
                    compositeValue.fieldValue("typeInsurance").exact = obj.typeInsurance;
                else
                    compositeValue.fieldValue("typeInsurance").exact = "";
                end;

                if (obj.sumSecurities != null)
                    compositeValue.fieldValue("sumSecurities").exact = obj.sumSecurities;
                    compositeValue.fieldValue("sumSecondQuality").recalculateScaled();
                else
                    compositeValue.fieldValue("sumSecurities").setUndefined();
                end;

                if (obj.securitiesRvpPercent != null)
                    compositeValue.fieldValue("securitiesRvpPercent").exact = obj.securitiesRvpPercent;
                    compositeValue.fieldValue("securitiesRvpPercent").recalculateScaled();
                else
                    compositeValue.fieldValue("securitiesRvpPercent").setUndefined();
                end;

                if (obj.securitiesRvpObligations != null)
                    compositeValue.fieldValue("securitiesRvpObligations").exact = obj.securitiesRvpObligations;
                    compositeValue.fieldValue("securitiesRvpObligations").recalculateScaled();
                else
                    compositeValue.fieldValue("securitiesRvpObligations").setUndefined();
                end;

            end;
        end;
    end;

    macro getSumSecurities() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("sumSecurities").exact;
    end;

    macro getRepossessionDate() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("repossessionDate").exact;
    end;

    macro getSecuritiesRvpPercent() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("securitiesRvpPercent").exact;
    end;

    macro getSecuritiesRvpObligations() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("securitiesRvpObligations").exact;
    end;

    macro getAddLine() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("addLine").exact;
    end;
end;

class (TF303Part4Attribute) TF303Part4UserAttribute(creditId : Integer, part : RcbPartBase, compositeValue : Object /*RcbCompositeValue или RcbAttributeValue*/)
    initTF303Part4Attribute(creditId, part, compositeValue);

    macro setValue(attribute)
        if (attribute != null)
            var compositeValue = getCompositeValue(attribute.getCreditId());

            if (compositeValue != null)
                compositeValue.setUndefined();
                compositeValue.fieldValue("creditId").exact = attribute.getCreditId();
            end;
        end;
    end;

end;

class (TF303Part4Attribute_4637) TF303Part4UserAttribute_4637(creditId : Integer, part : RcbPartBase, compositeValue : Object /*RcbCompositeValue или RcbAttributeValue*/)
    initTF303Part4Attribute(creditId, part, compositeValue);

    macro setValue(attribute)
        if (attribute != null)
            var compositeValue = getCompositeValue(attribute.getCreditId(), attribute.getTypeSecurity(), attribute.getAddLine());

            if (compositeValue != null)
                compositeValue.setUndefined();
                compositeValue.fieldValue("creditId").exact = attribute.getCreditId();
                compositeValue.fieldValue("typeSecurity").exact = attribute.getTypeSecurity();
                compositeValue.fieldValue("addLine").exact = attribute.getAddLine();
            end;
        end;
    end;

end;

class (TF303AttributeBase) TF303Part5Attribute(creditId : Integer, part : RcbPartBase, compositeValue : Object /*RcbCompositeValue или RcbAttributeValue*/)

    private macro getCompositeValue(creditId : Integer, trancheNumber : Integer, isFind : Bool) : RcbCompositeValue
        defaultParm(isFind, false);

        var keyValue = m_attributeCompositeValue.createKeyValue();

        if (creditId == NULL)
            throw(TVariableIsNotDefined("creditId"));
        end;

        if (trancheNumber == NULL)
            throw(TVariableIsNotDefined("trancheNumber"));
        end;

        keyValue.fieldValue("creditId") = creditId;
        keyValue.fieldValue("trancheNumber") = trancheNumber;

        var compositeValue = m_attributeCompositeValue.findVAlue(keyValue);

        if (compositeValue != null)
            return compositeValue;
        elif (isFind)
            return null;
        end;

        compositeValue = m_attributeCompositeValue.addValue();

        compositeValue.reset();

        compositeValue.fieldValue("creditId").exact = creditId;
        compositeValue.fieldValue("trancheNumber").exact = trancheNumber;

        return compositeValue;
    end;

    macro setValue(obj : Object)
        if (obj != null)
            var compositeValue = getCompositeValue(obj.creditId, obj.trancheNumber);

            if (compositeValue != null)
                compositeValue.fieldValue("dateLoan").exact = String(NVL(obj.dateLoan:f, ""));
                compositeValue.fieldValue("trancheNumber").exact = obj.trancheNumber;
                compositeValue.fieldValue("userTrancheNumber").exact = obj.userTrancheNumber;
                compositeValue.fieldValue("funds").exact = obj.funds;
                compositeValue.fieldValue("fiCode").exact = obj.fiCode;
                if (obj.okato != null)
                    compositeValue.fieldValue("okato").exact = String(obj.okato) + MkStr("0", 5 - strlen(String(obj.okato)));
                else
                    compositeValue.fieldValue("okato").exact = "";
                end;
                compositeValue.fieldValue("addLine").exact = obj.addLine;
                compositeValue.recalculateScaled();
            end;
        end;
    end;

    macro getAddLine() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("addLine").exact;
    end;

    macro getUserTrancheNumber() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("userTrancheNumber").exact;
    end;

    macro getDateLoan() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("dateLoan").exact;
    end;

    macro getTrancheNumber() : Integer
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("trancheNumber").exact;
    end;

    macro getFunds() : Money
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("funds").exact;
    end;

    macro getFiCode() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("fiCode").exact;
    end;

    macro getOkato() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("okato").exact;
    end;

    initTF303AttributeBase(creditId, part, compositeValue);
end;

class (TF303Part5Attribute) TF303Part5UserAttribute(creditId : Integer, part : RcbPartBase, compositeValue : Object /*RcbCompositeValue или RcbAttributeValue*/)
    initTF303Part5Attribute(creditId, part, compositeValue);

    macro setValue(attribute)
        if (attribute != null)
            var compositeValue = getCompositeValue(attribute.getCreditId(), attribute.getTrancheNumber());

            if (compositeValue != null)
                compositeValue.setUndefined();
                compositeValue.fieldValue("creditId").exact = String(NVL(attribute.getCreditId(), ""));
                compositeValue.fieldValue("trancheNumber").exact = attribute.getTrancheNumber();
                compositeValue.fieldValue("addLine").exact = attribute.getAddLine();
            end;
        end;
    end;

end;

class (TF303AttributeBase) TF303Part6Attribute(creditId : Integer, part : RcbPartBase, compositeValue : Object /*RcbCompositeValue или RcbAttributeValue*/)

    private macro getCompositeValue(creditId : Integer, loansTermAccount : String, loansArrearsAccount : String, trancheNumber : Integer, addLine : Integer, isFind : Bool) : RcbCompositeValue
        defaultParm(isFind, false);

        var keyValue = m_attributeCompositeValue.createKeyValue();

        if (creditId == NULL)
            throw(TVariableIsNotDefined("creditId"));
        end;

        if (loansTermAccount == NULL)
            throw(TVariableIsNotDefined("loansTermAccount"));
        end;

        if (loansArrearsAccount == NULL)
            throw(TVariableIsNotDefined("loansArrearsAccount"));
        end;

        if (trancheNumber == NULL)
            throw(TVariableIsNotDefined("trancheNumber"));
        end;

        if (addLine == NULL)
            throw(TVariableIsNotDefined("addLine"));
        end;

        keyValue.fieldValue("creditId") = creditId;
        keyValue.fieldValue("loansTermAccount") = loansTermAccount;
        keyValue.fieldValue("loansArrearsAccount") = loansArrearsAccount;
        keyValue.fieldValue("trancheNumber") = trancheNumber;
        keyValue.fieldValue("addLine") = addLine;

        var compositeValue = m_attributeCompositeValue.findVAlue(keyValue);

        if (compositeValue != null)
            return compositeValue;
        elif (isFind)
            return null;
        end;

        compositeValue = m_attributeCompositeValue.addValue();

        compositeValue.reset();

        compositeValue.fieldValue("creditId").exact = creditId;
        compositeValue.fieldValue("loansTermAccount").exact = loansTermAccount;
        compositeValue.fieldValue("loansArrearsAccount").exact = loansArrearsAccount;
        compositeValue.fieldValue("trancheNumber").exact = trancheNumber;
        compositeValue.fieldValue("addLine").exact = addLine;

        return compositeValue;
    end;

    macro setValue(obj : Object)
        if (obj != null)
            var compositeValue = getCompositeValue(obj.creditId, obj.loansTermAccount, obj.loansArrearsAccount, obj.trancheNumber, obj.addLine);

            if (compositeValue != null)
                compositeValue.fieldValue("creditId").exact = obj.creditId;
                compositeValue.fieldValue("loansTermAccount").exact = obj.loansTermAccount;
                compositeValue.fieldValue("loansArrearsAccount").exact = obj.loansArrearsAccount;
                compositeValue.fieldValue("termDebtAccount").exact = obj.termDebtAccount;
                compositeValue.fieldValue("arrearsAccount").exact = obj.arrearsAccount;
                compositeValue.fieldValue("evaluation").exact = obj.evaluation;
                compositeValue.fieldValue("trancheNumber").exact = obj.trancheNumber;
                compositeValue.fieldValue("addLine").exact = obj.addLine;
                compositeValue.recalculateScaled();

                if (obj.sumTermDebt != null)
                    compositeValue.fieldValue("sumTermDebt").exact = obj.sumTermDebt;
                    compositeValue.fieldValue("sumTermDebt").recalculateScaled();
                else
                    compositeValue.fieldValue("sumTermDebt").setUndefined();
                end;
                if (obj.sumOverDebt != null)
                    compositeValue.fieldValue("sumOverDebt").exact = obj.sumOverDebt;
                    compositeValue.fieldValue("sumOverDebt").recalculateScaled();
                else
                    compositeValue.fieldValue("sumOverDebt").setUndefined();
                end;
                if (obj.loanQuality != null)
                    compositeValue.fieldValue("loanQuality").exact = obj.loanQuality;
                    compositeValue.fieldValue("loanQuality").recalculateScaled();
                else
                    compositeValue.fieldValue("loanQuality").setUndefined();
                end;
                if (obj.calcReserve != null)
                    compositeValue.fieldValue("calcReserve").exact = obj.calcReserve;
                    compositeValue.fieldValue("calcReserve").recalculateScaled();
                else
                    compositeValue.fieldValue("calcReserve").setUndefined();
                end;
                if (obj.sumCalcReserveSecurity != null)
                    compositeValue.fieldValue("sumCalcReserveSecurity").exact = obj.sumCalcReserveSecurity;
                    compositeValue.fieldValue("sumCalcReserveSecurity").recalculateScaled();
                else
                    compositeValue.fieldValue("sumCalcReserveSecurity").setUndefined();
                end;
                if (obj.sumFormedReserve != null)
                    compositeValue.fieldValue("sumFormedReserve").exact = obj.sumFormedReserve;
                    compositeValue.fieldValue("sumFormedReserve").recalculateScaled();
                else
                    compositeValue.fieldValue("sumFormedReserve").setUndefined();
                end;
                if (obj.information254P != null)
                    compositeValue.fieldValue("information254P").exact = obj.information254P;
                    compositeValue.fieldValue("information254P").recalculateScaled();
                else
                    compositeValue.fieldValue("information254P").setUndefined();
                end;
            end;
        end;
    end;

    macro getLoansArrearsAccount() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("loansArrearsAccount").exact;
    end;

    macro getLoansTermAccount() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("loansTermAccount").exact;
    end;

    macro getAddLine() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("addLine").exact;
    end;

    macro getTrancheNumber() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("trancheNumber").exact;
    end;

    macro getTermDebtAccount() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("loansTermAccount").exact;
    end;

    macro getArrearsAccount() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("arrearsAccount").exact;
    end;

    macro getSumTermDebt() : Money
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("sumTermDebt").exact;
    end;

    macro getSumOverDebt() : Money
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("sumOverDebt").exact;
    end;

    macro getLoanQuality() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("loanQuality").exact;
    end;

    macro getEvaluation() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("evaluation").exact;
    end;

    macro getCalcReserve() : Money
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("calcReserve").exact;
    end;

    macro getSumCalcReserveSecurity() : Money
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("sumCalcReserveSecurity").exact;
    end;

    macro getSumFormedReserve() : Money
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("sumFormedReserve").exact;
    end;

    macro getInformation254P() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("information254P").exact;
    end;

    initTF303AttributeBase(creditId, part, compositeValue);
end;

class (TF303Part6Attribute) TF303Part6Attribute_4637(creditId : Integer, part : RcbPartBase, compositeValue : Object /*RcbCompositeValue или RcbAttributeValue*/)
    initTF303Part6Attribute(creditId, part, compositeValue);

    macro setValue(obj : Object)
        if (obj != null)
            var compositeValue = getCompositeValue(obj.creditId, obj.loansTermAccount, obj.loansArrearsAccount, obj.trancheNumber, obj.addLine);

            if (compositeValue != null)
                compositeValue.fieldValue("creditId").exact = obj.creditId;
                compositeValue.fieldValue("loansTermAccount").exact = obj.loansTermAccount;
                compositeValue.fieldValue("loansArrearsAccount").exact = obj.loansArrearsAccount;
                compositeValue.fieldValue("termDebtAccount").exact = obj.termDebtAccount;
                compositeValue.fieldValue("arrearsAccount").exact = obj.arrearsAccount;
                compositeValue.fieldValue("evaluation").exact = obj.evaluation;
                compositeValue.fieldValue("trancheNumber").exact = obj.trancheNumber;
                compositeValue.fieldValue("addLine").exact = obj.addLine;
                compositeValue.recalculateScaled();

                if (obj.sumTermDebt != null)
                    compositeValue.fieldValue("sumTermDebt").exact = obj.sumTermDebt;
                    compositeValue.fieldValue("sumTermDebt").recalculateScaled();
                else
                    compositeValue.fieldValue("sumTermDebt").setUndefined();
                end;

                if (obj.sumOverDebt != null)
                    compositeValue.fieldValue("sumOverDebt").exact = obj.sumOverDebt;
                    compositeValue.fieldValue("sumOverDebt").recalculateScaled();
                else
                    compositeValue.fieldValue("sumOverDebt").setUndefined();
                end;

                if (obj.loanQuality != null)
                    compositeValue.fieldValue("loanQuality").exact = obj.loanQuality;
                    compositeValue.fieldValue("loanQuality").recalculateScaled();
                else
                    compositeValue.fieldValue("loanQuality").setUndefined();
                end;

                if (obj.calcReserve != null)
                    compositeValue.fieldValue("calcReserve").exact = obj.calcReserve;
                    compositeValue.fieldValue("calcReserve").recalculateScaled();
                else
                    compositeValue.fieldValue("calcReserve").setUndefined();
                end;

                if (obj.sumCalcReserveSecurity != null)
                    compositeValue.fieldValue("sumCalcReserveSecurity").exact = obj.sumCalcReserveSecurity;
                    compositeValue.fieldValue("sumCalcReserveSecurity").recalculateScaled();
                else
                    compositeValue.fieldValue("sumCalcReserveSecurity").setUndefined();
                end;

                if (obj.sumFormedReserve != null)
                    compositeValue.fieldValue("sumFormedReserve").exact = obj.sumFormedReserve;
                    compositeValue.fieldValue("sumFormedReserve").recalculateScaled();
                else
                    compositeValue.fieldValue("sumFormedReserve").setUndefined();
                end;

                if (obj.information254P != null)
                    compositeValue.fieldValue("information254P").exact = obj.information254P;
                    compositeValue.fieldValue("information254P").recalculateScaled();
                else
                    compositeValue.fieldValue("information254P").setUndefined();
                end;

                if (obj.finPositionBorrower != null)
                    compositeValue.fieldValue("finPositionBorrower").exact = obj.finPositionBorrower;
                    compositeValue.fieldValue("finPositionBorrower").recalculateScaled();
                else
                    compositeValue.fieldValue("finPositionBorrower").setUndefined();
                end;

                if (obj.qualityServiceDebt != null)
                    compositeValue.fieldValue("qualityServiceDebt").exact = obj.qualityServiceDebt;
                    compositeValue.fieldValue("qualityServiceDebt").recalculateScaled();
                else
                    compositeValue.fieldValue("qualityServiceDebt").setUndefined();
                end;

                if (obj.highRiskFactor != null)
                    compositeValue.fieldValue("highRiskFactor").exact = obj.highRiskFactor;
                    compositeValue.fieldValue("highRiskFactor").recalculateScaled();
                else
                    compositeValue.fieldValue("highRiskFactor").setUndefined();
                end;
            end;
        end;
    end;

    macro getFinPositionBorrower() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("finPositionBorrower").exact;
    end;

    macro getQualityServiceDebt()
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("qualityServiceDebt").exact;
    end;

    macro getHighRiskFactor() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("highRiskFactor").exact;
    end;
end;

class (TF303Part6Attribute) TF303Part6UserAttribute(creditId : Integer, part : RcbPartBase, compositeValue : Object /*RcbCompositeValue или RcbAttributeValue*/)
    initTF303Part6Attribute(creditId, part, compositeValue);

    macro setValue(attribute)
        if (attribute != null)
            var compositeValue = getCompositeValue(attribute.getCreditId(), attribute.getLoansTermAccount(), attribute.getLoansArrearsAccount(), attribute.getTrancheNumber(), attribute.getAddLine());

            if (compositeValue != null)
                compositeValue.setUndefined();
                compositeValue.fieldValue("creditId").exact = attribute.getCreditId();
                compositeValue.fieldValue("loansTermAccount").exact = attribute.getLoansTermAccount();
                compositeValue.fieldValue("loansArrearsAccount").exact = attribute.getLoansArrearsAccount();
                compositeValue.fieldValue("trancheNumber").exact = attribute.getTrancheNumber();
                compositeValue.fieldValue("addLine").exact = attribute.getAddLine();
            end;
        end;
    end;
end;

class (TF303Part6Attribute_4637) TF303Part6UserAttribute_4637(creditId : Integer, part : RcbPartBase, compositeValue : Object /*RcbCompositeValue или RcbAttributeValue*/)
    initTF303Part6Attribute_4637(creditId, part, compositeValue);

    macro setValue(attribute)
        if (attribute != null)
            var compositeValue = getCompositeValue(attribute.getCreditId(), attribute.getLoansTermAccount(), attribute.getLoansArrearsAccount(), attribute.getTrancheNumber(), attribute.getAddLine());

            if (compositeValue != null)
                compositeValue.setUndefined();
                compositeValue.fieldValue("creditId").exact = attribute.getCreditId();
                compositeValue.fieldValue("loansTermAccount").exact = attribute.getLoansTermAccount();
                compositeValue.fieldValue("loansArrearsAccount").exact = attribute.getLoansArrearsAccount();
                compositeValue.fieldValue("trancheNumber").exact = attribute.getTrancheNumber();
                compositeValue.fieldValue("addLine").exact = attribute.getAddLine();
            end;
        end;
    end;
end;

class (TF303AttributeBase) TF303Part7Attribute(creditId : Integer, part : RcbPartBase, compositeValue : Object /*RcbCompositeValue или RcbAttributeValue*/)

    private macro getCompositeValue(creditId : Integer, trancheNumber : Integer, isFind : Bool) : RcbCompositeValue
        defaultParm(isFind, false);

        var keyValue = m_attributeCompositeValue.createKeyValue();

        if (creditId == NULL)
            throw(TVariableIsNotDefined("creditId"));
        end;

        if (trancheNumber == NULL)
            throw(TVariableIsNotDefined("trancheNumber"));
        end;

        keyValue.fieldValue("creditId") = creditId;
        keyValue.fieldValue("trancheNumber") = trancheNumber;

        var compositeValue = m_attributeCompositeValue.findVAlue(keyValue);

        if (compositeValue != null)
            return compositeValue;
        elif (isFind)
            return null;
        end;

        compositeValue = m_attributeCompositeValue.addValue();

        compositeValue.reset();

        compositeValue.fieldValue("creditId").exact = creditId;
        compositeValue.fieldValue("trancheNumber").exact = trancheNumber;

        return compositeValue;
    end;

    macro setValue(obj : Object)
        if (obj != null)
            var compositeValue = getCompositeValue(obj.creditId, obj.trancheNumber);

            if (compositeValue != null)
                compositeValue.fieldValue("sumClaimBalance").exact = obj.sumClaimBalance;
                compositeValue.fieldValue("sumClaimBalanceOver").exact = obj.sumClaimBalanceOver;
                compositeValue.fieldValue("trancheNumber").exact = obj.trancheNumber;
                compositeValue.fieldValue("addLine").exact = obj.addLine;
                compositeValue.recalculateScaled(); // Вызывается тут, потому что если вызвать в самом конце, то не сохраняется Undefined - записывается 0! Когда появится алгоритм расчета этиъ атрибутов, то можно будет убрать
                if (obj.sumFormedReserve != null)
                    compositeValue.fieldValue("sumFormedReserve").exact = obj.sumFormedReserve;
                    compositeValue.fieldValue("sumFormedReserve").recalculateScaled();
                else
                    compositeValue.fieldValue("sumFormedReserve").setUndefined();
                end;
                if (obj.sumClaimNotBalance != null)
                    compositeValue.fieldValue("sumClaimNotBalance").exact = obj.sumClaimNotBalance;
                    compositeValue.fieldValue("sumClaimNotBalance").recalculateScaled();
                else
                    compositeValue.fieldValue("sumClaimNotBalance").setUndefined();
                end;
                if (obj.sumClaimNotBalanceOver != null)
                    compositeValue.fieldValue("sumClaimNotBalanceOver").exact = obj.sumClaimNotBalanceOver;
                    compositeValue.fieldValue("sumClaimNotBalanceOver").recalculateScaled();
                else
                    compositeValue.fieldValue("sumClaimNotBalanceOver").setUndefined();
                end;
            end;
        end;
    end;

    macro getAddLine() : Money
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("addLine").exact;
    end;

    macro getTrancheNumber() : Integer
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("trancheNumber").exact;
    end;

    macro getSumClaimBalance() : Money
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("sumClaimBalance").exact;
    end;

    macro getSumClaimBalanceOver() : Money
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("sumClaimBalanceOver").exact;
    end;

    macro getSumClaimNotBalance() : Money
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("sumClaimNotBalance").exact;
    end;

    macro getSumClaimNotBalanceOver() : Money
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("sumClaimNotBalanceOver").exact;
    end;

    macro getSumFormedReserve() : Money
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("sumFormedReserve").exact;
    end;

    initTF303AttributeBase(creditId, part, compositeValue);
end;

class (TF303Part7Attribute) TF303Part7UserAttribute(creditId : Integer, part : RcbPartBase, compositeValue : Object /*RcbCompositeValue или RcbAttributeValue*/)
    initTF303Part7Attribute(creditId, part, compositeValue);

    macro setValue(attribute)
        if (attribute != null)
            var compositeValue = getCompositeValue(attribute.getCreditId(), attribute.getTrancheNumber());

            if (compositeValue != null)
                compositeValue.setUndefined();
                compositeValue.fieldValue("creditId").exact = attribute.getCreditId();
                compositeValue.fieldValue("trancheNumber").exact = attribute.getTrancheNumber();
                compositeValue.fieldValue("addLine").exact = attribute.getAddLine();
            end;
        end;
    end;

end;

class (TF303AttributeBase) TF303Part8Attribute(creditId : Integer, part : RcbPartBase, compositeValue : Object /*RcbCompositeValue или RcbAttributeValue*/)

    macro setValue(obj : Object)
        if (obj != null)
            var compositeValue = getCompositeValue(obj.creditId);
            if (compositeValue != null)
                compositeValue.recalculateScaled();
                if (valType(obj.sumUnusedLimits) == V_UNDEF)
                    compositeValue.fieldValue("sumUnusedLimits").setUndefined();
                else
                    compositeValue.fieldValue("sumUnusedLimits").exact = obj.sumUnusedLimits;
                end;
                compositeValue.fieldValue("sumCalcReserveSecurity").exact = NVL(obj.sumCalcReserveSecurity, 0);
                compositeValue.fieldValue("sumFormedReserve").exact = NVL(obj.sumFormedReserve, 0);
            end;
        end;
    end;

    macro getSumUnusedLimits() : Money
        if ((m_attributeCompositeValue == NULL) or (valType(m_attributeCompositeValue.fieldValue("sumUnusedLimits")) == V_UNDEF))
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("sumUnusedLimits").exact;
    end;

    macro getSumCalcReserveSecurity() : Money
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("sumCalcReserveSecurity").exact;
    end;

    macro getSumFormedReserve() : Money
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("sumFormedReserve").exact;
    end;

    initTF303AttributeBase(creditId, part, compositeValue);
end;

class (TF303Part8Attribute) TF303Part8Attribute_4212(creditId : Integer, part : RcbPartBase, compositeValue : Object /*RcbCompositeValue или RcbAttributeValue*/)
    initTF303Part8Attribute(creditId, part, compositeValue);

    macro setValue(obj : Object)
        if (obj != null)
            var compositeValue = getCompositeValue(obj.creditId);
            if (compositeValue != null)
                compositeValue.recalculateScaled();
                if (valType(obj.sumUnusedLimits) == V_UNDEF)
                    compositeValue.fieldValue("sumUnusedLimits").setUndefined();
                else
                    compositeValue.fieldValue("sumUnusedLimits").exact = obj.sumUnusedLimits;
                end;
                compositeValue.fieldValue("sumCalcReserveSecurity").exact = NVL(obj.sumCalcReserveSecurity, 0);
                compositeValue.fieldValue("sumFormedReserve").exact = NVL(obj.sumFormedReserve, 0);
                compositeValue.fieldValue("rvpPercent").exact = NVL(obj.rvpPercent, 0);
            end;
        end;
    end;

    macro getRvpPercent() : Money
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("rvpPercent").exact;
    end;

end;

class (TF303Part8Attribute) TF303Part8UserAttribute(creditId : Integer, part : RcbPartBase, compositeValue : Object /*RcbCompositeValue или RcbAttributeValue*/)
    initTF303Part8Attribute(creditId, part, compositeValue);

    macro setValue(attribute)
        if (attribute != null)
            var compositeValue = getCompositeValue(attribute.getCreditId());

            if (compositeValue != null)
                compositeValue.setUndefined();
                compositeValue.fieldValue("creditId").exact = attribute.getCreditId();
                compositeValue.recalculateScaled();
            end;
        end;
    end;

end;

class (TF303Part8Attribute_4212) TF303Part8UserAttribute_4212(creditId : Integer, part : RcbPartBase, compositeValue : Object /*RcbCompositeValue или RcbAttributeValue*/)
    initTF303Part8Attribute_4212(creditId, part, compositeValue);

    macro setValue(attribute)
        if (attribute != null)
            var compositeValue = getCompositeValue(attribute.getCreditId());

            if (compositeValue != null)
                compositeValue.setUndefined();
                compositeValue.fieldValue("creditId").exact = attribute.getCreditId();
                compositeValue.recalculateScaled();
            end;
        end;
    end;
end;

class (TF303AttributeBase) TF303Part9Attribute(creditId : Integer, part : RcbPartBase, compositeValue : Object /*RcbCompositeValue или RcbAttributeValue*/)

    macro setValue(obj : Object)
        if (obj != null)
            var compositeValue = getCompositeValue(obj.creditId, obj.trancheNumber, String(NVL(obj.dateRemovalDebt, "")), String(NVL(obj.maturityDateDebt, "")), obj.addLine);

            if (compositeValue != null)
                compositeValue.fieldValue("periodicityRepayment").exact = String(NVL(obj.periodicityRepayment, ""));
                compositeValue.fieldValue("periodicityInterest").exact = String(NVL(obj.periodicityInterest, ""));
                compositeValue.fieldValue("dateRemovalDebt").exact = String(NVL(obj.dateRemovalDebt, ""));
                compositeValue.fieldValue("maturityDateDebt").exact = String(NVL(obj.maturityDateDebt, ""));
                compositeValue.fieldValue("sourceRepayment").exact = String(NVL(obj.sourceRepayment, ""));
                compositeValue.fieldValue("codeNewCredit").exact = String(NVL(obj.codeNewCredit, ""));
                compositeValue.fieldValue("regNumber").exact = String(NVL(obj.regNumber, ""));
                compositeValue.fieldValue("trancheNumber").exact = obj.trancheNumber;
                compositeValue.fieldValue("addLine").exact = obj.addLine;
                compositeValue.recalculateScaled();

                if (valType(obj.sumProvidedDebt) == V_UNDEF)
                    compositeValue.fieldValue("sumProvidedDebt").setUndefined();
                else
                    compositeValue.fieldValue("sumProvidedDebt").exact = obj.sumProvidedDebt;
                    compositeValue.fieldValue("sumProvidedDebt").recalculateScaled();
                end;

                if (valType(obj.sumPaidDebt) == V_UNDEF)
                    compositeValue.fieldValue("sumPaidDebt").setUndefined();
                else
                    compositeValue.fieldValue("sumPaidDebt").exact = obj.sumPaidDebt;
                    compositeValue.fieldValue("sumPaidDebt").recalculateScaled();
                end;


                if (valType(obj.sumProvidedInterest) == V_UNDEF)
                    compositeValue.fieldValue("sumProvidedInterest").setUndefined();
                else
                    compositeValue.fieldValue("sumProvidedInterest").exact = obj.sumProvidedInterest;
                    compositeValue.fieldValue("sumProvidedInterest").recalculateScaled();
                end;

                if (valType(obj.sumPaidInterest) == V_UNDEF)
                    compositeValue.fieldValue("sumPaidInterest").setUndefined();
                else
                    compositeValue.fieldValue("sumPaidInterest").exact = obj.sumPaidInterest;
                    compositeValue.fieldValue("sumPaidInterest").recalculateScaled();
                end;

                if (valType(obj.sumFines) == V_UNDEF)
                    compositeValue.fieldValue("sumFines").setUndefined();
                else
                    compositeValue.fieldValue("sumFines").exact = obj.sumFines;
                    compositeValue.fieldValue("sumFines").recalculateScaled();
                end;

            end;
        end;
    end;

    private macro getCompositeValue(creditId : Integer, trancheNumber : Integer, dateRemovalDebt : String, maturityDateDebt : String, addLine : Integer, isFind : Bool) : RcbCompositeValue
        defaultParm(isFind, false);

        var keyValue = m_attributeCompositeValue.createKeyValue();

        if (creditId == NULL)
            throw(TVariableIsNotDefined("creditId"));
        end;

        if (trancheNumber == NULL)
            throw(TVariableIsNotDefined("trancheNumber"));
        end;

        keyValue.fieldValue("creditId") = creditId;
        keyValue.fieldValue("trancheNumber") = trancheNumber;
        keyValue.fieldValue("dateRemovalDebt") = NVL(dateRemovalDebt, "");
        keyValue.fieldValue("maturityDateDebt") = NVL(maturityDateDebt, "");
        keyValue.fieldValue("addLine")          = NVL(addLine, 0);

        var compositeValue = m_attributeCompositeValue.findVAlue(keyValue);

        if (compositeValue != null)
            return compositeValue;
        elif (isFind)
            return null;
        end;

        compositeValue = m_attributeCompositeValue.addValue();

        compositeValue.reset();

        compositeValue.fieldValue("creditId").exact = creditId;
        compositeValue.fieldValue("trancheNumber").exact = trancheNumber;
        compositeValue.fieldValue("dateRemovalDebt").exact = NVL(dateRemovalDebt, "");
        compositeValue.fieldValue("maturityDateDebt").exact = NVL(maturityDateDebt, "");
        compositeValue.fieldValue("addLine").exact          = NVL(addLine, 0);

        return compositeValue;
    end;

    macro getAddLine() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("addLine").exact;
    end;

    macro getTrancheNumber() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("trancheNumber").exact;
    end;

    macro getPeriodicityRepayment() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("periodicityRepayment").exact;
    end;

    macro getSumProvidedDebt() : Money
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("sumProvidedDebt").exact;
    end;

    macro getSumPaidDebt() : Money
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("sumPaidDebt").exact;
    end;

    macro getPeriodicityInterest() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("periodicityInterest").exact;
    end;

    macro getSumProvidedInterest() : Money
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("sumProvidedInterest").exact;
    end;

    macro getSumPaidInterest() : Money
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("sumPaidInterest").exact;
    end;

    macro getSumFines() : Money
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("sumFines").exact;
    end;

    macro getDateRemovalDebt() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("dateRemovalDebt").exact;
    end;

    macro getMaturityDateDebt() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("maturityDateDebt").exact;
    end;

    macro getSourceRepayment() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("sourceRepayment").exact;
    end;

    macro getCodeNewCredit() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("codeNewCredit").exact;
    end;

    macro getRegNumber() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("regNumber").exact;
    end;

    initTF303AttributeBase(creditId, part, compositeValue);
end;

class (TF303Part9Attribute) TF303Part9Attribute_4637(creditId : Integer, part : RcbPartBase, compositeValue : Object /*RcbCompositeValue или RcbAttributeValue*/)
    initTF303Part9Attribute(creditId, part, compositeValue);

    private macro getCompositeValue(creditId : Integer, trancheNumber : Integer, dateRemovalDebt : String, maturityDateDebt : String,
                                    sourceRepayment : String, codeNewCredit : String, addLine : Integer, isFind : Bool) : RcbCompositeValue
        defaultParm(isFind, false);

        var keyValue = m_attributeCompositeValue.createKeyValue();

        if (creditId == NULL)
            throw(TVariableIsNotDefined("creditId"));
        end;

        if (trancheNumber == NULL)
            throw(TVariableIsNotDefined("trancheNumber"));
        end;

        keyValue.fieldValue("creditId") = creditId;
        keyValue.fieldValue("trancheNumber") = trancheNumber;
        keyValue.fieldValue("dateRemovalDebt") = NVL(dateRemovalDebt, "");
        keyValue.fieldValue("maturityDateDebt") = NVL(maturityDateDebt, "");
        keyValue.fieldValue("sourceRepayment") = NVL(sourceRepayment, "");
        keyValue.fieldValue("codeNewCredit") = NVL(codeNewCredit, "");
        keyValue.fieldValue("addLine")          = NVL(addLine, 0);

        var compositeValue = m_attributeCompositeValue.findVAlue(keyValue);

        if (compositeValue != null)
            return compositeValue;
        elif (isFind)
            return null;
        end;

        compositeValue = m_attributeCompositeValue.addValue();

        compositeValue.reset();

        compositeValue.fieldValue("creditId").exact = creditId;
        compositeValue.fieldValue("trancheNumber").exact = trancheNumber;
        compositeValue.fieldValue("dateRemovalDebt").exact = NVL(dateRemovalDebt, "");
        compositeValue.fieldValue("maturityDateDebt").exact = NVL(maturityDateDebt, "");
        compositeValue.fieldValue("sourceRepayment").exact = NVL(sourceRepayment, "");
        compositeValue.fieldValue("codeNewCredit").exact = NVL(codeNewCredit, "");
        compositeValue.fieldValue("addLine").exact          = NVL(addLine, 0);

        return compositeValue;
    end;

    macro setValue(obj : Object)
        if (obj != null)
            var compositeValue = getCompositeValue(obj.creditId, obj.trancheNumber, String(NVL(obj.dateRemovalDebt, "")), String(NVL(obj.maturityDateDebt, "")),
                                                   String(NVL(obj.sourceRepayment, "")), String(NVL(obj.codeNewCredit, "")), obj.addLine);

            if (compositeValue != null)
                compositeValue.fieldValue("periodicityRepayment").exact = String(NVL(obj.periodicityRepayment, ""));
                compositeValue.fieldValue("periodicityInterest").exact = String(NVL(obj.periodicityInterest, ""));
                compositeValue.fieldValue("dateRemovalDebt").exact = String(NVL(obj.dateRemovalDebt:f, ""));
                compositeValue.fieldValue("maturityDateDebt").exact = String(NVL(obj.maturityDateDebt:f, ""));
                compositeValue.fieldValue("sourceRepayment").exact = String(NVL(obj.sourceRepayment, ""));
                compositeValue.fieldValue("codeNewCredit").exact = String(NVL(obj.codeNewCredit, ""));
                compositeValue.fieldValue("regNumber").exact = String(NVL(obj.regNumber, ""));
                compositeValue.fieldValue("trancheNumber").exact = obj.trancheNumber;
                compositeValue.fieldValue("addLine").exact = obj.addLine;
                compositeValue.recalculateScaled();

                if (valType(obj.sumProvidedDebt) == V_UNDEF)
                    compositeValue.fieldValue("sumProvidedDebt").setUndefined();
                else
                    compositeValue.fieldValue("sumProvidedDebt").exact = obj.sumProvidedDebt;
                    compositeValue.fieldValue("sumProvidedDebt").recalculateScaled();
                end;

                if (valType(obj.sumPaidDebt) == V_UNDEF)
                    compositeValue.fieldValue("sumPaidDebt").setUndefined();
                else
                    compositeValue.fieldValue("sumPaidDebt").exact = obj.sumPaidDebt;
                    compositeValue.fieldValue("sumPaidDebt").recalculateScaled();
                end;


                if (valType(obj.sumProvidedInterest) == V_UNDEF)
                    compositeValue.fieldValue("sumProvidedInterest").setUndefined();
                else
                    compositeValue.fieldValue("sumProvidedInterest").exact = obj.sumProvidedInterest;
                    compositeValue.fieldValue("sumProvidedInterest").recalculateScaled();
                end;

                if (valType(obj.sumPaidInterest) == V_UNDEF)
                    compositeValue.fieldValue("sumPaidInterest").setUndefined();
                else
                    compositeValue.fieldValue("sumPaidInterest").exact = obj.sumPaidInterest;
                    compositeValue.fieldValue("sumPaidInterest").recalculateScaled();
                end;

                if (valType(obj.sumFines) == V_UNDEF)
                    compositeValue.fieldValue("sumFines").setUndefined();
                else
                    compositeValue.fieldValue("sumFines").exact = obj.sumFines;
                    compositeValue.fieldValue("sumFines").recalculateScaled();
                end;

                if (valType(obj.principalPaymentFiCode) == V_UNDEF)
                    compositeValue.fieldValue("principalPaymentFiCode").setUndefined();
                else
                    compositeValue.fieldValue("principalPaymentFiCode").exact = obj.principalPaymentFiCode;
                    compositeValue.fieldValue("principalPaymentFiCode").recalculateScaled();
                end;

                if (valType(obj.percentPaymentFiCode) == V_UNDEF)
                    compositeValue.fieldValue("percentPaymentFiCode").setUndefined();
                else
                    compositeValue.fieldValue("percentPaymentFiCode").exact = obj.percentPaymentFiCode;
                    compositeValue.fieldValue("percentPaymentFiCode").recalculateScaled();
                end;
            end;
        end;
    end;

    macro getPrincipalPaymentFiCode() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("principalPaymentFiCode").exact;
    end;

    macro getPercentPaymentFiCode() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("percentPaymentFiCode").exact;
    end;
end;

class (TF303Part9Attribute) TF303Part9UserAttribute(creditId : Integer, part : RcbPartBase, compositeValue : Object /*RcbCompositeValue или RcbAttributeValue*/)
    initTF303Part9Attribute(creditId, part, compositeValue);

    macro setValue(attribute)
        if (attribute != null)
            var compositeValue = getCompositeValue(attribute.getCreditId(), attribute.getTrancheNumber(), attribute.getDateRemovalDebt(), attribute.getMaturityDateDebt());

            if (compositeValue != null)
                compositeValue.setUndefined();
                compositeValue.fieldValue("creditId").exact = attribute.getCreditId();
                compositeValue.fieldValue("trancheNumber").exact = attribute.getTrancheNumber();
                compositeValue.fieldValue("dateRemovalDebt").exact = String(NVL(attribute.getDateRemovalDebt():f, ""));
                compositeValue.fieldValue("maturityDateDebt").exact = String(NVL(attribute.getMaturityDateDebt():f, ""));
                compositeValue.fieldValue("addLine").exact = attribute.getAddLine();
            end;
        end;
    end;
end;

class (TF303Part9Attribute_4637) TF303Part9UserAttribute_4637(creditId : Integer, part : RcbPartBase, compositeValue : Object /*RcbCompositeValue или RcbAttributeValue*/)
    initTF303Part9Attribute_4637(creditId, part, compositeValue);

    macro setValue(attribute)
        if (attribute != null)
            var compositeValue = getCompositeValue(attribute.getCreditId(), attribute.getTrancheNumber(), attribute.getDateRemovalDebt(), attribute.getMaturityDateDebt(),
                                                   attribute.getSourceRepayment(), attribute.getCodeNewCredit(), attribute.getAddLine());

            if (compositeValue != null)
                compositeValue.setUndefined();
                compositeValue.fieldValue("creditId").exact = attribute.getCreditId();
                compositeValue.fieldValue("trancheNumber").exact = attribute.getTrancheNumber();
                compositeValue.fieldValue("dateRemovalDebt").exact = String(NVL(attribute.getDateRemovalDebt():f, ""));
                compositeValue.fieldValue("maturityDateDebt").exact = String(NVL(attribute.getMaturityDateDebt():f, ""));
                compositeValue.fieldValue("sourceRepayment").exact = NVL(attribute.getMaturityDateDebt(), "");
                compositeValue.fieldValue("codeNewCredit").exact = NVL(attribute.getMaturityDateDebt(), "");
                compositeValue.fieldValue("addLine").exact = attribute.getAddLine();
            end;
        end;
    end;
end;

class (TF303AttributeBase) TF303Part10Attribute(creditId : Integer, part : RcbPartBase, compositeValue : Object /*RcbCompositeValue или RcbAttributeValue*/)

    macro setValue(obj : Object)
        if (obj != null)
            var compositeValue = getCompositeValue(obj.creditId);

            if (compositeValue != null)
                compositeValue.fieldValue("methodRefinancing").exact = obj.methodRefinancing;
                compositeValue.fieldValue("sumRefinancingDebt").exact = obj.sumRefinancingDebt;
                compositeValue.fieldValue("sumFunds").exact = obj.sumFunds;
                compositeValue.fieldValue("party").exact = obj.party;
                compositeValue.fieldValue("ogrn").exact = obj.ogrn;
                compositeValue.fieldValue("regNumber").exact = obj.regNumber;
                compositeValue.fieldValue("oksm").exact = obj.oksm;
                compositeValue.recalculateScaled();
            end;
        end;
    end;

    macro getMethodRefinancing() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("methodRefinancing").exact;
    end;

    macro getSumRefinancingDebt() : Money
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("sumRefinancingDebt").exact;
    end;

    macro getSumFunds() : Money
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("sumFunds").exact;
    end;

    macro getParty() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("party").exact;
    end;

    macro getOgrn() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("ogrn").exact;
    end;

    macro getRegNumber() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("regNumber").exact;
    end;

    macro getOksm() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("oksm").exact;
    end;

    initTF303AttributeBase(creditId, part, compositeValue);
end;

class (TF303Part10Attribute) TF303Part10Attribute_4212(creditId : Integer, part : RcbPartBase, compositeValue : Object /*RcbCompositeValue или RcbAttributeValue*/)
    initTF303Part10Attribute(creditId, part, compositeValue);

    macro setValue(obj : Object)
        if (obj != null)
            var compositeValue = getCompositeValue(obj.creditId);

            if (compositeValue != null)
                if (valType(obj.methodRefinancing) == V_UNDEF)
                    compositeValue.fieldValue("methodRefinancing").setUndefined();
                else
                compositeValue.fieldValue("methodRefinancing").exact = obj.methodRefinancing;
                    compositeValue.fieldValue("methodRefinancing").recalculateScaled();
                end;

                if (valType(obj.sumRefinancingDebt) == V_UNDEF)
                    compositeValue.fieldValue("sumRefinancingDebt").setUndefined();
                else
                compositeValue.fieldValue("sumRefinancingDebt").exact = obj.sumRefinancingDebt;
                    compositeValue.fieldValue("sumRefinancingDebt").recalculateScaled();
                end;

                if (valType(obj.sumFunds) == V_UNDEF)
                    compositeValue.fieldValue("sumFunds").setUndefined();
                else
                compositeValue.fieldValue("sumFunds").exact = obj.sumFunds;
                    compositeValue.fieldValue("sumFunds").recalculateScaled();
                end;

                if (valType(obj.party) == V_UNDEF)
                    compositeValue.fieldValue("party").setUndefined();
                else
                compositeValue.fieldValue("party").exact = obj.party;
                    compositeValue.fieldValue("party").recalculateScaled();
                end;

                if (valType(obj.ogrn) == V_UNDEF)
                    compositeValue.fieldValue("ogrn").setUndefined();
                else
                compositeValue.fieldValue("ogrn").exact = obj.ogrn;
                    compositeValue.fieldValue("ogrn").recalculateScaled();
                end;

                if (valType(obj.regNumber) == V_UNDEF)
                    compositeValue.fieldValue("regNumber").setUndefined();
                else
                compositeValue.fieldValue("regNumber").exact = obj.regNumber;
                    compositeValue.fieldValue("regNumber").recalculateScaled();
                end;

                if (valType(obj.oksm) == V_UNDEF)
                    compositeValue.fieldValue("oksm").setUndefined();
                else
                compositeValue.fieldValue("oksm").exact = obj.oksm;
                    compositeValue.fieldValue("oksm").recalculateScaled();
                end;

                 if (valType(obj.sumDeal) == V_UNDEF)
                    compositeValue.fieldValue("sumDeal").setUndefined();
                else
                compositeValue.fieldValue("sumDeal").exact = obj.sumDeal;
                    compositeValue.fieldValue("sumDeal").recalculateScaled();
                end;

                if (valType(obj.fiCode) == V_UNDEF)
                    compositeValue.fieldValue("fiCode").setUndefined();
                else
                compositeValue.fieldValue("fiCode").exact = obj.fiCode;
                    compositeValue.fieldValue("fiCode").recalculateScaled();
                end;
            end;
        end;
    end;

    macro getSumDeal() : Money
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("sumDeal").exact;
    end;

    macro getFiCode() : String
        if (m_attributeCompositeValue == NULL)
            return NULL;
        end;

        return m_attributeCompositeValue.fieldValue("fiCode").exact;
    end;
end;

class (TF303Part10Attribute) TF303Part10UserAttribute(creditId : Integer, part : RcbPartBase, compositeValue : Object /*RcbCompositeValue или RcbAttributeValue*/)
    initTF303Part10Attribute(creditId, part, compositeValue);
end;

class (TF303Part10Attribute_4212) TF303Part10UserAttribute_4212(creditId : Integer, part : RcbPartBase, compositeValue : Object /*RcbCompositeValue или RcbAttributeValue*/)
    initTF303Part10Attribute_4212(creditId, part, compositeValue);

    macro setValue(attribute)
        if (attribute != null)
            var compositeValue = getCompositeValue(attribute.getCreditId());

            if (compositeValue != null)
                compositeValue.setUndefined();
                compositeValue.fieldValue("creditId").exact = attribute.getCreditId();
            end;
        end;
    end;

end;
