/*
$Name:          f664NormalizationProtocol.mac
$Module:        ░╔ё╚═╛╔╜Б╗ЮЦ╔╛═О ╝БГ╔Б╜╝АБЛ
$Description:   ■╝Ю╛═ 664. ▐Ю╝Б╝╙╝╚ ╜╝Ю╛═╚╗╖═Ф╗╗
*/
/**
 * ■╝Ю╛═ 664. ▐Ю╝Б╝╙╝╚ ╜╝Ю╛═╚╗╖═Ф╗╗.
 *
 * @since   29.03.2013
 * @author  Kirin Pavel
 * @version 6.00.020.30
 */

class (TProtocolView) TF664NormalizationProtocolView()
    initTProtocolView("▐░▌▓▌┼▌▀ ▐░▌√┘└⌠░⌡ █▌░▄─▀┬┤─√┬┬");

    private var m_isHeadPrinted = false;

    macro printNullData()
        [ ];
        [    ┼╝ЮЮ╔╙Б╗Ю╝╒╝╙ ╝╙ЮЦё╚╔╜╜КЕ ╖╜═Г╔╜╗╘ А╗╛╒╝╚╝╒ ╜╔ ╞╝БЮ╔║╝╒═╚╝АЛ.];
    end;

    macro printFreeString(str : String)
        println(str);
    end;

    macro beginProtocol()
        setProtocolOutput();
        printHead();
    end;

    macro printSeparatorLine()
            // [цдддддддддддддддддддддддддддддддддддддддддддддддддддддддддддеддддддддддддддддедддддддддддддедддддддддддддддддедддддддддд╢];
    end;

    macro printBottom()
            // [юддддддддддддддддддддддддддддддддддддддддддддддддддддддддддаддддддддддддддддадддддддддддддадддддддддддддддддадддддддддды];
            [ ];
        m_isHeadPrinted = false;
    end;

    macro endProtocol()
        if (m_isHeadPrinted)
            // [юддддддддддддддддддддддддддддддддддддддддддддддддддддддддддаддддддддддддддддадддддддддддддадддддддддддддддддадддддддддды];
            [ ];
        end;
        if (m_isEmpty)
            printNullData();
        end;
        resetProtocolOutput();
    end;

    macro printString(str : String, exact : Money, scaled : Money, normalized : Money)

        if (not m_isHeadPrinted)
            [зддддддддддддддддддддддддддддддддддддддддддддддддддддддддддбддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд©];
            [Ё                                                          Ё                          ┤╜═Г╔╜╗╔                         Ё];
            [Ё                      █╝╛╔Ю АБЮ╝╙╗                        цддддддддддддддддбдддддддддддддбдддддддддддддддддбдддддддддд╢];
            [Ё                                                          Ё └╔╘АБ╒╗Б╔╚Л╜╝╔ Ё ▌╙ЮЦё╚╔╜╜╝╔ Ё █╝Ю╛═╚╗╖╝╒═╜╜╝╔ Ё ░═╖╜╝АБЛ Ё];
            [цддддддддддддддддддддддддддддддддддддддддддддддддддддддддддеддддддддддддддддедддддддддддддедддддддддддддддддедддддддддд╢];
            m_isHeadPrinted = true;
        end;

        [ ########################################################## ################ ############# ################# ########## ]
        (str, exact : 0 : 3, scaled : 0 : 3, normalized : 0 : 3, abs(scaled - normalized) : 0 : 3);

        m_isEmpty = false;
    end;
end;
