/*
$Name:          f110CalculationController.mac
$Module:        Регламентируемая отчетность
$Description:   Форма 110. Контроллер расчета формы
*/

/**
* Форма 110. Контроллер расчета.
*
* @since   01.06.2008
* @author  Ivkina Olga
* @version 6.00.020.28
*/

import res_const;/*ядерные константы для работы по резервам*/
import rcb_bo;
import rcbconst;
import sbCrdInter;

import f110ObjectFactory;
import f110Attribute;
import f110Part;
import f110Report;
import f110DataSource;

/**
* Контроллер расчета.
*/
class TCalculationController()

    /**
    * Отчет.
    */
    private var m_report: TReport;

    /**
    * Источник данных.
    */
    private var m_dataSource: TDataSource;

    /**
    *
    */
    private var m_calculateDataArray = TArray();

    /**
    * конструктор.
    */
    macro constructor()
        m_dataSource = objectFactoryInstance.createDataSource();
        m_report     = objectFactoryInstance.createReport();
    end;

    /**
    * Расчитать атрибут отчета.
    * @param     attribute
    */
    macro calculateAttribute(attribute : TAttribute)
        throw(TPureVirtualMethodCallException("TCalculationController::calculateAttribute"));
    end;

    /**
    * Расчитать раздел отчета.
    * @param     part
    */
    macro calculatePart(part : TPart)
        var attributes = part.getAttributes();
        var i : Integer = 0;
        var partNumber  = 1;
        var num = 0;

        while (part.getNumber() != partNumber)
            num = num + m_report.getPart(partNumber).getAttributes().size;
            partNumber = partNumber + 1;
        end;

        while (i < attributes.size)
            calculateAttribute(part.getAttribute(m_calculateDataArray[num+i].getAttributeName()));
            i = i + 1;
        end;
    end;

    /**
    * Расчитать отчет.
    * @param     report
    * @param     dataSource
    */
    macro calculateReport()
        var parts = m_report.getParts();
        var i : Integer = 0;
        while (i < parts.size)

            BegAction(1, "Расчет раздела " + (i+1) + ".");

            calculatePart(parts[i]);
            i = i + 1;

            EndAction(0);
        end;

        RcbApplication().TransactionManager().commit();
    end;

    constructor();
end;

private class TCalculateData(number, name, calculationFunction)
    private var m_number              = number;
    private var m_name                = name;
    private var m_calculationFunction = calculationFunction;

    macro getAttributeName()
        return m_name;
    end;

    macro getLineNumber()
        return m_number;
    end;

    macro execute(attribute)
        callR2M(m_calculationFunction, m_number, attribute);
        attribute.setCalculated(true);
    end;
end;

class (TCalculateData) TCalculateData_4927(number, name, calculationFunction)
    initTCalculateData(number, name, calculationFunction);

    macro execute(attribute)
        callR2M(m_calculationFunction, attribute, m_number);
        attribute.setCalculated(true);
    end;
end;

/**
*  Расчет переменных по 2055-У.
*
*/
class (TCalculationController) TCalculationController2055()

    /**
    * Настроечная таблица.
    */
    private var m_tuneTable;

    /**
    * Протокол расчета.
    */
    private var m_protocol;

    macro calculateAttributeA20321_3_1(number, attribute)
        var data = m_dataSource.dataGkboReserves();
        attribute.setValue(data.getRealRvp(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB))), BOCB);
    end;

    macro calculateAttributeA30126_3_1(number, attribute)
        var data = m_dataSource.dataGkboReserves();
        attribute.setValue(data.getRealRvp(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB))), BOCB);
    end;

    macro calculateAttributeA30226_3_1(number, attribute)
        var data = m_dataSource.dataGkboReserves();
        attribute.setValue(data.getRealRvp(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB))), BOCB);
    end;

    macro calculateAttributeA315_14_1(number, attribute)
        var data = m_dataSource.dataGkboReserves();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB))
                                                +
                                                data.getFilter().hasAssignedAccountCategory("'14.1'")
                                                ), BOCB);
    end;

    macro calculateAttributeA40109_5_1(number, attribute)
        var data = m_dataSource.dataGkboReserves();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB))
                                                +
                                                data.getFilter().hasAssignedAccountCategory("'A40109/5.1'")
                                                ), BOCB);
    end;

    macro calculateAttributeA40109_9_1(number, attribute)
        var data = m_dataSource.dataGkboReserves();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB))
                                                +
                                                data.getFilter().hasAssignedAccountCategory("'A40109/9.1'")
                                                ), BOCB);
    end;

    macro calculateAttributeA438_14_2(number, attribute)
        var data = m_dataSource.dataGkboReserves();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB))
                                                +
                                                data.getFilter().hasAssignedAccountCategory("'14.2'")
                                                ), BOCB);
    end;

    macro calculateAttributeA50505_6_1(number, attribute)
        var data = m_dataSource.dataGkboReserves();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB))
                                                +
                                                data.getFilter().hasAssignedAccountCategory("'6.1'")
                                                ), BOCB);
    end;

    macro calculateAttributeA50507_6_2(number, attribute)
        var data = m_dataSource.dataGkboReserves();
        attribute.setValue(data.getRealRvp(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB))
                                            +
                                            data.getFilter().hasAssignedAccountCategory("'6.2'")
                                            ), BOCB);
    end;

    macro calculateAttributeA50319_17(number, attribute)
        var data = m_dataSource.dataGkboReserves();
        attribute.setValue(data.getRealRofsh(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB))), BOCB);
    end;

    macro calculateAttributeA50719_17(number, attribute)
        var data = m_dataSource.dataGkboReserves();
        attribute.setValue(data.getRealRofsh(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB))), BOCB);
    end;

    macro calculateAttributeA60206_6_3(number, attribute)
        var data = m_dataSource.dataGkboReserves();
        attribute.setValue(data.getRealRvp(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB))
                                                    +
                                                    data.getFilter().isNotOurBank()
                                                    +
                                                    data.getFilter().hasAssignedPartyCategory("'ЗО','ДО'", RCB_OBJGROUP_PT_CHARACTER)
                                                    +
                                                    data.getFilter().hasAssignedPartyCategory("'60','47','67'", RCB_OBJGROUP_PT_OKOPF)
                                                ), BOCB);
    end;

    macro calculateAttributeA_3_2(number, attribute)
        var data = m_dataSource.dataGkboReserves();
        attribute.setValue(data.getAccountRest(data.getFilter().hasDocuments(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB), m_tuneTable.getCorrespondentAccountMasks(attribute.getName(), number, BOCB), RCB_ACSDCL_DEBET)), BOCB);
    end;

    macro calculateAttributeA_5_2(number, attribute)
        var data = m_dataSource.dataLoansCredit();
        m_protocol.printReportLineNumber(number+".1");
        attribute.setValue(data.getRvpsSum(data.getFilter().isSatisfiesAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number+".1", BOLoans))
                                            +
                                            data.getFilter().hasType(LO_CREDIT)
                                        ), BOLoans);

        m_protocol.printReportLineNumber(number+" гарантия");
        attribute.addValue(data.getRvpsSum(data.getFilter().hasType(LO_GUARANTEE)), BOLoans);

        m_protocol.printReportLineNumber(number+".2");
        attribute.addValue(data.getBadRvpsSum(data.getFilter().isSatisfiesAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number+".2", BOLoans))
                                                +
                                                data.getFilter().hasType(LO_CREDIT, LO_KARTA, LO_OVERDRAFT)
                                            ), BOLoans);


        data = m_dataSource.dataGkboReserves();
        m_protocol.printReportLineNumber(number+".3");
        attribute.setValue(data.getRealRvps(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number+".3", BOCB))), BOCB);
        m_protocol.printReportLineNumber(number+".4");
        attribute.addValue(data.getRealRvps(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number+".4", BOCB))
                                            +
                                            data.getFilter().hasAssignedAccountCategory("'В'", RCB_OBJGROUP_ACTIVEKIND)
                                            ), BOCB);
        attribute.addValue(data.getRealRvp(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number+".4", BOCB))
                                            +
                                            data.getFilter().hasAssignedAccountCategory("'П/Д'", RCB_OBJGROUP_ACTIVEKIND)
                                            ), BOCB);
        m_protocol.printReportLineNumber(number+".5");
        attribute.addValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number+".5", BOCB))
                                                +
                                                data.getFilter().hasAccountingCategory("'Резерв, вексель'")
                                                ), BOCB);

        data = m_dataSource.dataGkboReserveAccounts();
        m_protocol.printReportLineNumber(number+".6");
        attribute.addValue(data.getRealRvpAndRvps(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number+".6", BOCB))
                                                ), BOCB);
    end;

    macro calculateAttributeA_6_4(number, attribute)
        var data = m_dataSource.dataGkboReserves();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB))
                                                +
                                                data.getFilter().isNotOurBank()
                                                +
                                                data.getFilter().hasAssignedPartyCategory("'ЗО','ДО'", RCB_OBJGROUP_PT_CHARACTER)
                                                +
                                                data.getFilter().hasAssignedPartyCategory("'60','47','67'", RCB_OBJGROUP_PT_OKOPF)
                                                ), BOCB);
    end;

    macro calculateAttributeA_9_2(number, attribute)
        var data = m_dataSource.dataGkboReserves();
        m_protocol.printReportLineNumber(number+".1");
        attribute.setValue(data.getRealRvp(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number+".1", BOCB))), BOCB);

        m_protocol.printReportLineNumber(number+".1 репо");
        attribute.addValue(data.getAccountRest(data.getFilter().isRepoReserveAccount()
                                                ), BOCB);


        data = m_dataSource.dataLoansCredit();
        m_protocol.printReportLineNumber(number+".2");
        attribute.setValue(data.getRvpSum(data.getFilter().notIncludeInCase()), BOLoans);

        data = m_dataSource.dataLoansCase();
        m_protocol.printReportLineNumber(number+".2 портфель");
        attribute.addValue(data.getRvpSum(null), BOLoans);
    end;

    macro calculateAttributeA_12(number, attribute)
        var data = m_dataSource.dataGkboReserves();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB))
                                                +
                                                data.getFilter().isBank()
                                                ), BOCB);
    end;


    /**
    * раздел 2
    */
    macro calculateAttributeS12406_1_2(number, attribute)
        var data = m_dataSource.dataLoansRegChangeHistory();
        if (m_tuneTable.getRegisterNumber(attribute.getName(), number, BOLoans) )
                attribute.setValue(data.getReceiptSum(m_tuneTable.getRegisterNumber(attribute.getName(), number, BOLoans)), BOLoans);
        end;
    end;

    macro calculateAttributeS16203_1_2(number, attribute)
        var data = m_dataSource.dataLoansRegChangeHistory();
        if (m_tuneTable.getRegisterNumber(attribute.getName(), number, BOLoans) )
                attribute.setValue(data.getReceiptSum(m_tuneTable.getRegisterNumber(attribute.getName(), number, BOLoans)), BOLoans);
        end;
    end;

    macro calculateAttributeS16305_4_1(number, attribute)
        var data = m_dataSource.dataLoansRegChangeHistory();
        m_protocol.printReportLineNumber(number+".1");
        attribute.setValue(data.getExpenseSum(m_tuneTable.getRegisterNumber(attribute.getName(), number+".1", BOLoans)), BOLoans);

        data = m_dataSource.dataGkboDocuments();
        m_protocol.printReportLineNumber(number);
        attribute.setValue(data.getDocumentsRvpSum(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number+".2", BOCB)),
                                                    data.getFilter().isSatisfiesToSubCaseClassifiersMasks(m_tuneTable.getClassifierRvp(attribute.getName(), number+".2", BOCB)),
                                                    ternary(m_tuneTable.getRegisterNumber(attribute.getName(), number+".1", BOLoans) == "EMPTY_MASKS",
                                                            data.getFilter().isLoansReserveAccount(m_tuneTable.getReserveAccountMasks(attribute.getName(), number+".1", BOCB)),
                                                            null),
                                                    data.getFilter().getDocumentFilter(true, m_tuneTable.getAccountInOutCome(attribute.getName(), number+".2", BOCB), m_tuneTable.getSumbolOpu(attribute.getName(), number+".2", BOCB))
                                                ), BOCB);

    end;

    macro calculateAttributeS16305_4_2(number, attribute)
        var data = m_dataSource.dataGkboDocuments();
        attribute.setValue(data.getDocumentsRvpSum(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB)) + data.getFilter().hasAssignedAccountCategory("'П/Д'", RCB_OBJGROUP_ACTIVEKIND),
                                                    data.getFilter().isSatisfiesToSubCaseClassifiersMasks(m_tuneTable.getClassifierRvp(attribute.getName(), number, BOCB)),
                                                    data.getFilter().isSecuritiesReserveAccount(m_tuneTable.getReserveAccountMasks(attribute.getName(), number, BOCB)),
                                                    data.getFilter().getDocumentFilter(true, m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB), m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB))
                                                ), BOCB);
    end;

    macro calculateAttributeS17101_1_1(number, attribute)
        var data = m_dataSource.dataGkboReserves();
        attribute.setValue(data.getAccountRest(data.getFilter().hasAccountSymbol(m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                                m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB))
                                                +
                                                data.getFilter().hasAssignedAccountCategory("'17101'")
                                                ), BOCB);
    end;

    macro calculateAttributeS17201_1_1(number, attribute)
        var data = m_dataSource.dataGkboReserves();
        attribute.setValue(data.getAccountRest(data.getFilter().hasAccountSymbol(m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                                m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB))
                                                +
                                                data.getFilter().hasAssignedAccountCategory("'17201'")
                                                ), BOCB);

    end;

    macro calculateAttributeS25302_4_1(number, attribute)
        var data = m_dataSource.dataLoansRegChangeHistory();
        m_protocol.printReportLineNumber(number+".1");
        attribute.setValue(data.getReceiptSum(m_tuneTable.getRegisterNumber(attribute.getName(), number+".1", BOLoans)), BOLoans);
        data = m_dataSource.dataGkboDocuments();
        m_protocol.printReportLineNumber(number);
        attribute.setValue(data.getDocumentsRvpSum(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number+".2", BOCB)),
                                                    data.getFilter().isSatisfiesToSubCaseClassifiersMasks(m_tuneTable.getClassifierRvp(attribute.getName(), number+".2", BOCB)),
                                                    ternary(m_tuneTable.getRegisterNumber(attribute.getName(), number+".1", BOLoans) == "EMPTY_MASKS",
                                                            data.getFilter().isLoansReserveAccount(m_tuneTable.getReserveAccountMasks(attribute.getName(), number+".1", BOCB)),
                                                            null),
                                                    data.getFilter().getDocumentFilter(false, m_tuneTable.getAccountInOutCome(attribute.getName(), number+".2", BOCB), m_tuneTable.getSumbolOpu(attribute.getName(), number+".2", BOCB))
                                                ), BOCB);
    end;

    macro calculateAttributeS25302_4_2(number, attribute)
        var data = m_dataSource.dataGkboDocuments();
        attribute.setValue(data.getDocumentsRvpSum(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB)) + data.getFilter().hasAssignedAccountCategory("'П/Д'", RCB_OBJGROUP_ACTIVEKIND),
                                                    data.getFilter().isSatisfiesToSubCaseClassifiersMasks(m_tuneTable.getClassifierRvp(attribute.getName(), number, BOCB)),
                                                    data.getFilter().isSecuritiesReserveAccount(m_tuneTable.getReserveAccountMasks(attribute.getName(), number, BOCB)),
                                                    data.getFilter().getDocumentFilter(false, m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB), m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB))
                                                ), BOCB);
    end;

    macro calculateAttributeS27101_2_1(number, attribute)
        var data = m_dataSource.dataGkboReserves();
        attribute.setValue(data.getAccountRest(data.getFilter().hasAccountSymbol(m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                                m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB))
                                                +
                                                data.getFilter().hasAssignedAccountCategory("'27101'")
                                                ), BOCB);
    end;

    macro calculateAttributeS27201_2_1(number, attribute)
        var data = m_dataSource.dataGkboReserves();
        attribute.setValue(data.getAccountRest(data.getFilter().hasAccountSymbol(m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                                m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB))
                                                +
                                                data.getFilter().hasAssignedAccountCategory("'27201'")
                                                ), BOCB);
    end;

    macro calculateAttribute3101(number, attribute)
        var data = m_dataSource.dataGkboDocuments();
        attribute.setValue(data.getDocumentsSum(data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_CREDIT,
                                                                            m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB))
                                                +
                                                data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_DEBET,
                                                                                            "70501*")), BOCB);
    end;

    /**
    * раздел 3
    */
    macro calculateAttribute4201(number, attribute)
        var data = m_dataSource.dataGkboDocuments();
        attribute.setValue(data.getDocumentsSum(data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_DEBET,
                                                                            m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB))
                                                +
                                                data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_CREDIT,
                                                                            m_tuneTable.getCorrespondentAccountMasks(attribute.getName(), number, BOCB))), BOCB);
    end;

    macro calculateAttribute4301OR5101(number, attribute)
        /*копирование пользовательских данных*/
        var userValue = m_report.getUserAttribute(attribute.getName()).getExactValue();
        m_protocol.printUserDataCopyMessage(userValue);
        attribute.setValue(userValue);
    end;

    macro calculateAttribute6101(number, attribute)
        var data = m_dataSource.dataGkboReserves();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB))
                                                +
                                                data.getFilter().hasNotAssignedAccountCategory("'ТСС'")
                                                ), BOCB);
    end;

    macro calculateAttribute6102(number, attribute)
        var data = m_dataSource.dataGkboReserves();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB))
                                                +
                                                data.getFilter().hasNotAssignedAccountCategory("'ТСС'")
                                                ), BOCB);
    end;

    //Возвращает класс расчета атрибута
    private macro calculateData(number, name, calculationFunction)
        return TCalculateData(number, name, calculationFunction);
    end;

    /**
    * Расчитать атрибут отчета.
    * @param     attribute
    */
    macro calculateAttribute(attribute : TAttribute)
        var i = 0;
        while (i < m_calculateDataArray.size)
            if ((m_calculateDataArray[i].getAttributeName() == attribute.getName())
                and (not attribute.isCalculated()))
                m_protocol.printAttributeName(m_calculateDataArray[i].getAttributeName());
                m_protocol.printReportLineNumber(m_calculateDataArray[i].getLineNumber());

                m_calculateDataArray[i].execute(attribute);
                return;
            end;
            i = i + 1;
        end;
    end;

    /**
    * Рассчитать отчет.
    */
    macro calculateReport()

        m_protocol.setProtocolOutput();
        m_protocol.printHead();
        m_protocol.printRegistrySettings();

        calculateReport();

        m_protocol.resetProtocolOutput();
    end;

    private macro initAttributes()
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "1", "A20321/3.1", r2m(this,"calculateAttributeA20321_3_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "2", "A30126/3.1", r2m(this,"calculateAttributeA30126_3_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "3", "A30226/3.1", r2m(this,"calculateAttributeA30226_3_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "4", "A315/14.1",  r2m(this,"calculateAttributeA315_14_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "5", "A40109/5.1", r2m(this,"calculateAttributeA40109_5_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "6", "A40109/9.1", r2m(this,"calculateAttributeA40109_9_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "7", "A438/14.2",  r2m(this,"calculateAttributeA438_14_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "8", "A50505/6.1", r2m(this,"calculateAttributeA50505_6_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "9", "A50507/6.2", r2m(this,"calculateAttributeA50507_6_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("10", "A50319/17",  r2m(this,"calculateAttributeA50319_17"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("11", "A50719/17",  r2m(this,"calculateAttributeA50719_17"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("12", "A60206/6.3", r2m(this,"calculateAttributeA60206_6_3"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("13", "A/3.2",      r2m(this,"calculateAttributeA_3_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("14", "A/5.2",      r2m(this,"calculateAttributeA_5_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("15", "A/6.4",      r2m(this,"calculateAttributeA_6_4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("16", "A/9.2",      r2m(this,"calculateAttributeA_9_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("17", "A/12",       r2m(this,"calculateAttributeA_12"));

        m_calculateDataArray[m_calculateDataArray.size] = calculateData("18", "S12406/1.2", r2m(this,"calculateAttributeS12406_1_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("19", "S16203/1.2", r2m(this,"calculateAttributeS16203_1_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("20", "S16305/4.1", r2m(this,"calculateAttributeS16305_4_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("21", "S16305/4.2", r2m(this,"calculateAttributeS16305_4_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("22", "S17101/1.1", r2m(this,"calculateAttributeS17101_1_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("23", "S17201/1.1", r2m(this,"calculateAttributeS17201_1_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("24", "S25302/4.1", r2m(this,"calculateAttributeS25302_4_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("25", "S25302/4.2", r2m(this,"calculateAttributeS25302_4_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("26", "S27101/2.1", r2m(this,"calculateAttributeS27101_2_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("27", "S27201/2.1", r2m(this,"calculateAttributeS27201_2_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("28", "3101"      , r2m(this,"calculateAttribute3101"));

        m_calculateDataArray[m_calculateDataArray.size] = calculateData("29", "4201", r2m(this,"calculateAttribute4201"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("30", "4301", r2m(this,"calculateAttribute4301OR5101"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("31", "5101", r2m(this,"calculateAttribute4301OR5101"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("32", "6101", r2m(this,"calculateAttribute6101"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("33", "6102", r2m(this,"calculateAttribute6102"));
    end;

    /**
    * Конструктор.
    */
    macro constructor()
        initTCalculationController();

        m_tuneTable  = objectFactoryInstance.createTuneTable();
        m_protocol   = objectFactoryInstance.createPrintCalculationProtocolOperation();
        m_dataSource = objectFactoryInstance.createDataSource();

        /**
        * Удаление структурных значений переменной "Разделы".
        * Т.к. системная операция при удалении сносит и переменные пользовательского ввода.
        */
        rcbApplication().currentReport.attributeValue("Разделы").removeAllValues();
        RcbApplication().TransactionManager().commit();/*на всякий случай*/
        m_report  = objectFactoryInstance.createReport();

        m_dataSource.cacheData();

        initAttributes();
    end;

    constructor();
end;

/**
*  Расчет переменных по 2121-У.
*/
class (TCalculationController2055) TCalculationController2121()
    initTCalculationController2055();

    private macro initAttributes()
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "1", "A20321/3.1", r2m(this,"calculateAttributeA20321_3_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "2", "A30126/3.1", r2m(this,"calculateAttributeA30126_3_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "3", "A30226/3.1", r2m(this,"calculateAttributeA30226_3_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "4", "A/14.1",     r2m(this,"calculateAttributeA315_14_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "5", "A40109/5.1", r2m(this,"calculateAttributeA40109_5_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "6", "A40109/9.1", r2m(this,"calculateAttributeA40109_9_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "7", "A/14.2",     r2m(this,"calculateAttributeA438_14_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "8", "A50505/6.1", r2m(this,"calculateAttributeA50505_6_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "9", "A50507/6.2", r2m(this,"calculateAttributeA50507_6_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("10", "A50319/17",  r2m(this,"calculateAttributeA50319_17"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("11", "A50719/17",  r2m(this,"calculateAttributeA50719_17"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("12", "A60206/6.3", r2m(this,"calculateAttributeA60206_6_3"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("13", "A/3.2",      r2m(this,"calculateAttributeA_3_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("14", "A/5.2",      r2m(this,"calculateAttributeA_5_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("15", "A/6.4",      r2m(this,"calculateAttributeA_6_4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("16", "A/9.2",      r2m(this,"calculateAttributeA_9_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("17", "A/12",       r2m(this,"calculateAttributeA_12"));

        m_calculateDataArray[m_calculateDataArray.size] = calculateData("18", "S12406/1.2", r2m(this,"calculateAttributeS12406_1_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("19", "S16203/1.2", r2m(this,"calculateAttributeS16203_1_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("20", "S16305/4.1", r2m(this,"calculateAttributeS16305_4_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("21", "S16305/4.2", r2m(this,"calculateAttributeS16305_4_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("22", "S17101/1.1", r2m(this,"calculateAttributeS17101_1_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("23", "S17201/1.1", r2m(this,"calculateAttributeS17201_1_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("24", "S25302/4.1", r2m(this,"calculateAttributeS25302_4_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("25", "S25302/4.2", r2m(this,"calculateAttributeS25302_4_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("26", "S27101/2.1", r2m(this,"calculateAttributeS27101_2_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("27", "S27201/2.1", r2m(this,"calculateAttributeS27201_2_1"));

        m_calculateDataArray[m_calculateDataArray.size] = calculateData("28", "5101", r2m(this,"calculateAttribute4301OR5101"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("29", "6101", r2m(this,"calculateAttribute6101"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("30", "6102", r2m(this,"calculateAttribute6102"));
    end;
end;

/**
*  Расчет переменных по 2332-У.
*/
class (TCalculationController2121) TCalculationController2332()
    initTCalculationController2121();

    macro calculateAttributeAsRestOnPrimaryAccount(number, attribute)
        var data = m_dataSource.dataGkboReserves();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB))
                                                +
                                                data.getFilter().hasAssignedAccountCategory("'"+attribute.getName()+"'")
                                                ), BOCB);
    end;

    macro calculateAttributeAsRestOnAccountInOutCome(number, attribute)
        var data = m_dataSource.dataGkboReserves();
        attribute.setValue(data.getAccountRest(data.getFilter().hasAccountSymbol(m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                                m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB))
                                                +
                                                data.getFilter().hasAssignedAccountCategory("'"+attribute.getName()+"'")
                                                ), BOCB);
    end;

    /**
    * раздел 1
    */
    macro calculateAttributeA50505_4(number, attribute)
        var data = m_dataSource.dataGkboReserves();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB))
                                                +
                                                data.getFilter().hasAssignedAccountCategory("'СС'")
                                                ), BOCB);
    end;

    macro calculateAttributeA50505_6_1(number, attribute)
        var data = m_dataSource.dataGkboReserves();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB))
                                                +
                                                data.getFilter().hasAssignedAccountCategory("'ПР'")
                                                ), BOCB);
    end;

    macro calculateAttributeA50507_4(number, attribute)
        var data = m_dataSource.dataGkboReserves();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB))
                                                +
                                                data.getFilter().hasAssignedAccountCategory("'СС'")
                                                ), BOCB);
    end;

    macro calculateAttributeA50507_6_2(number, attribute)
        var data = m_dataSource.dataGkboReserves();
        attribute.setValue(data.getRealRvp(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB))
                                            +
                                            data.getFilter().hasAssignedAccountCategory("'ПР'")
                                            ), BOCB);
    end;

    macro calculateAttributeA_13_1(number, attribute)
        var data = m_dataSource.dataGkboReserves();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB))
                                                +
                                                data.getFilter().isPhysicalPerson()
                                                ), BOCB);
    end;

    macro calculateAttributeA_13_2(number, attribute)
        var data = m_dataSource.dataGkboReserves();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB))
                                            +
                                            data.getFilter().hasAssignedAccountCategory("'S'")
                                            ), BOCB);
    end;

    /**
    * раздел 2
    */
    macro calculateAttributeS15101_6(number, attribute)
        var data = m_dataSource.dataGkboDocuments();
        var value = data.getDocumentsSum(data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_DEBET,
                                                                                                m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB))
                                                +
                                                data.getFilter().hasAccountSymbol(RCB_ACSDCL_CREDIT,
                                                                                m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                                m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB)),
                                                /*вычитаем ошибочные проводки*/
                                                data.getFilter().hasAccountSymbol(RCB_ACSDCL_DEBET,
                                                                                    m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                                    m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB))
                                                +
                                                data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_CREDIT,
                                                                                                m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB)),
                                                true,
                                                /*вычитаем документы по урегулированию парных счетов*/
                                                data.getFilter().hasAccountSymbol(RCB_ACSDCL_DEBET,
                                                                                    m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                                    m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB))
                                                +
                                                data.getFilter().hasAccountSymbol(RCB_ACSDCL_CREDIT,
                                                                                m_tuneTable.getAccountInOutCome("S24101/6", "42", BOCB),
                                                                                m_tuneTable.getSumbolOpu("S24101/6", "42", BOCB)),
                                                true
                                                ),
                                                BOCB;
        if (value < 0)
            value = 0;
        end;
        attribute.setValue(value);
    end;

    macro calculateAttributeS152_6(number, attribute)
        var data = m_dataSource.dataGkboDocuments();
        var value = data.getDocumentsSum(data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_DEBET, m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB))
                                                +
                                                data.getFilter().hasAccountSymbol(RCB_ACSDCL_CREDIT,
                                                                                m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                                m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB)),
                                                null,
                                                /*вычитаем ошибочные проводки*/
                                                data.getFilter().hasAccountSymbol(RCB_ACSDCL_DEBET,
                                                                                    m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                                    m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB))
                                                +
                                                data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_CREDIT, m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB)),
                                                true
                                                ),
                                                BOCB;

        if (value < 0)
            value = 0;
        end;
        attribute.setValue(value);
    end;

    macro calculateAttributeS152_7(number, attribute)
        var data = m_dataSource.dataGkboDocuments();
        var value = data.getDocumentsSum(data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_DEBET, m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB))
                                                +
                                                data.getFilter().hasAccountSymbol(RCB_ACSDCL_CREDIT,
                                                                                m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                                m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB)),
                                                null,
                                                /*вычитаем ошибочные проводки*/
                                                data.getFilter().hasAccountSymbol(RCB_ACSDCL_DEBET,
                                                                                    m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                                    m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB))
                                                +
                                                data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_CREDIT, m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB)),
                                                true
                                                ),
                                                BOCB;
        if (value < 0)
            value = 0;
        end;
        attribute.setValue(value);
    end;

    macro calculateAttributeS152_8(number, attribute)
        var data = m_dataSource.dataGkboDocuments();
        var value = data.getDocumentsSum(data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_DEBET, m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB))
                                                +
                                                data.getFilter().hasAccountSymbol(RCB_ACSDCL_CREDIT,
                                                                                m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                                m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB)),
                                                null,
                                                /*вычитаем ошибочные проводки*/
                                                data.getFilter().hasAccountSymbol(RCB_ACSDCL_DEBET,
                                                                                    m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                                    m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB))
                                                +
                                                data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_CREDIT, m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB)),
                                                true
                                                ),
                                                BOCB;
        if (value < 0)
            value = 0;
        end;
        attribute.setValue(value);
    end;

    macro calculateAttributeS16305_4(number, attribute)
        var subAttribute = m_report.getPart("2").getAttribute("S16305/4.1");

        var data = m_dataSource.dataLoansRegChangeHistory();
        m_protocol.printReportLineNumber(number+".1");
        attribute.setValue(data.getExpenseSum(m_tuneTable.getRegisterNumber(attribute.getName(), number+".1", BOLoans)), BOLoans);

        m_protocol.printAddDataAttribute(subAttribute.getName(), subAttribute.getExactValue(BOLoans), BOLoans);
        attribute.addValue(subAttribute.getExactValue(BOLoans), BOLoans);

        data = m_dataSource.dataGkboDocuments();
        m_protocol.printReportLineNumber(number);
        attribute.setValue(data.getDocumentsRvpSum(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number+".2", BOCB)),
                                                    data.getFilter().isSatisfiesToSubCaseClassifiersMasks(m_tuneTable.getClassifierRvp(attribute.getName(), number+".2", BOCB)),
                                                    ternary(m_tuneTable.getRegisterNumber(attribute.getName(), number+".1", BOLoans) == "EMPTY_MASKS",
                                                            data.getFilter().isLoansReserveAccount(m_tuneTable.getReserveAccountMasks(attribute.getName(), number+".1", BOCB)),
                                                            null),
                                                    data.getFilter().getDocumentFilter(true, m_tuneTable.getAccountInOutCome(attribute.getName(), number+".2", BOCB), m_tuneTable.getSumbolOpu(attribute.getName(), number+".2", BOCB))
                                                ), BOCB);
        m_protocol.printAddDataAttribute(subAttribute.getName(), subAttribute.getExactValue(BOCB), BOCB);
        attribute.addValue(subAttribute.getExactValue(BOCB), BOCB);
    end;


    macro calculateAttributeS16305_4_2(number, attribute)
        var data = m_dataSource.dataGkboDocuments();
        attribute.setValue(data.getDocumentsRvpSum(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB)) + data.getFilter().hasAssignedAccountCategory("'П/Д'", RCB_OBJGROUP_ACTIVEKIND),
                                                    data.getFilter().isSatisfiesToSubCaseClassifiersMasks(m_tuneTable.getClassifierRvp(attribute.getName(), number, BOCB)),
                                                    data.getFilter().isSecuritiesReserveAccount(m_tuneTable.getReserveAccountMasks(attribute.getName(), number, BOCB)),
                                                    data.getFilter().getDocumentFilter(true, m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB), m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB))
                                                ), BOCB);

        var subAttribute = m_report.getPart("2").getAttribute("S16305/4.2.1");
        m_protocol.printAddDataAttribute(subAttribute.getName(), subAttribute.getExactValue(BOCB), BOCB);
        attribute.addValue(subAttribute.getExactValue(BOCB), BOCB);

        subAttribute = m_report.getPart("2").getAttribute("S16305/4.2.2");
        m_protocol.printAddDataAttribute(subAttribute.getName(), subAttribute.getExactValue(BOCB), BOCB);
        attribute.addValue(subAttribute.getExactValue(BOCB), BOCB);
    end;

    macro calculateAttributeS16305_4_2_1(number, attribute)
        var data = m_dataSource.dataGkboDocuments();
        attribute.setValue(data.getDocumentsRvpSum(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB)) + data.getFilter().hasAssignedAccountCategory("'П/Д'", RCB_OBJGROUP_ACTIVEKIND),
                                                    data.getFilter().isSatisfiesToSubCaseClassifiersMasks(m_tuneTable.getClassifierRvp(attribute.getName(), number, BOCB)),
                                                    data.getFilter().isSecuritiesReserveAccount(m_tuneTable.getReserveAccountMasks(attribute.getName(), number, BOCB)),
                                                    data.getFilter().getDocumentFilter(true, m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB), m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB))
                                                ), BOCB);
    end;

    macro calculateAttributeS16305_4_2_2(number, attribute)
        var data = m_dataSource.dataGkboDocuments();
        attribute.setValue(data.getDocumentsRvpSum(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB)) + data.getFilter().hasAssignedAccountCategory("'П/Д'", RCB_OBJGROUP_ACTIVEKIND),
                                                    data.getFilter().isSatisfiesToSubCaseClassifiersMasks(m_tuneTable.getClassifierRvp(attribute.getName(), number, BOCB)),
                                                    data.getFilter().isSecuritiesReserveAccount(m_tuneTable.getReserveAccountMasks(attribute.getName(), number, BOCB)),
                                                    data.getFilter().getDocumentFilter(true, m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB), m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB))
                                                ), BOCB);
    end;

    macro calculateAttributeS24101_6(number, attribute)
        var data = m_dataSource.dataGkboDocuments();
        attribute.setValue(data.getDocumentsSum(data.getFilter().hasAccountSymbol(RCB_ACSDCL_DEBET,
                                                                                    m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                                    m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB))
                                                +
                                                data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_CREDIT, m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB)),
                                                null,
                                                /*вычитаем ошибочные проводки*/
                                                data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_DEBET, m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB))
                                                +
                                                data.getFilter().hasAccountSymbol(RCB_ACSDCL_CREDIT,
                                                                                m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                                m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB)),
                                                true,
                                                /*вычитаем документы по урегулированию парных счетов*/
                                                data.getFilter().hasAccountSymbol(RCB_ACSDCL_DEBET,
                                                                                    m_tuneTable.getAccountInOutCome("S15101/6", "27", BOCB),
                                                                                    m_tuneTable.getSumbolOpu("S15101/6", "27", BOCB))
                                                +
                                                data.getFilter().hasAccountSymbol(RCB_ACSDCL_CREDIT,
                                                                                m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                                m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB)),
                                                true
                                                ),
                                                BOCB);
    end;

    macro calculateAttributeS242_6(number, attribute)
        var data = m_dataSource.dataGkboDocuments();
        attribute.setValue(data.getDocumentsSum(data.getFilter().hasAccountSymbol(RCB_ACSDCL_DEBET,
                                                                                    m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                                    m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB))
                                                +
                                                data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_CREDIT, m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB)),
                                                null,
                                                /*вычитаем ошибочные проводки*/
                                                data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_DEBET, m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB))
                                                +
                                                data.getFilter().hasAccountSymbol(RCB_ACSDCL_CREDIT,
                                                                                m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                                m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB)),
                                                true
                                                ),
                                                BOCB);
    end;

    macro calculateAttributeS242_7(number, attribute)
        var data = m_dataSource.dataGkboDocuments();
        attribute.setValue(data.getDocumentsSum(data.getFilter().hasAccountSymbol(RCB_ACSDCL_DEBET,
                                                                                    m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                                    m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB))
                                                +
                                                data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_CREDIT, m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB)),
                                                null,
                                                /*вычитаем ошибочные проводки*/
                                                data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_DEBET, m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB))
                                                +
                                                data.getFilter().hasAccountSymbol(RCB_ACSDCL_CREDIT,
                                                                                m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                                m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB)),
                                                true
                                                ),
                                                BOCB);
    end;

    macro calculateAttributeS242_8(number, attribute)
        var data = m_dataSource.dataGkboDocuments();
        attribute.setValue(data.getDocumentsSum(data.getFilter().hasAccountSymbol(RCB_ACSDCL_DEBET,
                                                                                    m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                                    m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB))
                                                +
                                                data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_CREDIT, m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB)),
                                                null,
                                                data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_DEBET, m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB))
                                                +
                                                data.getFilter().hasAccountSymbol(RCB_ACSDCL_CREDIT,
                                                                                m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                                m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB)),
                                                true
                                                ),
                                                BOCB);
    end;



    macro calculateAttributeS25302_4(number, attribute)
        var subAttribute = m_report.getPart("2").getAttribute("S25302/4.1");

        var data = m_dataSource.dataLoansRegChangeHistory();
        m_protocol.printReportLineNumber(number+".1");
        attribute.setValue(data.getReceiptSum(m_tuneTable.getRegisterNumber(attribute.getName(), number+".1", BOLoans)), BOLoans);

        m_protocol.printAddDataAttribute(subAttribute.getName(), subAttribute.getExactValue(BOLoans), BOLoans);
        attribute.addValue(subAttribute.getExactValue(BOLoans), BOLoans);

        data = m_dataSource.dataGkboDocuments();
        m_protocol.printReportLineNumber(number+".2");
        attribute.setValue(data.getDocumentsRvpSum(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number+".2", BOCB)),
                                                    data.getFilter().isSatisfiesToSubCaseClassifiersMasks(m_tuneTable.getClassifierRvp(attribute.getName(), number+".2", BOCB)),
                                                    ternary(m_tuneTable.getRegisterNumber(attribute.getName(), number+".1", BOLoans) == "EMPTY_MASKS",
                                                            data.getFilter().isLoansReserveAccount(m_tuneTable.getReserveAccountMasks(attribute.getName(), number+".1", BOCB)),
                                                            null),
                                                    data.getFilter().getDocumentFilter(false, m_tuneTable.getAccountInOutCome(attribute.getName(), number+".2", BOCB), m_tuneTable.getSumbolOpu(attribute.getName(), number+".2", BOCB))
                                                ), BOCB);
        m_protocol.printAddDataAttribute(subAttribute.getName(), subAttribute.getExactValue(BOCB), BOCB);
        attribute.addValue(subAttribute.getExactValue(BOCB), BOCB);
    end;


    macro calculateAttributeS25302_4_2(number, attribute)
        var data = m_dataSource.dataGkboDocuments();
        attribute.setValue(data.getDocumentsRvpSum(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB)) + data.getFilter().hasAssignedAccountCategory("'П/Д'", RCB_OBJGROUP_ACTIVEKIND),
                                                    data.getFilter().isSatisfiesToSubCaseClassifiersMasks(m_tuneTable.getClassifierRvp(attribute.getName(), number, BOCB)),
                                                    data.getFilter().isSecuritiesReserveAccount(m_tuneTable.getReserveAccountMasks(attribute.getName(), number, BOCB)),
                                                    data.getFilter().getDocumentFilter(false, m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB), m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB))
                                                ), BOCB);

        var subAttribute = m_report.getPart("2").getAttribute("S25302/4.2.1");
        m_protocol.printAddDataAttribute(subAttribute.getName(), subAttribute.getExactValue(BOCB), BOCB);
        attribute.addValue(subAttribute.getExactValue(BOCB), BOCB);

        subAttribute = m_report.getPart("2").getAttribute("S25302/4.2.2");
        m_protocol.printAddDataAttribute(subAttribute.getName(), subAttribute.getExactValue(BOCB), BOCB);
        attribute.addValue(subAttribute.getExactValue(BOCB), BOCB);
    end;

    macro calculateAttributeS25302_4_2_1(number, attribute)
        var data = m_dataSource.dataGkboDocuments();
        attribute.setValue(data.getDocumentsRvpSum(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB)) + data.getFilter().hasAssignedAccountCategory("'П/Д'", RCB_OBJGROUP_ACTIVEKIND),
                                                    data.getFilter().isSatisfiesToSubCaseClassifiersMasks(m_tuneTable.getClassifierRvp(attribute.getName(), number, BOCB)),
                                                    data.getFilter().isSecuritiesReserveAccount(m_tuneTable.getReserveAccountMasks(attribute.getName(), number, BOCB)),
                                                    data.getFilter().getDocumentFilter(false, m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB), m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB))
                                                ), BOCB);
    end;

    macro calculateAttributeS25302_4_2_2(number, attribute)
        var data = m_dataSource.dataGkboDocuments();
        attribute.setValue(data.getDocumentsRvpSum(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB)) + data.getFilter().hasAssignedAccountCategory("'П/Д'", RCB_OBJGROUP_ACTIVEKIND),
                                                    data.getFilter().isSatisfiesToSubCaseClassifiersMasks(m_tuneTable.getClassifierRvp(attribute.getName(), number, BOCB)),
                                                    data.getFilter().isSecuritiesReserveAccount(m_tuneTable.getReserveAccountMasks(attribute.getName(), number, BOCB)),
                                                    data.getFilter().getDocumentFilter(false, m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB), m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB))
                                                ), BOCB);
    end;


    /**
    * раздел 4
    */
    macro calculateAttributeD3(number, attribute)
        var data = m_dataSource.dataGkboReserves();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB))
                                                +
                                                data.getFilter().hasAssignedAccountCategory("'"+attribute.getName()+"'")
                                                +
                                                data.getFilter().currencyIsNationalCurrency()
                                                ), BOCB);
    end;

    macro calculateAttributeD4(number, attribute)
        var data = m_dataSource.dataGkboReserves();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB))
                                                +
                                                data.getFilter().hasAssignedAccountCategory("'"+attribute.getName()+"'")
                                                +
                                                data.getFilter().currencyIsNotNationalCurrency()
                                                ), BOCB);
    end;

    macro calculateAttributeD5(number, attribute)
        var data = m_dataSource.dataGkboReserves();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB))
                                                +
                                                data.getFilter().hasAssignedAccountCategory("'"+attribute.getName()+"'")
                                                +
                                                data.getFilter().currencyIsNationalCurrency()
                                                ), BOCB);
    end;

    macro calculateAttributeD6(number, attribute)
        var data = m_dataSource.dataGkboReserves();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB))
                                                +
                                                data.getFilter().hasAssignedAccountCategory("'"+attribute.getName()+"'")
                                                +
                                                data.getFilter().currencyIsNotNationalCurrency()
                                                ), BOCB);
    end;

    macro calculateAttributeD7(number, attribute)
        var data = m_dataSource.dataGkboReserves();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB))
                                                +
                                                data.getFilter().hasAssignedAccountCategory("'"+attribute.getName()+"'")
                                                +
                                                data.getFilter().currencyIsNationalCurrency()
                                                ), BOCB);
    end;

    macro calculateAttributeD8(number, attribute)
        var data = m_dataSource.dataGkboReserves();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB))
                                                +
                                                data.getFilter().hasAssignedAccountCategory("'"+attribute.getName()+"'")
                                                +
                                                data.getFilter().currencyIsNotNationalCurrency()
                                                ), BOCB);
    end;


    macro calculateAttributeD14(number, attribute)
        var data = m_dataSource.dataGkboReserves();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB))
                                                +
                                                data.getFilter().isOrgansOfGovernment()
                                                ), BOCB);
    end;

    macro calculateAttributeD15(number, attribute)
        var data = m_dataSource.dataGkboReserves();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB))
                                                +
                                                data.getFilter().isOrgansOfLocalGovernment()
                                                ), BOCB);
    end;

    macro calculateAttributeD16(number, attribute)
        var data = m_dataSource.dataGkboReserves();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB))
                                                +
                                                data.getFilter().isResident()
                                                +
                                                data.getFilter().isBank()
                                                ), BOCB);
    end;

    macro calculateAttributeD17(number, attribute)
        var data = m_dataSource.dataGkboReserves();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB))
                                                +
                                                data.getFilter().isResident()
                                                +
                                                data.getFilter().isJuridicalPerson()
                                                ), BOCB);
    end;

    macro calculateAttributeD18(number, attribute)
        var data = m_dataSource.dataGkboReserves();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB))
                                                +
                                                data.getFilter().isNonResident()
                                                ), BOCB);
    end;

    private macro initAttributes()
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "1", "A102/16",    r2m(this,"calculateAttributeAsRestOnPrimaryAccount"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "2", "A20321/3.1", r2m(this,"calculateAttributeA20321_3_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "3", "A30126/3.1", r2m(this,"calculateAttributeA30126_3_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "4", "A30226/3.1", r2m(this,"calculateAttributeA30226_3_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "5", "A40109/5.1", r2m(this,"calculateAttributeA40109_5_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "6", "A40109/9.1", r2m(this,"calculateAttributeA40109_9_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "7", "A50505/4",   r2m(this,"calculateAttributeA50505_4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "8", "A50505/6.1", r2m(this,"calculateAttributeA50505_6_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "9", "A50507/4",   r2m(this,"calculateAttributeA50507_4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("10", "A50507/6.2", r2m(this,"calculateAttributeA50507_6_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("11", "A50319/17",  r2m(this,"calculateAttributeA50319_17"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("12", "A50719/17",  r2m(this,"calculateAttributeA50719_17"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("13", "A60206/6.3", r2m(this,"calculateAttributeA60206_6_3"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("14", "A/3.2",      r2m(this,"calculateAttributeA_3_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("15", "A/5.2",      r2m(this,"calculateAttributeA_5_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("16", "A/5.3",      r2m(this,"calculateAttributeAsRestOnPrimaryAccount"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("17", "A/6.4",      r2m(this,"calculateAttributeA_6_4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("18", "A/9.2",      r2m(this,"calculateAttributeA_9_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("19", "A/12",       r2m(this,"calculateAttributeA_12"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("20", "A/13.1",     r2m(this,"calculateAttributeA_13_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("21", "A/13.2",     r2m(this,"calculateAttributeA_13_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("22", "A/14.1",     r2m(this,"calculateAttributeAsRestOnPrimaryAccount"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("23", "A/14.2",     r2m(this,"calculateAttributeAsRestOnPrimaryAccount"));

        m_calculateDataArray[m_calculateDataArray.size] = calculateData("24", "S12406/1.2",   r2m(this,"calculateAttributeS12406_1_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("25", "S131/6",       r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("26", "S131/7",       r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("27", "S15101/6",     r2m(this,"calculateAttributeS15101_6"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("28", "S152/6",       r2m(this,"calculateAttributeS152_6"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("29", "S152/7",       r2m(this,"calculateAttributeS152_7"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("30", "S152/8",       r2m(this,"calculateAttributeS152_8"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("31", "S16203/1.2",   r2m(this,"calculateAttributeS16203_1_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("33", "S16305/4.1",   r2m(this,"calculateAttributeS16305_4_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("32", "S16305/4",     r2m(this,"calculateAttributeS16305_4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("35", "S16305/4.2.1", r2m(this,"calculateAttributeS16305_4_2_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("36", "S16305/4.2.2", r2m(this,"calculateAttributeS16305_4_2_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("34", "S16305/4.2",   r2m(this,"calculateAttributeS16305_4_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("37", "S16305/14",    r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("38", "S16305/15",    r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("39", "S17101/1.1",   r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("40", "S17201/1.1",   r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("41", "S231/6",       r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("42", "S231/7",       r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("43", "S24101/6",     r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("44", "S242/6",       r2m(this,"calculateAttributeS242_6"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("45", "S242/7",       r2m(this,"calculateAttributeS242_7"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("46", "S242/8",       r2m(this,"calculateAttributeS242_8"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("48", "S25302/4.1",   r2m(this,"calculateAttributeS25302_4_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("47", "S25302/4",     r2m(this,"calculateAttributeS25302_4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("50", "S25302/4.2.1", r2m(this,"calculateAttributeS25302_4_2_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("51", "S25302/4.2.2", r2m(this,"calculateAttributeS25302_4_2_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("49", "S25302/4.2",   r2m(this,"calculateAttributeS25302_4_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("52", "S25302/14",    r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("53", "S25302/15",    r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("54", "S27101/2.1",   r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("55", "S27201/2.1",   r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));

        m_calculateDataArray[m_calculateDataArray.size] = calculateData("56", "5101", r2m(this,"calculateAttribute4301OR5101"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("57", "6101", r2m(this,"calculateAttribute6101"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("58", "6102", r2m(this,"calculateAttribute6102"));

        m_calculateDataArray[m_calculateDataArray.size] = calculateData("59", "D/1",  r2m(this,"calculateAttributeAsRestOnPrimaryAccount"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("60", "D/2",  r2m(this,"calculateAttributeAsRestOnPrimaryAccount"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("61", "D/3",  r2m(this,"calculateAttributeD3"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("62", "D/4",  r2m(this,"calculateAttributeD4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("63", "D/5",  r2m(this,"calculateAttributeD5"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("64", "D/6",  r2m(this,"calculateAttributeD6"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("65", "D/7",  r2m(this,"calculateAttributeD7"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("66", "D/8",  r2m(this,"calculateAttributeD8"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("67", "D/9",  r2m(this,"calculateAttributeAsRestOnPrimaryAccount"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("68", "D/10", r2m(this,"calculateAttributeAsRestOnPrimaryAccount"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("69", "D/11", r2m(this,"calculateAttributeAsRestOnPrimaryAccount"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("70", "D/12", r2m(this,"calculateAttributeAsRestOnPrimaryAccount"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("71", "D/13", r2m(this,"calculateAttributeAsRestOnPrimaryAccount"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("72", "D/14", r2m(this,"calculateAttributeD14"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("73", "D/15", r2m(this,"calculateAttributeD15"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("74", "D/16", r2m(this,"calculateAttributeD16"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("75", "D/17", r2m(this,"calculateAttributeD17"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("76", "D/18", r2m(this,"calculateAttributeD18"));
    end;
end;

class (TCalculationController2332) TCalculationController2539()
    //Субъекты экономической деятельности по 302-П
    const ECONOMICACTORS_FIN_ORG_RF      = "'2'";  // Фин.органы субъектов РФ
    const ECONOMICACTORS_GOV_FOND        = "'3'";  // Гос. внебюдж. фонды
    const ECONOMICACTORS_FOND_RF         = "'4'";  // Внебюдж.фонды субъектов Рф
    const ECONOMICACTORS_FIN_ORG_FED     = "'5'";  // Фин.орг.в фед.собственности
    const ECONOMICACTORS_COM_ORG_FED     = "'6'";  // Ком.орг.в фед.собственности
    const ECONOMICACTORS_NONCOM_ORG_FED  = "'7'";  // Неком.орг.в фед.собственности
    const ECONOMICACTORS_FIN_ORG_GOV     = "'8'";  // Финорг гос.соб. (кроме фед.)
    const ECONOMICACTORS_COM_ORG_GOV     = "'9'";  // Коморг гос.соб.(кроме фед.)
    const ECONOMICACTORS_NONCOM_ORG_GOV  = "'10'"; // Некоморг гос.соб.(кроме фед.)
    const ECONOMICACTORS_NONGOV_FIN_ORG  = "'11'"; // Негос.фин.организации
    const ECONOMICACTORS_NONGOV_COM_ORG  = "'12'"; // Негосуд. коммерч. орг-ии
    const ECONOMICACTORS_NONGOV_NONCOM   = "'13'"; // Негос.неком.организации

    initTCalculationController2332();

    macro calculateAttributeA_9_3(number, attribute)
        var data = m_dataSource.dataGkboReserves();

        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB))
                                                +
                                                data.getFilter().hasAssignedAccountCategory("'П/Д'", RCB_OBJGROUP_ACTIVEKIND)
                                                ), BOCB);
    end;

    macro calculateAttributeS16305_4_2(number, attribute)
        var data = m_dataSource.dataGkboDocuments();
        attribute.setValue(data.getDocumentsRvpSum(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2)) + data.getFilter().hasAssignedAccountCategory("'П/Д'", RCB_OBJGROUP_ACTIVEKIND),
                                                    data.getFilter().isSatisfiesToSubCaseClassifiersMasks(m_tuneTable.getClassifierRvp(attribute.getName(), number, BOCB)),
                                                    data.getFilter().isSecuritiesReserveAccount(m_tuneTable.getReserveAccountMasks(attribute.getName(), number, BOCB)),
                                                    data.getFilter().getDocumentFilter(true, m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB), m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB))
                                                ), BOCB);
    end;

    macro calculateAttributeS25302_4_2(number, attribute)
        var data = m_dataSource.dataGkboDocuments();
        attribute.setValue(data.getDocumentsRvpSum(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB)) + data.getFilter().hasAssignedAccountCategory("'П/Д'", RCB_OBJGROUP_ACTIVEKIND),
                                                    data.getFilter().isSatisfiesToSubCaseClassifiersMasks(m_tuneTable.getClassifierRvp(attribute.getName(), number, BOCB)),
                                                    data.getFilter().isSecuritiesReserveAccount(m_tuneTable.getReserveAccountMasks(attribute.getName(), number, BOCB)),
                                                    data.getFilter().getDocumentFilter(false, m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB), m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB))
                                                ), BOCB);
    end;

    macro calculateAttributeAsRestOnPrimaryAccountPart4(number, attribute)
        var data = m_dataSource.dataGkboAccount();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 4))
                                                +
                                                data.getFilter().hasAssignedAccountCategory("'"+attribute.getName()+"'")
                                                ), BOCB);
    end;

    macro calculateAttributeIsOrgansOfGovernment(number, attribute)
        var data = m_dataSource.dataGkboAccount();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 4))
                                                +
                                                data.getFilter().isOrgansOfGovernment()
                                                ), BOCB);
    end;

    macro calculateAttributeD15(number, attribute)
        var data = m_dataSource.dataGkboAccount();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 4))
                                                +
                                                data.getFilter().isOrgansOfLocalGovernment()
                                                ), BOCB);
    end;

    macro calculateAttributeIsBankResident(number, attribute)
        var data = m_dataSource.dataGkboAccount();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 4))
                                                +
                                                data.getFilter().isResident()
                                                +
                                                data.getFilter().isBank()
                                                ), BOCB);
    end;

    macro calculateAttributeD17(number, attribute)
        var data = m_dataSource.dataGkboAccount();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 4))
                                                +
                                                data.getFilter().isResident()
                                                +
                                                data.getFilter().isJuridicalPerson()
                                                ), BOCB);
    end;

    macro calculateAttributeNonResident(number, attribute)
        var data = m_dataSource.dataGkboAccount();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 4))
                                                +
                                                data.getFilter().isNonResident()
                                                ), BOCB);
    end;

    macro calculateAttributeIsCentralBank(number, attribute)
        var data = m_dataSource.dataGkboAccount();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 4))
                                                +
                                                data.getFilter().isCentralBank()
                                                ), BOCB);
    end;

    macro calculateAttributeIL1(number, attribute)
        var data = m_dataSource.dataGkboAccount();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 4))
                                                +
                                                data.getFilter().isPhysicalPerson()
                                                +
                                                data.getFilter().isNonResident()
                                                ), BOCB);
    end;

    macro calculateAttributeHasAssignedPartyCategoryIL6(number, attribute)
        var data = m_dataSource.dataGkboAccount();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 4))
                                                +
                                                data.getFilter().hasAssignedPartyCategory(ECONOMICACTORS_GOV_FOND, RCB_OBJGROUP_PT_ECONOMICACTORS)
                                                ), BOCB);
    end;

    macro calculateAttributeHasAssignedPartyCategoryIL7_IA4(number, attribute)
        var data = m_dataSource.dataGkboAccount();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 4))
                                                +
                                                data.getFilter().hasAssignedPartyCategory(ECONOMICACTORS_FIN_ORG_RF, RCB_OBJGROUP_PT_ECONOMICACTORS)
                                                ), BOCB);
    end;

    macro calculateAttributeHasAssignedPartyCategoryIL8_IA5(number, attribute)
        var data = m_dataSource.dataGkboAccount();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 4))
                                                +
                                                data.getFilter().hasAssignedPartyCategory(ECONOMICACTORS_FOND_RF, RCB_OBJGROUP_PT_ECONOMICACTORS)
                                                ), BOCB);
    end;

    macro calculateAttributeHasAssignedPartyCategoryIL9_IA6(number, attribute)
        var data = m_dataSource.dataGkboAccount();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 4))
                                                +
                                                data.getFilter().hasAssignedPartyCategory(ECONOMICACTORS_FIN_ORG_FED + ", "
                                                                                        + ECONOMICACTORS_FIN_ORG_GOV + ", "
                                                                                        + ECONOMICACTORS_NONGOV_FIN_ORG,
                                                                                        RCB_OBJGROUP_PT_ECONOMICACTORS)
                                                ), BOCB);
    end;

    macro calculateAttributeHasAssignedPartyCategoryIL10_IA7(number, attribute)
        var data = m_dataSource.dataGkboAccount();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 4))
                                                +
                                                data.getFilter().hasAssignedPartyCategory(ECONOMICACTORS_COM_ORG_FED + ", "
                                                                                        + ECONOMICACTORS_NONCOM_ORG_FED + ", "
                                                                                        + ECONOMICACTORS_COM_ORG_GOV + ", "
                                                                                        + ECONOMICACTORS_NONCOM_ORG_GOV,
                                                                                        RCB_OBJGROUP_PT_ECONOMICACTORS)
                                                ), BOCB);
    end;

    macro calculateAttributeHasAssignedPartyCategoryIL11_IA8(number, attribute)
        var data = m_dataSource.dataGkboAccount();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 4))
                                                +
                                                data.getFilter().hasAssignedPartyCategory(ECONOMICACTORS_NONGOV_COM_ORG + ", "
                                                                                        + ECONOMICACTORS_NONGOV_NONCOM,
                                                                                        RCB_OBJGROUP_PT_ECONOMICACTORS)
                                                ), BOCB);
    end;

    macro calculateAttributeIsEmployer(number, attribute)
        var data = m_dataSource.dataGkboAccount();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 4))
                                                +
                                                data.getFilter().isEmployer()
                                                ), BOCB);
    end;

    macro calculateAttributeIA10(number, attribute)
        var data = m_dataSource.dataGkboAccount();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 4))
                                                +
                                                data.getFilter().isPhysicalPerson()
                                                +
                                                data.getFilter().isResident()
                                                ), BOCB);
    end;

    private macro initAttributes()
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "1", "A102/16",    r2m(this,"calculateAttributeAsRestOnPrimaryAccount"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "2", "A20321/3.1", r2m(this,"calculateAttributeA20321_3_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "3", "A30126/3.1", r2m(this,"calculateAttributeA30126_3_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "4", "A30226/3.1", r2m(this,"calculateAttributeA30226_3_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "5", "A40109/5.1", r2m(this,"calculateAttributeA40109_5_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "6", "A40109/9.1", r2m(this,"calculateAttributeA40109_9_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "7", "A50505/4",   r2m(this,"calculateAttributeA50505_4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "8", "A50505/6.1", r2m(this,"calculateAttributeA50505_6_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "9", "A50507/4",   r2m(this,"calculateAttributeA50507_4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("10", "A50507/6.2", r2m(this,"calculateAttributeA50507_6_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("11", "A50319/17",  r2m(this,"calculateAttributeA50319_17"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("12", "A50719/17",  r2m(this,"calculateAttributeA50719_17"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("13", "A60206/6.3", r2m(this,"calculateAttributeA60206_6_3"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("14", "A/3.2",      r2m(this,"calculateAttributeA_3_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("15", "A/5.2",      r2m(this,"calculateAttributeA_5_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("16", "A/5.3",      r2m(this,"calculateAttributeAsRestOnPrimaryAccount"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("17", "A/6.4",      r2m(this,"calculateAttributeA_6_4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("18", "A/9.2",      r2m(this,"calculateAttributeA_9_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("19", "A/9.3",      r2m(this,"calculateAttributeA_9_3"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("20", "A/12",       r2m(this,"calculateAttributeA_12"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("21", "A/13.1",     r2m(this,"calculateAttributeA_13_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("22", "A/13.2",     r2m(this,"calculateAttributeA_13_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("23", "A/14.1",     r2m(this,"calculateAttributeAsRestOnPrimaryAccount"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("24", "A/14.2",     r2m(this,"calculateAttributeAsRestOnPrimaryAccount"));

        m_calculateDataArray[m_calculateDataArray.size] = calculateData("25", "S12406/1.2",   r2m(this,"calculateAttributeS12406_1_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("26", "S131/6",       r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("27", "S131/7",       r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("28", "S15101/6",     r2m(this,"calculateAttributeS15101_6"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("29", "S152/6",       r2m(this,"calculateAttributeS152_6"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("30", "S152/7",       r2m(this,"calculateAttributeS152_7"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("31", "S152/8",       r2m(this,"calculateAttributeS152_8"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("32", "S16203/1.2",   r2m(this,"calculateAttributeS16203_1_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("34", "S16305/4.1",   r2m(this,"calculateAttributeS16305_4_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("35", "S16305/4.2",   r2m(this,"calculateAttributeS16305_4_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("33", "S16305/4",     r2m(this,"calculateAttributeS16305_4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("36", "S16305/14",    r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("37", "S16305/15",    r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("38", "S17101/1.1",   r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("39", "S17201/1.1",   r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("40", "S231/6",       r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("41", "S231/7",       r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("42", "S24101/6",     r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("43", "S242/6",       r2m(this,"calculateAttributeS242_6"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("44", "S242/7",       r2m(this,"calculateAttributeS242_7"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("45", "S242/8",       r2m(this,"calculateAttributeS242_8"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("47", "S25302/4.1",   r2m(this,"calculateAttributeS25302_4_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("48", "S25302/4.2",   r2m(this,"calculateAttributeS25302_4_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("46", "S25302/4",     r2m(this,"calculateAttributeS25302_4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("49", "S25302/14",    r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("50", "S25302/15",    r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("51", "S27101/2.1",   r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("52", "S27201/2.1",   r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));

        m_calculateDataArray[m_calculateDataArray.size] = calculateData("53", "5101", r2m(this,"calculateAttribute4301OR5101"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("54", "6101", r2m(this,"calculateAttribute6101"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("55", "6102", r2m(this,"calculateAttribute6102"));

        m_calculateDataArray[m_calculateDataArray.size] = calculateData("1", "D/0",    r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("2", "D/1",    r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("3", "D/2",    r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("4", "D/3",    r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("5", "D/5",    r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("6", "D/7",    r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("7", "D/9",    r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("8", "D/10",   r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("9", "D/11",   r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("10", "D/12",  r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("11", "D/13",  r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("12", "D/14",  r2m(this,"calculateAttributeIsOrgansOfGovernment"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("13", "D/15",  r2m(this,"calculateAttributeD15"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("14", "D/16",  r2m(this,"calculateAttributeIsBankResident"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("15", "D/17",  r2m(this,"calculateAttributeD17"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("16", "D/18",  r2m(this,"calculateAttributeNonResident"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("17", "D/19",  r2m(this,"calculateAttributeIsCentralBank"));

        m_calculateDataArray[m_calculateDataArray.size] = calculateData("18", "IL/1",  r2m(this,"calculateAttributeIL1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("19", "IL/2",  r2m(this,"calculateAttributeNonResident"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("20", "IL/3",  r2m(this,"calculateAttributeIsCentralBank"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("21", "IL/4",  r2m(this,"calculateAttributeIsBankResident"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("22", "IL/5",  r2m(this,"calculateAttributeIsOrgansOfGovernment"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("23", "IL/6",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL6"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("24", "IL/7",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL7_IA4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("25", "IL/8",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL8_IA5"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("26", "IL/9",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL9_IA6"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("27", "IL/10", r2m(this,"calculateAttributeHasAssignedPartyCategoryIL10_IA7"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("28", "IL/11", r2m(this,"calculateAttributeHasAssignedPartyCategoryIL11_IA8"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("29", "IL/12", r2m(this,"calculateAttributeIsEmployer"));

        m_calculateDataArray[m_calculateDataArray.size] = calculateData("30", "IA/1",  r2m(this,"calculateAttributeNonResident"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("31", "IA/2",  r2m(this,"calculateAttributeIsCentralBank"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("32", "IA/3",  r2m(this,"calculateAttributeIsBankResident"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("33", "IA/4",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL7_IA4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("34", "IA/5",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL8_IA5"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("35", "IA/6",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL9_IA6"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("36", "IA/7",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL10_IA7"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("37", "IA/8",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL11_IA8"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("38", "IA/9",  r2m(this,"calculateAttributeIsEmployer"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("39", "IA/10", r2m(this,"calculateAttributeIA10"));
    end;
end;

class (TCalculationController2539) TCalculationController2627()
    initTCalculationController2539();

    macro calculateAttributeIsFinanceMinistry(number, attribute)
        var data = m_dataSource.dataGkboAccount();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 4))
                                                +
                                                data.getFilter().isFinanceMinistry()
                                                ), BOCB);
    end;

    private macro initAttributes()
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "1", "A102/16",    r2m(this,"calculateAttributeAsRestOnPrimaryAccount"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "2", "A20321/3.1", r2m(this,"calculateAttributeA20321_3_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "3", "A30126/3.1", r2m(this,"calculateAttributeA30126_3_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "4", "A30226/3.1", r2m(this,"calculateAttributeA30226_3_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "5", "A40109/5.1", r2m(this,"calculateAttributeA40109_5_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "6", "A40109/9.1", r2m(this,"calculateAttributeA40109_9_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "7", "A50505/4",   r2m(this,"calculateAttributeA50505_4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "8", "A50505/6.1", r2m(this,"calculateAttributeA50505_6_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "9", "A50507/4",   r2m(this,"calculateAttributeA50507_4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("10", "A50507/6.2", r2m(this,"calculateAttributeA50507_6_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("11", "A50319/17",  r2m(this,"calculateAttributeA50319_17"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("12", "A50719/17",  r2m(this,"calculateAttributeA50719_17"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("13", "A60206/6.3", r2m(this,"calculateAttributeA60206_6_3"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("14", "A/3.2",      r2m(this,"calculateAttributeA_3_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("15", "A/5.2",      r2m(this,"calculateAttributeA_5_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("16", "A/5.3",      r2m(this,"calculateAttributeAsRestOnPrimaryAccount"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("17", "A/6.4",      r2m(this,"calculateAttributeA_6_4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("18", "A/9.2",      r2m(this,"calculateAttributeA_9_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("19", "A/9.3",      r2m(this,"calculateAttributeA_9_3"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("20", "A/12",       r2m(this,"calculateAttributeA_12"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("21", "A/13.1",     r2m(this,"calculateAttributeA_13_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("22", "A/13.2",     r2m(this,"calculateAttributeA_13_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("23", "A/14.1",     r2m(this,"calculateAttributeAsRestOnPrimaryAccount"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("24", "A/14.2",     r2m(this,"calculateAttributeAsRestOnPrimaryAccount"));

        m_calculateDataArray[m_calculateDataArray.size] = calculateData("25", "S12406/1.2",   r2m(this,"calculateAttributeS12406_1_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("26", "S131/6",       r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("27", "S131/7",       r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("28", "S15101/6",     r2m(this,"calculateAttributeS15101_6"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("29", "S152/6",       r2m(this,"calculateAttributeS152_6"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("30", "S152/7",       r2m(this,"calculateAttributeS152_7"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("31", "S152/8",       r2m(this,"calculateAttributeS152_8"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("32", "S16203/1.2",   r2m(this,"calculateAttributeS16203_1_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("34", "S16305/4.1",   r2m(this,"calculateAttributeS16305_4_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("35", "S16305/4.2",   r2m(this,"calculateAttributeS16305_4_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("33", "S16305/4",     r2m(this,"calculateAttributeS16305_4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("36", "S16305/14",    r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("37", "S16305/15",    r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("38", "S17101/1.1",   r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("39", "S17201/1.1",   r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("40", "S231/6",       r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("41", "S231/7",       r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("42", "S24101/6",     r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("43", "S242/6",       r2m(this,"calculateAttributeS242_6"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("44", "S242/7",       r2m(this,"calculateAttributeS242_7"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("45", "S242/8",       r2m(this,"calculateAttributeS242_8"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("47", "S25302/4.1",   r2m(this,"calculateAttributeS25302_4_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("48", "S25302/4.2",   r2m(this,"calculateAttributeS25302_4_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("46", "S25302/4",     r2m(this,"calculateAttributeS25302_4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("49", "S25302/14",    r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("50", "S25302/15",    r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("51", "S27101/2.1",   r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("52", "S27201/2.1",   r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));

        m_calculateDataArray[m_calculateDataArray.size] = calculateData("53", "5101", r2m(this,"calculateAttribute4301OR5101"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("54", "6101", r2m(this,"calculateAttribute6101"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("55", "6102", r2m(this,"calculateAttribute6102"));

        m_calculateDataArray[m_calculateDataArray.size] = calculateData("1", "D/0",    r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("2", "D/1",    r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("3", "D/2",    r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("4", "D/3",    r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("5", "D/5",    r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("6", "D/7",    r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("7", "D/9",    r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("8", "D/10",   r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("9", "D/11",   r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("10", "D/12",  r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("11", "D/13",  r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("12", "D/14",  r2m(this,"calculateAttributeIsOrgansOfGovernment"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("13", "D/15",  r2m(this,"calculateAttributeD15"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("14", "D/16",  r2m(this,"calculateAttributeIsBankResident"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("15", "D/17",  r2m(this,"calculateAttributeD17"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("16", "D/18",  r2m(this,"calculateAttributeNonResident"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("17", "D/19",  r2m(this,"calculateAttributeIsCentralBank"));

        m_calculateDataArray[m_calculateDataArray.size] = calculateData("18", "IL/1",  r2m(this,"calculateAttributeIL1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("19", "IL/2",  r2m(this,"calculateAttributeNonResident"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("20", "IL/3",  r2m(this,"calculateAttributeIsCentralBank"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("21", "IL/4",  r2m(this,"calculateAttributeIsBankResident"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("22", "IL/5",  r2m(this,"calculateAttributeIsFinanceMinistry"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("23", "IL/6",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL6"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("24", "IL/7",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL7_IA4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("25", "IL/8",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL8_IA5"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("26", "IL/9",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL9_IA6"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("27", "IL/10", r2m(this,"calculateAttributeHasAssignedPartyCategoryIL10_IA7"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("28", "IL/11", r2m(this,"calculateAttributeHasAssignedPartyCategoryIL11_IA8"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("29", "IL/12", r2m(this,"calculateAttributeIsEmployer"));

        m_calculateDataArray[m_calculateDataArray.size] = calculateData("30", "IA/1",  r2m(this,"calculateAttributeNonResident"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("31", "IA/2",  r2m(this,"calculateAttributeIsCentralBank"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("32", "IA/3",  r2m(this,"calculateAttributeIsBankResident"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("33", "IA/4",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL7_IA4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("34", "IA/5",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL8_IA5"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("35", "IA/6",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL9_IA6"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("36", "IA/7",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL10_IA7"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("37", "IA/8",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL11_IA8"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("38", "IA/9",  r2m(this,"calculateAttributeIsEmployer"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("39", "IA/10", r2m(this,"calculateAttributeIA10"));
    end;
end;

class (TCalculationController2627) TCalculationController2742()
    initTCalculationController2627();

    macro calculateAttributeA_9_3(number, attribute)
        var data = m_dataSource.dataGkboReserves();

        m_protocol.printReportLineNumber(number + " остатки");
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB))
                                                +
                                                data.getFilter().hasAssignedAccountCategory("'П/Д'", RCB_OBJGROUP_ACTIVEKIND)
                                                ),
                            BOCB
                        );

        m_protocol.printReportLineNumber(number + " резервы");
        attribute.addValue(-data.getRealRvp(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB))
                                            +
                                            data.getFilter().hasAssignedAccountCategory("'П/Д'", RCB_OBJGROUP_ACTIVEKIND)
                                            ),
                            BOCB
                        );
    end;
end;

class (TCalculationController2742) TCalculationController2926()
    initTCalculationController2742();

    macro calculateAttributeA_3_3(number, attribute)
        var data = m_dataSource.dataGkboReserves();

        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB))
                                                +
                                                data.getFilter().hasAssignedAccountCategory("'ТИКО'", RCB_OBJ_ACCOUNT_GROUP_KIND)
                                                ), BOCB);
    end;

    macro calculateAttributeA_3_4(number, attribute)
        var data = m_dataSource.dataGkboReserves();

        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB))), BOCB);
    end;

    macro calculateAttributeA_5_2(number, attribute)
        var data = m_dataSource.dataLoansCredit();
        m_protocol.printReportLineNumber(number+".1");
        attribute.setValue(data.getRvpsSum(data.getFilter().isSatisfiesAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number+".1", BOLoans))
                                            +
                                            data.getFilter().hasType(LO_CREDIT)
                                        ), BOLoans);

        m_protocol.printReportLineNumber(number+" гарантия");
        attribute.addValue(data.getRvpsSum(data.getFilter().hasType(LO_GUARANTEE)), BOLoans);

        m_protocol.printReportLineNumber(number+".2");
        attribute.addValue(data.getBadRvpsSum(data.getFilter().isSatisfiesAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number+".2", BOLoans))
                                                +
                                                data.getFilter().hasType(LO_CREDIT, LO_KARTA, LO_OVERDRAFT)
                                            ), BOLoans);


        data = m_dataSource.dataGkboReserves();
        m_protocol.printReportLineNumber(number+".3");
        attribute.setValue(data.getRealRvps(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number+".3", BOCB))
                                            +
                                            data.getFilter().hasReserveKind(2)
                                            ), BOCB);
        m_protocol.printReportLineNumber(number+".4");
        attribute.addValue(data.getRealRvps(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number+".4", BOCB))
                                            +
                                            data.getFilter().hasAssignedAccountCategory("'В'", RCB_OBJGROUP_ACTIVEKIND)
                                            ), BOCB);
        attribute.addValue(data.getRealRvp(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number+".4", BOCB))
                                            +
                                            data.getFilter().hasAssignedAccountCategory("'П/Д'", RCB_OBJGROUP_ACTIVEKIND)
                                            ), BOCB);
        m_protocol.printReportLineNumber(number+".5");
        attribute.addValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number+".5", BOCB))
                                                +
                                                data.getFilter().hasAccountingCategory("'Резерв, вексель'")
                                                ), BOCB);
    end;

    private macro initAttributes()
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "1", "A102/16",    r2m(this,"calculateAttributeAsRestOnPrimaryAccount"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "2", "A20321/3.1", r2m(this,"calculateAttributeA20321_3_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "3", "A30126/3.1", r2m(this,"calculateAttributeA30126_3_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "4", "A30226/3.1", r2m(this,"calculateAttributeA30226_3_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "5", "A40109/5.1", r2m(this,"calculateAttributeA40109_5_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "6", "A40109/9.1", r2m(this,"calculateAttributeA40109_9_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "7", "A50505/4",   r2m(this,"calculateAttributeA50505_4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "8", "A50505/6.1", r2m(this,"calculateAttributeA50505_6_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "9", "A50507/4",   r2m(this,"calculateAttributeA50507_4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("10", "A50507/6.2", r2m(this,"calculateAttributeA50507_6_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("11", "A50319/17",  r2m(this,"calculateAttributeA50319_17"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("12", "A50719/17",  r2m(this,"calculateAttributeA50719_17"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("13", "A60206/6.3", r2m(this,"calculateAttributeA60206_6_3"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("14", "A/3.2",      r2m(this,"calculateAttributeA_3_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("15", "A/3.3",      r2m(this,"calculateAttributeA_3_3"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("16", "A/3.4",      r2m(this,"calculateAttributeA_3_4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("17", "A/5.2",      r2m(this,"calculateAttributeA_5_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("18", "A/5.3",      r2m(this,"calculateAttributeAsRestOnPrimaryAccount"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("19", "A/6.4",      r2m(this,"calculateAttributeA_6_4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("20", "A/9.2",      r2m(this,"calculateAttributeA_9_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("21", "A/9.3",      r2m(this,"calculateAttributeA_9_3"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("22", "A/12",       r2m(this,"calculateAttributeA_12"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("23", "A/13.1",     r2m(this,"calculateAttributeA_13_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("24", "A/13.2",     r2m(this,"calculateAttributeA_13_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("25", "A/14.1",     r2m(this,"calculateAttributeAsRestOnPrimaryAccount"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("26", "A/14.2",     r2m(this,"calculateAttributeAsRestOnPrimaryAccount"));

        m_calculateDataArray[m_calculateDataArray.size] = calculateData("27", "S12406/1.2",   r2m(this,"calculateAttributeS12406_1_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("28", "S131/6",       r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("29", "S131/7",       r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("30", "S15101/6",     r2m(this,"calculateAttributeS15101_6"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("31", "S152/6",       r2m(this,"calculateAttributeS152_6"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("32", "S152/7",       r2m(this,"calculateAttributeS152_7"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("33", "S152/8",       r2m(this,"calculateAttributeS152_8"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("34", "S16203/1.2",   r2m(this,"calculateAttributeS16203_1_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("36", "S16305/4.1",   r2m(this,"calculateAttributeS16305_4_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("37", "S16305/4.2",   r2m(this,"calculateAttributeS16305_4_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("35", "S16305/4",     r2m(this,"calculateAttributeS16305_4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("38", "S16305/14",    r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("39", "S16305/15",    r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("40", "S17101/1.1",   r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("41", "S17201/1.1",   r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("42", "S231/6",       r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("43", "S231/7",       r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("44", "S24101/6",     r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("45", "S242/6",       r2m(this,"calculateAttributeS242_6"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("46", "S242/7",       r2m(this,"calculateAttributeS242_7"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("47", "S242/8",       r2m(this,"calculateAttributeS242_8"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("49", "S25302/4.1",   r2m(this,"calculateAttributeS25302_4_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("50", "S25302/4.2",   r2m(this,"calculateAttributeS25302_4_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("48", "S25302/4",     r2m(this,"calculateAttributeS25302_4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("51", "S25302/14",    r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("52", "S25302/15",    r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("53", "S27101/2.1",   r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("54", "S27201/2.1",   r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));

        m_calculateDataArray[m_calculateDataArray.size] = calculateData("55", "5101", r2m(this,"calculateAttribute4301OR5101"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("56", "6101", r2m(this,"calculateAttribute6101"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("57", "6102", r2m(this,"calculateAttribute6102"));

        m_calculateDataArray[m_calculateDataArray.size] = calculateData("1", "D/0",    r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("2", "D/1",    r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("3", "D/2",    r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("4", "D/3",    r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("5", "D/5",    r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("6", "D/7",    r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("7", "D/9",    r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("8", "D/10",   r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("9", "D/11",   r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("10", "D/12",  r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("11", "D/13",  r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("12", "D/14",  r2m(this,"calculateAttributeIsOrgansOfGovernment"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("13", "D/15",  r2m(this,"calculateAttributeD15"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("14", "D/16",  r2m(this,"calculateAttributeIsBankResident"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("15", "D/17",  r2m(this,"calculateAttributeD17"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("16", "D/18",  r2m(this,"calculateAttributeNonResident"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("17", "D/19",  r2m(this,"calculateAttributeIsCentralBank"));

        m_calculateDataArray[m_calculateDataArray.size] = calculateData("18", "IL/1",  r2m(this,"calculateAttributeIL1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("19", "IL/2",  r2m(this,"calculateAttributeNonResident"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("20", "IL/3",  r2m(this,"calculateAttributeIsCentralBank"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("21", "IL/4",  r2m(this,"calculateAttributeIsBankResident"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("22", "IL/5",  r2m(this,"calculateAttributeIsFinanceMinistry"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("23", "IL/6",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL6"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("24", "IL/7",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL7_IA4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("25", "IL/8",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL8_IA5"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("26", "IL/9",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL9_IA6"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("27", "IL/10", r2m(this,"calculateAttributeHasAssignedPartyCategoryIL10_IA7"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("28", "IL/11", r2m(this,"calculateAttributeHasAssignedPartyCategoryIL11_IA8"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("29", "IL/12", r2m(this,"calculateAttributeIsEmployer"));

        m_calculateDataArray[m_calculateDataArray.size] = calculateData("30", "IA/1",  r2m(this,"calculateAttributeNonResident"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("31", "IA/2",  r2m(this,"calculateAttributeIsCentralBank"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("32", "IA/3",  r2m(this,"calculateAttributeIsBankResident"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("33", "IA/4",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL7_IA4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("34", "IA/5",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL8_IA5"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("35", "IA/6",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL9_IA6"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("36", "IA/7",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL10_IA7"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("37", "IA/8",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL11_IA8"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("38", "IA/9",  r2m(this,"calculateAttributeIsEmployer"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("39", "IA/10", r2m(this,"calculateAttributeIA10"));
    end;
end;

class (TCalculationController2926) TCalculationController3006()
    initTCalculationController2926();

    macro calculateAttributeAsRestOnPrimaryAccount(number, attribute)
        var data = m_dataSource.dataGkboReserves();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 1))
                                                +
                                                data.getFilter().hasAssignedAccountCategory("'"+attribute.getName()+"'")
                                                ), BOCB);
    end;

    macro calculateAttributeA20321_3_1(number, attribute)
        var data = m_dataSource.dataGkboReserves();
        attribute.setValue(data.getRealRvp(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 1))), BOCB);
    end;

    macro calculateAttributeA30126_3_1(number, attribute)
        var data = m_dataSource.dataGkboReserves();
        attribute.setValue(data.getRealRvp(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 1))), BOCB);
    end;

    macro calculateAttributeA30226_3_1(number, attribute)
        var data = m_dataSource.dataGkboReserves();
        attribute.setValue(data.getRealRvp(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 1))), BOCB);
    end;

    macro calculateAttributeА30215_2(number, attribute)
        var data = m_dataSource.dataGkboReserves();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 1))
                                                +
                                                data.getFilter().isCentralBank()
                                                ), BOCB);
    end;

    macro calculateAttributeA40109_5_1(number, attribute)
        var data = m_dataSource.dataGkboReserves();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 1))
                                                +
                                                data.getFilter().hasAssignedAccountCategory("'A40109/5.1'")
                                                ), BOCB);
    end;

    macro calculateAttributeA40109_9_1(number, attribute)
        var data = m_dataSource.dataGkboReserves();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 1))
                                                +
                                                data.getFilter().hasAssignedAccountCategory("'A40109/9.1'")
                                                ), BOCB);
    end;

    macro calculateAttributeA50505_4(number, attribute)
        var data = m_dataSource.dataGkboReserves();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 1))
                                                +
                                                data.getFilter().hasAssignedAccountCategory("'СС'")
                                                ), BOCB);
    end;

    macro calculateAttributeA50505_6_1(number, attribute)
        var data = m_dataSource.dataGkboReserves();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 1))
                                                +
                                                data.getFilter().hasAssignedAccountCategory("'ПР'")
                                                ), BOCB);
    end;

    macro calculateAttributeA50507_4(number, attribute)
        var data = m_dataSource.dataGkboReserves();
        attribute.setValue(data.getRealRvp(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 1))
                                                +
                                                data.getFilter().hasAssignedAccountCategory("'СС'")
                                                ), BOCB);
    end;

    macro calculateAttributeA50507_6_2(number, attribute)
        var data = m_dataSource.dataGkboReserves();
        attribute.setValue(data.getRealRvp(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 1))
                                            +
                                            data.getFilter().hasAssignedAccountCategory("'ПР'")
                                            ), BOCB);
    end;

    macro calculateAttributeA50319_17(number, attribute)
        var data = m_dataSource.dataGkboReserves();
        attribute.setValue(data.getRealRofsh(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 1))), BOCB);
    end;

    macro calculateAttributeA50719_17(number, attribute)
        var data = m_dataSource.dataGkboReserves();
        attribute.setValue(data.getRealRofsh(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 1))), BOCB);
    end;

    macro calculateAttributeA60206_6_3(number, attribute)
        var data = m_dataSource.dataGkboReserves();
        attribute.setValue(data.getRealRvp(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 1))
                                                    +
                                                    data.getFilter().isNotOurBank()
                                                    +
                                                    data.getFilter().hasAssignedPartyCategory("'ЗО','ДО'", RCB_OBJGROUP_PT_CHARACTER)
                                                    +
                                                    data.getFilter().hasAssignedPartyCategory("'60','47','67'", RCB_OBJGROUP_PT_OKOPF)
                                                ), BOCB);
    end;

    macro calculateAttributeA_3_2(number, attribute)
        var data = m_dataSource.dataGkboReserves();
        attribute.setValue(data.getAccountRest(data.getFilter().hasDocuments(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 1), m_tuneTable.getCorrespondentAccountMasks(attribute.getName(), number, BOCB, 1), RCB_ACSDCL_DEBET)), BOCB);
    end;

    macro calculateAttributeA_3_3(number, attribute)
        var data = m_dataSource.dataGkboReserves();

        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 1))
                                                +
                                                data.getFilter().hasAssignedAccountCategory("'ТИКО'", RCB_OBJ_ACCOUNT_GROUP_KIND)
                                                ), BOCB);
    end;

    macro calculateAttributeA_3_4(number, attribute)
        var data = m_dataSource.dataGkboReserves();

        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 1))), BOCB);
    end;

    macro calculateAttributeA_5_2(number, attribute)
        var data = m_dataSource.dataLoansCredit();
        m_protocol.printReportLineNumber(number+".1");
        attribute.setValue(data.getRvpsSum(data.getFilter().isSatisfiesAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number+".1", BOLoans, 1))
                                            +
                                            data.getFilter().hasType(LO_CREDIT)
                                        ), BOLoans);

        m_protocol.printReportLineNumber(number+" гарантия");
        attribute.addValue(data.getRvpsSum(data.getFilter().hasType(LO_GUARANTEE)), BOLoans);

        m_protocol.printReportLineNumber(number+".2");
        attribute.addValue(data.getBadRvpsSum(data.getFilter().isSatisfiesAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number+".2", BOLoans, 1))
                                                +
                                                data.getFilter().hasType(LO_CREDIT, LO_KARTA, LO_OVERDRAFT)
                                            ), BOLoans);


        data = m_dataSource.dataGkboReserves();
        m_protocol.printReportLineNumber(number+".3");
        attribute.setValue(data.getRealRvps(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number+".3", BOCB, 1))
                                            +
                                            data.getFilter().hasReserveKind(2)
                                            ), BOCB);
        m_protocol.printReportLineNumber(number+".4");
        attribute.addValue(data.getRealRvps(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number+".4", BOCB, 1))
                                            +
                                            data.getFilter().hasAssignedAccountCategory("'В'", RCB_OBJGROUP_ACTIVEKIND)
                                            ), BOCB);
        attribute.addValue(data.getRealRvp(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number+".4", BOCB, 1))
                                            +
                                            data.getFilter().hasAssignedAccountCategory("'П/Д'", RCB_OBJGROUP_ACTIVEKIND)
                                            ), BOCB);
        m_protocol.printReportLineNumber(number+".5");
        attribute.addValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number+".5", BOCB, 1))
                                                +
                                                data.getFilter().hasAccountingCategory("'Резерв, вексель'")
                                                ), BOCB);
    end;

    macro calculateAttributeА_5_3(number, attribute)
        var data = m_dataSource.dataGkboReserves();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number + ".1", BOCB, 1))
                                                +
                                                data.getFilter().hasAssignedAccountCategory("'"+attribute.getName()+"'")
                                                ), BOCB);
        attribute.addValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number + ".2", BOCB, 1))), BOCB);
        attribute.subValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getCorrespondentAccountMasks(attribute.getName(), number + ".2", BOCB, 1))), BOCB);
    end;

    macro calculateAttributeA_6_4(number, attribute)
        var data = m_dataSource.dataGkboReserves();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 1))
                                                +
                                                data.getFilter().isNotOurBank()
                                                +
                                                data.getFilter().hasAssignedPartyCategory("'ЗО','ДО'", RCB_OBJGROUP_PT_CHARACTER)
                                                +
                                                data.getFilter().hasAssignedPartyCategory("'60','47','67'", RCB_OBJGROUP_PT_OKOPF)
                                                ), BOCB);
    end;

    macro calculateAttributeA_9_2(number, attribute)
        var data = m_dataSource.dataGkboReserves();
        m_protocol.printReportLineNumber(number+".1");
        attribute.setValue(data.getRealRvp(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number+".1", BOCB, 1))), BOCB);

        m_protocol.printReportLineNumber(number+".1 репо");
        attribute.addValue(data.getAccountRest(data.getFilter().isRepoReserveAccount()
                                                ), BOCB);


        data = m_dataSource.dataLoansCredit();
        m_protocol.printReportLineNumber(number+".2");
        attribute.setValue(data.getRvpSum(data.getFilter().notIncludeInCase()), BOLoans);

        data = m_dataSource.dataLoansCase();
        m_protocol.printReportLineNumber(number+".2 портфель");
        attribute.addValue(data.getRvpSum(null), BOLoans);
    end;

    macro calculateAttributeA_9_3(number, attribute)
        var data = m_dataSource.dataGkboReserves();

        m_protocol.printReportLineNumber(number + " остатки");
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 1))
                                                +
                                                data.getFilter().hasAssignedAccountCategory("'П/Д'", RCB_OBJGROUP_ACTIVEKIND)
                                                ),
                            BOCB
                        );

        m_protocol.printReportLineNumber(number + " резервы");
        attribute.addValue(-data.getRealRvp(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 1))
                                            +
                                            data.getFilter().hasAssignedAccountCategory("'П/Д'", RCB_OBJGROUP_ACTIVEKIND)
                                            ),
                            BOCB
                        );
    end;

    macro calculateAttributeA_12(number, attribute)
        var data = m_dataSource.dataGkboReserves();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 1))
                                                +
                                                data.getFilter().isBank()
                                                ), BOCB);
    end;

    macro calculateAttributeA_13_1(number, attribute)
        var data = m_dataSource.dataGkboReserves();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 1))
                                                +
                                                data.getFilter().isPhysicalPerson()
                                                ), BOCB);
    end;

    macro calculateAttributeA_13_2(number, attribute)
        var data = m_dataSource.dataGkboReserves();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 1))
                                            +
                                            data.getFilter().hasAssignedAccountCategory("'S'")
                                            ), BOCB);
    end;

    macro calculateAttributeS15101_6(number, attribute)
        var data = m_dataSource.dataGkboDocuments();
        var value = data.getDocumentsSum(data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_DEBET,
                                                                                                m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2))
                                                +
                                                data.getFilter().hasAccountSymbol(RCB_ACSDCL_CREDIT,
                                                                                m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                                m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB)),
                                                /*вычитаем ошибочные проводки*/
                                                data.getFilter().hasAccountSymbol(RCB_ACSDCL_DEBET,
                                                                                    m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                                    m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB))
                                                +
                                                data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_CREDIT,
                                                                                                m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2)),
                                                true,
                                                /*вычитаем документы по урегулированию парных счетов*/
                                                data.getFilter().hasAccountSymbol(RCB_ACSDCL_DEBET,
                                                                                    m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                                    m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB))
                                                +
                                                data.getFilter().hasAccountSymbol(RCB_ACSDCL_CREDIT,
                                                                                m_tuneTable.getAccountInOutCome("S24101/6", "42", BOCB),
                                                                                m_tuneTable.getSumbolOpu("S24101/6", "42", BOCB)),
                                                true
                                                ),
                                                BOCB;
        if (value < 0)
            value = 0;
        end;
        attribute.setValue(value);
    end;

    macro calculateAttributeS152_6(number, attribute)
        var data = m_dataSource.dataGkboDocuments();
        var value = data.getDocumentsSum(data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_DEBET, m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2))
                                                +
                                                data.getFilter().hasAccountSymbol(RCB_ACSDCL_CREDIT,
                                                                                m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                                m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB)),
                                                null,
                                                /*вычитаем ошибочные проводки*/
                                                data.getFilter().hasAccountSymbol(RCB_ACSDCL_DEBET,
                                                                                    m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                                    m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB))
                                                +
                                                data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_CREDIT, m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2)),
                                                true
                                        );

        if (value < 0)
            value = 0;
        end;
        attribute.setValue(value);
    end;

    macro calculateAttributeS152_7(number, attribute)
        var data = m_dataSource.dataGkboDocuments();
        var value = data.getDocumentsSum(data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_DEBET, m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2))
                                                +
                                                data.getFilter().hasAccountSymbol(RCB_ACSDCL_CREDIT,
                                                                                m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                                m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB)),
                                                null,
                                                /*вычитаем ошибочные проводки*/
                                                data.getFilter().hasAccountSymbol(RCB_ACSDCL_DEBET,
                                                                                    m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                                    m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB))
                                                +
                                                data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_CREDIT, m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2)),
                                                true
                                                ),
                                                BOCB;
        if (value < 0)
            value = 0;
        end;
        attribute.setValue(value);
    end;

    macro calculateAttributeS152_8(number, attribute)
        var data = m_dataSource.dataGkboDocuments();
        var value = data.getDocumentsSum(data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_DEBET, m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2))
                                                +
                                                data.getFilter().hasAccountSymbol(RCB_ACSDCL_CREDIT,
                                                                                m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                                m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB)),
                                                null,
                                                /*вычитаем ошибочные проводки*/
                                                data.getFilter().hasAccountSymbol(RCB_ACSDCL_DEBET,
                                                                                    m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                                    m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB))
                                                +
                                                data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_CREDIT, m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2)),
                                                true
                                        );
        if (value < 0)
            value = 0;
        end;
        attribute.setValue(value);
    end;

    macro calculateAttributeS16305_4(number, attribute)
        var subAttribute = m_report.getPart("2").getAttribute("S16305/4.1");

        var data = m_dataSource.dataLoansRegChangeHistory();
        m_protocol.printReportLineNumber(number+".1");
        attribute.setValue(data.getExpenseSum(m_tuneTable.getRegisterNumber(attribute.getName(), number+".1", BOLoans)), BOLoans);

        m_protocol.printAddDataAttribute(subAttribute.getName(), subAttribute.getExactValue(BOLoans), BOLoans);
        attribute.addValue(subAttribute.getExactValue(BOLoans), BOLoans);

        data = m_dataSource.dataGkboDocuments();
        m_protocol.printReportLineNumber(number);
        attribute.setValue(data.getDocumentsRvpSum(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number+".2", BOCB, 2)),
                                                    data.getFilter().isSatisfiesToSubCaseClassifiersMasks(m_tuneTable.getClassifierRvp(attribute.getName(), number+".2", BOCB)),
                                                    ternary(m_tuneTable.getRegisterNumber(attribute.getName(), number+".1", BOLoans) == "EMPTY_MASKS",
                                                            data.getFilter().isLoansReserveAccount(m_tuneTable.getReserveAccountMasks(attribute.getName(), number+".1", BOCB)),
                                                            null),
                                                    data.getFilter().getDocumentFilter(true, m_tuneTable.getAccountInOutCome(attribute.getName(), number+".2", BOCB), m_tuneTable.getSumbolOpu(attribute.getName(), number+".2", BOCB))
                                                ), BOCB);
        m_protocol.printAddDataAttribute(subAttribute.getName(), subAttribute.getExactValue(BOCB), BOCB);
        attribute.addValue(subAttribute.getExactValue(BOCB), BOCB);
    end;

    macro calculateAttributeS16305_4_2(number, attribute)
        var data = m_dataSource.dataGkboDocuments();
        attribute.setValue(data.getDocumentsRvpSum(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2)) + data.getFilter().hasAssignedAccountCategory("'П/Д'", RCB_OBJGROUP_ACTIVEKIND),
                                                    data.getFilter().isSatisfiesToSubCaseClassifiersMasks(m_tuneTable.getClassifierRvp(attribute.getName(), number, BOCB)),
                                                    data.getFilter().isSecuritiesReserveAccount(m_tuneTable.getReserveAccountMasks(attribute.getName(), number, BOCB)),
                                                    data.getFilter().getDocumentFilter(true, m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB), m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB))
                                                ), BOCB);
    end;

    macro calculateAttributeS242_6(number, attribute)
        var data = m_dataSource.dataGkboDocuments();
        attribute.setValue(data.getDocumentsSum(data.getFilter().hasAccountSymbol(RCB_ACSDCL_DEBET,
                                                                                    m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                                    m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB))
                                                +
                                                data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_CREDIT, m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2)),
                                                null,
                                                /*вычитаем ошибочные проводки*/
                                                data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_DEBET, m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2))
                                                +
                                                data.getFilter().hasAccountSymbol(RCB_ACSDCL_CREDIT,
                                                                                m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                                m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB)),
                                                true
                                                ),
                                                BOCB);
    end;

    macro calculateAttributeS242_7(number, attribute)
        var data = m_dataSource.dataGkboDocuments();
        attribute.setValue(data.getDocumentsSum(data.getFilter().hasAccountSymbol(RCB_ACSDCL_DEBET,
                                                                                    m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                                    m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB))
                                                +
                                                data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_CREDIT, m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2)),
                                                null,
                                                /*вычитаем ошибочные проводки*/
                                                data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_DEBET, m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2))
                                                +
                                                data.getFilter().hasAccountSymbol(RCB_ACSDCL_CREDIT,
                                                                                m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                                m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB)),
                                                true
                                                ),
                                                BOCB);
    end;

    macro calculateAttributeS242_8(number, attribute)
        var data = m_dataSource.dataGkboDocuments();
        attribute.setValue(data.getDocumentsSum(data.getFilter().hasAccountSymbol(RCB_ACSDCL_DEBET,
                                                                                    m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                                    m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB))
                                                +
                                                data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_CREDIT, m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2)),
                                                null,
                                                data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_DEBET, m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2))
                                                +
                                                data.getFilter().hasAccountSymbol(RCB_ACSDCL_CREDIT,
                                                                                m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                                m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB)),
                                                true
                                                ),
                                                BOCB);
    end;

    macro calculateAttributeS25302_4(number, attribute)
        var subAttribute = m_report.getPart("2").getAttribute("S25302/4.1");

        var data = m_dataSource.dataLoansRegChangeHistory();
        m_protocol.printReportLineNumber(number+".1");
        attribute.setValue(data.getReceiptSum(m_tuneTable.getRegisterNumber(attribute.getName(), number+".1", BOLoans)), BOLoans);

        m_protocol.printAddDataAttribute(subAttribute.getName(), subAttribute.getExactValue(BOLoans), BOLoans);
        attribute.addValue(subAttribute.getExactValue(BOLoans), BOLoans);

        data = m_dataSource.dataGkboDocuments();
        m_protocol.printReportLineNumber(number+".2");
        attribute.setValue(data.getDocumentsRvpSum(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number+".2", BOCB, 2)),
                                                    data.getFilter().isSatisfiesToSubCaseClassifiersMasks(m_tuneTable.getClassifierRvp(attribute.getName(), number+".2", BOCB)),
                                                    ternary(m_tuneTable.getRegisterNumber(attribute.getName(), number+".1", BOLoans) == "EMPTY_MASKS",
                                                            data.getFilter().isLoansReserveAccount(m_tuneTable.getReserveAccountMasks(attribute.getName(), number+".1", BOCB)),
                                                            null),
                                                    data.getFilter().getDocumentFilter(false, m_tuneTable.getAccountInOutCome(attribute.getName(), number+".2", BOCB), m_tuneTable.getSumbolOpu(attribute.getName(), number+".2", BOCB))
                                                ), BOCB);
        m_protocol.printAddDataAttribute(subAttribute.getName(), subAttribute.getExactValue(BOCB), BOCB);
        attribute.addValue(subAttribute.getExactValue(BOCB), BOCB);
    end;

    macro calculateAttributeS25302_4_2(number, attribute)
        var data = m_dataSource.dataGkboDocuments();
        attribute.setValue(data.getDocumentsRvpSum(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2)) + data.getFilter().hasAssignedAccountCategory("'П/Д'", RCB_OBJGROUP_ACTIVEKIND),
                                                    data.getFilter().isSatisfiesToSubCaseClassifiersMasks(m_tuneTable.getClassifierRvp(attribute.getName(), number, BOCB)),
                                                    data.getFilter().isSecuritiesReserveAccount(m_tuneTable.getReserveAccountMasks(attribute.getName(), number, BOCB)),
                                                    data.getFilter().getDocumentFilter(false, m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB), m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB))
                                                ), BOCB);
    end;

    macro calculateAttribute6101(number, attribute)
        var data = m_dataSource.dataGkboReserves();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 3))
                                                +
                                                data.getFilter().hasNotAssignedAccountCategory("'ТСС'")
                                                ), BOCB);
    end;

    macro calculateAttribute6102(number, attribute)
        var data = m_dataSource.dataGkboReserves();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 3))
                                                +
                                                data.getFilter().hasNotAssignedAccountCategory("'ТСС'")
                                                ), BOCB);
    end;

    macro calculateAttributeAsRestOnPrimaryAccountPart4(number, attribute)
        var data = m_dataSource.dataGkboAccount();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 4))
                                                +
                                                data.getFilter().hasAssignedAccountCategory("'"+attribute.getName()+"'")
                                                ), BOCB);
    end;

    macro calculateAttributeIsOrgansOfGovernment(number, attribute)
        var data = m_dataSource.dataGkboAccount();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 4))
                                                +
                                                data.getFilter().isOrgansOfGovernment()
                                                ), BOCB);
    end;

    macro calculateAttributeD15(number, attribute)
        var data = m_dataSource.dataGkboAccount();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 4))
                                                +
                                                data.getFilter().isOrgansOfLocalGovernment()
                                                ), BOCB);
    end;

    macro calculateAttributeIsBankResident(number, attribute)
        var data;

        if (global.isCalculatedMmData() and ((attribute.getname() == "IL/4") or (attribute.getname() == "IA/3")))
            data = m_dataSource.dataMbkDeals();
            attribute.setValue(data.getAccountRest(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 4),
                                                    data.getFilter().isResident()
                                                    +
                                                    data.getFilter().isBank()
                                                    ), BOCB);
        else
            data = m_dataSource.dataGkboAccount();
            attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 4))
                                                    +
                                                    data.getFilter().isResident()
                                                    +
                                                    data.getFilter().isBank()
                                                    ), BOCB);
        end;
    end;

    macro calculateAttributeD17(number, attribute)
        var data = m_dataSource.dataGkboAccount();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 4))
                                                +
                                                data.getFilter().isResident()
                                                +
                                                data.getFilter().isJuridicalPerson()
                                                ), BOCB);
    end;

    macro calculateAttributeNonResident(number, attribute)
        var data = m_dataSource.dataGkboAccount();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 4))
                                                +
                                                data.getFilter().isNonResident()
                                                ), BOCB);
    end;

    macro calculateAttributeIsCentralBank(number, attribute)
        var data;

        if (global.isCalculatedMmData() and ((attribute.getname() == "IL/3") or (attribute.getname() == "IA/2")))
            data = m_dataSource.dataMbkDeals();
            attribute.setValue(data.getAccountRest(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 4),
                                                    data.getFilter().isCentralBank()
                                                    ), BOCB);
        else
            data = m_dataSource.dataGkboAccount();
            attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 4))
                                                    +
                                                    data.getFilter().isCentralBank()
                                                    ), BOCB);
        end;
    end;

    macro calculateAttributeIL1(number, attribute)
        var data = m_dataSource.dataGkboAccount();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 4))
                                                +
                                                data.getFilter().isPhysicalPerson()
                                                +
                                                data.getFilter().isNonResident()
                                                ), BOCB);
    end;

    macro calculateAttributeIsFinanceMinistry(number, attribute)
        var data = m_dataSource.dataGkboAccount();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 4))
                                                +
                                                data.getFilter().isFinanceMinistry()
                                                ), BOCB);
    end;

    macro calculateAttributeHasAssignedPartyCategoryIL6(number, attribute)
        var data = m_dataSource.dataGkboAccount();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 4))
                                                +
                                                data.getFilter().hasAssignedPartyCategory(ECONOMICACTORS_GOV_FOND, RCB_OBJGROUP_PT_ECONOMICACTORS)
                                                ), BOCB);
    end;

    macro calculateAttributeHasAssignedPartyCategoryIL7_IA4(number, attribute)
        var data = m_dataSource.dataGkboAccount();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 4))
                                                +
                                                data.getFilter().hasAssignedPartyCategory(ECONOMICACTORS_FIN_ORG_RF, RCB_OBJGROUP_PT_ECONOMICACTORS)
                                                ), BOCB);
    end;

    macro calculateAttributeHasAssignedPartyCategoryIL8_IA5(number, attribute)
        var data = m_dataSource.dataGkboAccount();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 4))
                                                +
                                                data.getFilter().hasAssignedPartyCategory(ECONOMICACTORS_FOND_RF, RCB_OBJGROUP_PT_ECONOMICACTORS)
                                                ), BOCB);
    end;

    macro calculateAttributeHasAssignedPartyCategoryIL9_IA6(number, attribute)
        var data = m_dataSource.dataGkboAccount();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 4))
                                                +
                                                data.getFilter().hasAssignedPartyCategory(ECONOMICACTORS_FIN_ORG_FED + ", "
                                                                                        + ECONOMICACTORS_FIN_ORG_GOV + ", "
                                                                                        + ECONOMICACTORS_NONGOV_FIN_ORG,
                                                                                        RCB_OBJGROUP_PT_ECONOMICACTORS)
                                                ), BOCB);
    end;

    macro calculateAttributeHasAssignedPartyCategoryIL10_IA7(number, attribute)
        var data = m_dataSource.dataGkboAccount();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 4))
                                                +
                                                data.getFilter().hasAssignedPartyCategory(ECONOMICACTORS_COM_ORG_FED + ", "
                                                                                        + ECONOMICACTORS_NONCOM_ORG_FED + ", "
                                                                                        + ECONOMICACTORS_COM_ORG_GOV + ", "
                                                                                        + ECONOMICACTORS_NONCOM_ORG_GOV,
                                                                                        RCB_OBJGROUP_PT_ECONOMICACTORS)
                                                ), BOCB);
    end;

    macro calculateAttributeHasAssignedPartyCategoryIL11_IA8(number, attribute)
        var data = m_dataSource.dataGkboAccount();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 4))
                                                +
                                                data.getFilter().hasAssignedPartyCategory(ECONOMICACTORS_NONGOV_COM_ORG + ", "
                                                                                        + ECONOMICACTORS_NONGOV_NONCOM,
                                                                                        RCB_OBJGROUP_PT_ECONOMICACTORS)
                                                ), BOCB);
    end;

    macro calculateAttributeIsEmployer(number, attribute)
        var data = m_dataSource.dataGkboAccount();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 4))
                                                +
                                                data.getFilter().isEmployer()
                                                ), BOCB);
    end;

    macro calculateAttributeIA10(number, attribute)
        var data = m_dataSource.dataGkboAccount();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 4))
                                                +
                                                data.getFilter().isPhysicalPerson()
                                                +
                                                data.getFilter().isResident()
                                                ), BOCB);
    end;

    macro calculateAttributeR1(number, attribute)
        var data = m_dataSource.dataGkboAccount();

        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 4))
                                                +
                                                data.getFilter().accountKind("acc.t_kind", "А")
                                                +
                                                data.getFilter().isOrgansOfGovernment()
                                                ), BOCB);

        attribute.subValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 4))
                                                +
                                                data.getFilter().accountKind("acc.t_kind", "П")
                                                +
                                                data.getFilter().isOrgansOfGovernment()
                                                ), BOCB);
    end;

    macro calculateAttributeR2(number, attribute)
        var data = m_dataSource.dataGkboAccount();

        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 4))
                                                +
                                                data.getFilter().accountKind("acc.t_kind", "А")
                                                +
                                                data.getFilter().isOrgansOfLocalGovernment()
                                                ), BOCB);

        attribute.subValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 4))
                                                +
                                                data.getFilter().accountKind("acc.t_kind", "П")
                                                +
                                                data.getFilter().isOrgansOfLocalGovernment()
                                                ), BOCB);
    end;

    macro calculateAttributeR3(number, attribute)
        var data = m_dataSource.dataGkboAccount();

        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 4))
                                                +
                                                data.getFilter().accountKind("acc.t_kind", "А")
                                                +
                                                data.getFilter().isResident()
                                                +
                                                data.getFilter().isBank()
                                                ), BOCB);

        attribute.subValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 4))
                                                +
                                                data.getFilter().accountKind("acc.t_kind", "П")
                                                +
                                                data.getFilter().isResident()
                                                +
                                                data.getFilter().isBank()
                                                ), BOCB);
    end;

    macro calculateAttributeR4(number, attribute)
        var data = m_dataSource.dataGkboAccount();

        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 4))
                                                +
                                                data.getFilter().accountKind("acc.t_kind", "А")
                                                +
                                                data.getFilter().hasRoleOverValuation(RCB_OBJTYPE_ACCOUNT_POSITIVEOVERVALUATION, "50107*, 50208*")
                                                ), BOCB);

        attribute.subValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 4))
                                                +
                                                data.getFilter().accountKind("acc.t_kind", "П")
                                                +
                                                data.getFilter().hasRoleOverValuation(RCB_OBJTYPE_ACCOUNT_NEGATIVEOVERVALUATION, "50107*, 50208*")
                                                ), BOCB);
    end;

    macro calculateAttributeR5(number, attribute)
        var data = m_dataSource.dataGkboAccount();

        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 4))
                                                +
                                                data.getFilter().accountKind("acc.t_kind", "А")
                                                +
                                                data.getFilter().isNonResident()
                                                ), BOCB);

        attribute.subValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 4))
                                                +
                                                data.getFilter().accountKind("acc.t_kind", "П")
                                                +
                                                data.getFilter().isNonResident()
                                                ), BOCB);
    end;

    macro calculateAttributeR6(number, attribute)
        var data = m_dataSource.dataGkboAccount();

        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 4))
                                                +
                                                data.getFilter().accountKind("acc.t_kind", "А")
                                                +
                                                data.getFilter().isCentralBank()
                                                ), BOCB);

        attribute.subValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 4))
                                                +
                                                data.getFilter().accountKind("acc.t_kind", "П")
                                                +
                                                data.getFilter().isCentralBank()
                                                ), BOCB);
    end;

    macro calculateAttributeR7(number, attribute)
        var data = m_dataSource.dataGkboAccount();

        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 4))
                                                +
                                                data.getFilter().accountKind("acc.t_kind", "А")
                                                +
                                                data.getFilter().isResident()
                                                +
                                                data.getFilter().isBank()
                                                ), BOCB);

        attribute.subValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 4))
                                                +
                                                data.getFilter().accountKind("acc.t_kind", "П")
                                                +
                                                data.getFilter().isResident()
                                                +
                                                data.getFilter().isBank()
                                                ), BOCB);
    end;

    macro calculateAttributeR8(number, attribute)
        var data = m_dataSource.dataGkboAccount();

        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 4))
                                                +
                                                data.getFilter().accountKind("acc.t_kind", "А")
                                                +
                                                data.getFilter().isResident()
                                                +
                                                data.getFilter().isNotBank()
                                                ), BOCB);

        attribute.subValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 4))
                                                +
                                                data.getFilter().accountKind("acc.t_kind", "П")
                                                +
                                                data.getFilter().isResident()
                                                +
                                                data.getFilter().isNotBank()
                                                ), BOCB);
    end;

    macro calculateAttributeR9(number, attribute)
        var data = m_dataSource.dataGkboAccount();

        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 4))
                                                +
                                                data.getFilter().accountKind("acc.t_kind", "А")
                                                +
                                                data.getFilter().isNonResident()
                                                ), BOCB);

        attribute.subValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 4))
                                                +
                                                data.getFilter().accountKind("acc.t_kind", "П")
                                                +
                                                data.getFilter().isNonResident()
                                                ), BOCB);
    end;

    private macro initAttributes()
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "1", "A102/16",    r2m(this,"calculateAttributeAsRestOnPrimaryAccount"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "2", "A20321/3.1", r2m(this,"calculateAttributeA20321_3_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "3", "A30126/3.1", r2m(this,"calculateAttributeA30126_3_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "4", "A30226/3.1", r2m(this,"calculateAttributeA30226_3_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "5", "A30215/2",   r2m(this,"calculateAttributeА30215_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "6", "A40109/5.1", r2m(this,"calculateAttributeA40109_5_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "7", "A40109/9.1", r2m(this,"calculateAttributeA40109_9_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "8", "A50505/4",   r2m(this,"calculateAttributeA50505_4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "9", "A50505/6.1", r2m(this,"calculateAttributeA50505_6_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "10","A50507/4",   r2m(this,"calculateAttributeA50507_4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("11", "A50507/6.2", r2m(this,"calculateAttributeA50507_6_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("12", "A50319/17",  r2m(this,"calculateAttributeA50319_17"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("13", "A50719/17",  r2m(this,"calculateAttributeA50719_17"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("14", "A60206/6.3", r2m(this,"calculateAttributeA60206_6_3"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("15", "A/3.2",      r2m(this,"calculateAttributeA_3_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("16", "A/3.3",      r2m(this,"calculateAttributeA_3_3"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("17", "A/3.4",      r2m(this,"calculateAttributeA_3_4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("18", "A/5.2",      r2m(this,"calculateAttributeA_5_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("19", "A/5.3",      r2m(this,"calculateAttributeА_5_3"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("20", "A/6.4",      r2m(this,"calculateAttributeA_6_4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("21", "A/9.2",      r2m(this,"calculateAttributeA_9_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("22", "A/9.3",      r2m(this,"calculateAttributeA_9_3"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("23", "A/12",       r2m(this,"calculateAttributeA_12"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("24", "A/13.1",     r2m(this,"calculateAttributeA_13_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("25", "A/13.2",     r2m(this,"calculateAttributeA_13_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("26", "A/14.1",     r2m(this,"calculateAttributeAsRestOnPrimaryAccount"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("27", "A/14.2",     r2m(this,"calculateAttributeAsRestOnPrimaryAccount"));

        m_calculateDataArray[m_calculateDataArray.size] = calculateData("1",  "S12406/1.2", r2m(this,"calculateAttributeS12406_1_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("2",  "S131/6",     r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("3",  "S131/7",     r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("4",  "S15101/6",   r2m(this,"calculateAttributeS15101_6"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("5",  "S152/6",     r2m(this,"calculateAttributeS152_6"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("6",  "S152/7",     r2m(this,"calculateAttributeS152_7"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("7",  "S152/8",     r2m(this,"calculateAttributeS152_8"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("8",  "S16203/1.2", r2m(this,"calculateAttributeS16203_1_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("9",  "S16305/4",   r2m(this,"calculateAttributeS16305_4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("10", "S16305/4.1", r2m(this,"calculateAttributeS16305_4_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("11", "S16305/4.2", r2m(this,"calculateAttributeS16305_4_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("12", "S16305/14",  r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("13", "S16305/15",  r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("14", "S17101/1.1", r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("15", "S17201/1.1", r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("16", "S231/6",     r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("17", "S231/7",     r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("18", "S24101/6",   r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("19", "S242/6",     r2m(this,"calculateAttributeS242_6"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("20", "S242/7",     r2m(this,"calculateAttributeS242_7"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("21", "S242/8",     r2m(this,"calculateAttributeS242_8"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("22", "S25302/4",   r2m(this,"calculateAttributeS25302_4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("23", "S25302/4.1", r2m(this,"calculateAttributeS25302_4_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("24", "S25302/4.2", r2m(this,"calculateAttributeS25302_4_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("25", "S25302/14",  r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("26", "S25302/15",  r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("27", "S27101/2.1", r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("28", "S27201/2.1", r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));

        m_calculateDataArray[m_calculateDataArray.size] = calculateData("1", "5101", r2m(this,"calculateAttribute4301OR5101"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("2", "6101", r2m(this,"calculateAttribute6101"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("3", "6102", r2m(this,"calculateAttribute6102"));

        m_calculateDataArray[m_calculateDataArray.size] = calculateData("1", "D/0",    r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("2", "D/1",    r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("3", "D/2",    r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("4", "D/3",    r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("5", "D/5",    r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("6", "D/7",    r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("7", "D/9",    r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("8", "D/10",   r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("9", "D/11",   r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("10", "D/12",  r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("11", "D/13",  r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("12", "D/14",  r2m(this,"calculateAttributeIsOrgansOfGovernment"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("13", "D/15",  r2m(this,"calculateAttributeD15"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("14", "D/16",  r2m(this,"calculateAttributeIsBankResident"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("15", "D/17",  r2m(this,"calculateAttributeD17"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("16", "D/18",  r2m(this,"calculateAttributeNonResident"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("17", "D/19",  r2m(this,"calculateAttributeIsCentralBank"));

        m_calculateDataArray[m_calculateDataArray.size] = calculateData("18", "IL/1",  r2m(this,"calculateAttributeIL1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("19", "IL/2",  r2m(this,"calculateAttributeNonResident"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("20", "IL/3",  r2m(this,"calculateAttributeIsCentralBank"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("21", "IL/4",  r2m(this,"calculateAttributeIsBankResident"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("22", "IL/5",  r2m(this,"calculateAttributeIsFinanceMinistry"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("23", "IL/6",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL6"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("24", "IL/7",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL7_IA4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("25", "IL/8",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL8_IA5"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("26", "IL/9",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL9_IA6"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("27", "IL/10", r2m(this,"calculateAttributeHasAssignedPartyCategoryIL10_IA7"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("28", "IL/11", r2m(this,"calculateAttributeHasAssignedPartyCategoryIL11_IA8"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("29", "IL/12", r2m(this,"calculateAttributeIsEmployer"));

        m_calculateDataArray[m_calculateDataArray.size] = calculateData("30", "IA/1",  r2m(this,"calculateAttributeNonResident"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("31", "IA/2",  r2m(this,"calculateAttributeIsCentralBank"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("32", "IA/3",  r2m(this,"calculateAttributeIsBankResident"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("33", "IA/4",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL7_IA4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("34", "IA/5",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL8_IA5"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("35", "IA/6",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL9_IA6"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("36", "IA/7",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL10_IA7"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("37", "IA/8",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL11_IA8"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("38", "IA/9",  r2m(this,"calculateAttributeIsEmployer"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("39", "IA/10", r2m(this,"calculateAttributeIA10"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("40", "R/1",   r2m(this,"calculateAttributeR1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("41", "R/2",   r2m(this,"calculateAttributeR2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("42", "R/3",   r2m(this,"calculateAttributeR3"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("43", "R/4",   r2m(this,"calculateAttributeR4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("44", "R/5",   r2m(this,"calculateAttributeR5"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("45", "R/6",   r2m(this,"calculateAttributeR6"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("46", "R/7",   r2m(this,"calculateAttributeR7"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("47", "R/8",   r2m(this,"calculateAttributeR8"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("48", "R/9",   r2m(this,"calculateAttributeR9"));
    end;
end;

class (TCalculationController3006) TCalculationController3129()
    initTCalculationController3006();

    macro calculateAttribute_A603(number, attribute)
        var data = m_dataSource.dataGkboReserves();

        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 1))
                                                +
                                                data.getFilter().hasAssignedAccountCategory("'Налог на прибыль'")
                                                ), BOCB);
    end;

    macro calculateAttribute_A10610(number, attribute)
        var data = m_dataSource.dataGkboReserves();

        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 1))
                                                +
                                                data.getFilter().hasAssignedAccountCategory("'ОНО по ОС'")
                                                ), BOCB);
    end;

    private macro initAttributes()
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "1", "A102/16",    r2m(this,"calculateAttributeAsRestOnPrimaryAccount"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "2", "A20321/3.1", r2m(this,"calculateAttributeA20321_3_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "3", "A30126/3.1", r2m(this,"calculateAttributeA30126_3_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "4", "A30226/3.1", r2m(this,"calculateAttributeA30226_3_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "5", "A30215/2",   r2m(this,"calculateAttributeА30215_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "6", "A40109/5.1", r2m(this,"calculateAttributeA40109_5_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "7", "A40109/9.1", r2m(this,"calculateAttributeA40109_9_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "8", "A50505/4",   r2m(this,"calculateAttributeA50505_4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "9", "A50505/6.1", r2m(this,"calculateAttributeA50505_6_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "10","A50507/4",   r2m(this,"calculateAttributeA50507_4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("11", "A50507/6.2", r2m(this,"calculateAttributeA50507_6_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("12", "A50319/17",  r2m(this,"calculateAttributeA50319_17"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("13", "A50719/17",  r2m(this,"calculateAttributeA50719_17"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("14", "A60206/6.3", r2m(this,"calculateAttributeA60206_6_3"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("15", "A/3.2",      r2m(this,"calculateAttributeA_3_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("16", "A/3.3",      r2m(this,"calculateAttributeA_3_3"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("17", "A/3.4",      r2m(this,"calculateAttributeA_3_4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("18", "A/5.2",      r2m(this,"calculateAttributeA_5_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("19", "A/5.3",      r2m(this,"calculateAttributeА_5_3"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("20", "A/6.4",      r2m(this,"calculateAttributeA_6_4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("21", "A/9.2",      r2m(this,"calculateAttributeA_9_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("22", "A/9.3",      r2m(this,"calculateAttributeA_9_3"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("23", "A/12",       r2m(this,"calculateAttributeA_12"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("24", "A/13.1",     r2m(this,"calculateAttributeA_13_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("25", "A/13.2",     r2m(this,"calculateAttributeA_13_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("26", "A/14.1",     r2m(this,"calculateAttributeAsRestOnPrimaryAccount"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("27", "A/14.2",     r2m(this,"calculateAttributeAsRestOnPrimaryAccount"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("28", "A60302/8",   r2m(this,"calculateAttribute_A603"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("29", "A60301/16",  r2m(this,"calculateAttribute_A603"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("30", "A10610/28",  r2m(this,"calculateAttribute_A10610"));

        m_calculateDataArray[m_calculateDataArray.size] = calculateData("1", "S12406/1.2",  r2m(this,"calculateAttributeS12406_1_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("2", "S131/6",      r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("3", "S131/7",      r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("4", "S15101/6",    r2m(this,"calculateAttributeS15101_6"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("5", "S152/6",      r2m(this,"calculateAttributeS152_6"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("6", "S152/7",      r2m(this,"calculateAttributeS152_7"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("7", "S152/8",      r2m(this,"calculateAttributeS152_8"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("8", "S16203/1.2",  r2m(this,"calculateAttributeS16203_1_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("9", "S16305/4",   r2m(this,"calculateAttributeS16305_4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("10", "S16305/4.1",  r2m(this,"calculateAttributeS16305_4_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("11", "S16305/4.2", r2m(this,"calculateAttributeS16305_4_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("12", "S16305/14",  r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("13", "S16305/15",  r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("14", "S17101/1.1", r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("15", "S17201/1.1", r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("16", "S231/6",     r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("17", "S231/7",     r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("18", "S24101/6",   r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("19", "S242/6",     r2m(this,"calculateAttributeS242_6"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("20", "S242/7",     r2m(this,"calculateAttributeS242_7"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("21", "S242/8",     r2m(this,"calculateAttributeS242_8"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("22", "S25302/4",   r2m(this,"calculateAttributeS25302_4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("23", "S25302/4.1", r2m(this,"calculateAttributeS25302_4_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("24", "S25302/4.2", r2m(this,"calculateAttributeS25302_4_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("25", "S25302/14",  r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("26", "S25302/15",  r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("27", "S27101/2.1", r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("28", "S27201/2.1", r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));

        m_calculateDataArray[m_calculateDataArray.size] = calculateData("1", "5101", r2m(this,"calculateAttribute4301OR5101"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("2", "6101", r2m(this,"calculateAttribute6101"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("3", "6102", r2m(this,"calculateAttribute6102"));

        m_calculateDataArray[m_calculateDataArray.size] = calculateData("1", "D/0",    r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("2", "D/1",    r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("3", "D/2",    r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("4", "D/3",    r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("5", "D/5",    r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("6", "D/7",    r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("7", "D/9",    r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("8", "D/10",   r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("9", "D/11",   r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("10", "D/12",  r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("11", "D/13",  r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("12", "D/14",  r2m(this,"calculateAttributeIsOrgansOfGovernment"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("13", "D/15",  r2m(this,"calculateAttributeD15"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("14", "D/16",  r2m(this,"calculateAttributeIsBankResident"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("15", "D/17",  r2m(this,"calculateAttributeD17"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("16", "D/18",  r2m(this,"calculateAttributeNonResident"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("17", "D/19",  r2m(this,"calculateAttributeIsCentralBank"));

        m_calculateDataArray[m_calculateDataArray.size] = calculateData("18", "IL/1",  r2m(this,"calculateAttributeIL1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("19", "IL/2",  r2m(this,"calculateAttributeNonResident"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("20", "IL/3",  r2m(this,"calculateAttributeIsCentralBank"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("21", "IL/4",  r2m(this,"calculateAttributeIsBankResident"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("22", "IL/5",  r2m(this,"calculateAttributeIsFinanceMinistry"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("23", "IL/6",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL6"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("24", "IL/7",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL7_IA4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("25", "IL/8",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL8_IA5"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("26", "IL/9",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL9_IA6"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("27", "IL/10", r2m(this,"calculateAttributeHasAssignedPartyCategoryIL10_IA7"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("28", "IL/11", r2m(this,"calculateAttributeHasAssignedPartyCategoryIL11_IA8"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("29", "IL/12", r2m(this,"calculateAttributeIsEmployer"));

        m_calculateDataArray[m_calculateDataArray.size] = calculateData("30", "IA/1",  r2m(this,"calculateAttributeNonResident"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("31", "IA/2",  r2m(this,"calculateAttributeIsCentralBank"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("32", "IA/3",  r2m(this,"calculateAttributeIsBankResident"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("33", "IA/4",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL7_IA4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("34", "IA/5",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL8_IA5"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("35", "IA/6",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL9_IA6"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("36", "IA/7",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL10_IA7"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("37", "IA/8",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL11_IA8"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("38", "IA/9",  r2m(this,"calculateAttributeIsEmployer"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("39", "IA/10", r2m(this,"calculateAttributeIA10"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("40", "R/1",   r2m(this,"calculateAttributeR1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("41", "R/2",   r2m(this,"calculateAttributeR2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("42", "R/3",   r2m(this,"calculateAttributeR3"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("43", "R/4",   r2m(this,"calculateAttributeR4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("44", "R/5",   r2m(this,"calculateAttributeR5"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("45", "R/6",   r2m(this,"calculateAttributeR6"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("46", "R/7",   r2m(this,"calculateAttributeR7"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("47", "R/8",   r2m(this,"calculateAttributeR8"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("48", "R/9",   r2m(this,"calculateAttributeR9"));
    end;

end;

class (TCalculationController3129) TCalculationController3269()
    initTCalculationController3129();

    macro calculateAttributeA20321_3_1(number, attribute)
        var data = m_dataSource.dataGkboReserves();
        attribute.setValue(data.getReserveRvp(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 1))
                                            +
                                            data.getFilter().isReserveAccountForAccountWithKindReserve(RESERVE_KIND_RVP)
                                        ), BOCB);
    end;

    macro calculateAttributeA30126_3_1(number, attribute)
        var data = m_dataSource.dataGkboReserves();
        attribute.setValue(data.getReserveRvp(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 1))
                                            +
                                            data.getFilter().isReserveAccountForAccountWithKindReserve(RESERVE_KIND_RVP)
                                        ), BOCB);
    end;

    macro calculateAttributeA30226_3_1(number, attribute)
        var data = m_dataSource.dataGkboReserves();
        attribute.setValue(data.getReserveRvp(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 1))
                                            +
                                            data.getFilter().isReserveAccountForAccountWithKindReserve(RESERVE_KIND_RVP)
                                        ), BOCB);
    end;

    macro calculateAttributeA60206_6_3(number, attribute)
        var data = m_dataSource.dataGkboReserves();
        attribute.setValue(data.getRealRvp(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 1))
                                                    +
                                                    data.getFilter().isNotOurBank()
                                                    +
                                                    data.getFilter().hasAssignedPartyCategory("'ЗО','ДО'", RCB_OBJGROUP_PT_CHARACTER)
                                                    +
                                            data.getFilter().hasAssignedPartyNotCategory("'1 22 00','1 22 47','1 22 67'", RCB_OBJGROUP_PT_OKOPF_OK_28_2012)
                                        ),
                            BOCB);
    end;

    macro calculateAttributeA_5_2(number, attribute)
        var data = m_dataSource.dataLoansCredit();
        m_protocol.printReportLineNumber(number+".1");
        attribute.setValue(data.getRvpsSum(data.getFilter().isSatisfiesAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number+".1", BOLoans, 1))
                                            +
                                            data.getFilter().hasType(LO_CREDIT)
                                        ), BOLoans);

        m_protocol.printReportLineNumber(number+" гарантия");
        if (m_tuneTable.getIsBackOffice(attribute.getPart(), attribute.getName(), number + ".1", BOLoans))
            attribute.addValue(data.getRvpsSum(data.getFilter().hasType(LO_GUARANTEE)), BOLoans);
        else
            m_protocol.printString("   Нет данных.\n");
        end;

        m_protocol.printReportLineNumber(number+".2");
        attribute.addValue(data.getBadRvpsSum(data.getFilter().isSatisfiesAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number+".2", BOLoans, 1))
                                                +
                                                data.getFilter().hasType(LO_CREDIT, LO_KARTA, LO_OVERDRAFT)
                                            ), BOLoans);

        data = m_dataSource.dataGkboReserves();
        m_protocol.printReportLineNumber(number+".3");
        attribute.setValue(data.getReserveRvps(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number+".3", BOCB, 1))
                                            +
                                            data.getFilter().isReserveAccountForAccountWithKindReserve(RESERVE_KIND_RVPS)
                                            +
                                            ternary(global().isCalculatedMmData, data.getFilter().isReserveAccountForMbkDeal(), "")
                                            ), BOCB);
        if (global().isCalculatedMmData)
            data = m_dataSource.dataMbkDeals();
            m_protocol.printReportLineNumber(number+".4");
            attribute.addValue(data.getRealRvpsAndRvpsDelayed(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number+".4", BOIBC, 1)), BOIBC);
        end;
    end;

    macro calculateAttributeA_6_4(number, attribute)
        var data = m_dataSource.dataGkboReserves();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 1))
                                                +
                                                data.getFilter().isNotOurBank()
                                                +
                                                data.getFilter().hasAssignedPartyCategory("'ЗО','ДО'", RCB_OBJGROUP_PT_CHARACTER)
                                                +
                                                data.getFilter().hasAssignedPartyNotCategory("'1 22 00','1 22 47','1 22 67'", RCB_OBJGROUP_PT_OKOPF_OK_28_2012)
                                                ),
                            BOCB);
    end;

    macro calculateAttributeA_9_2(number, attribute)
        var data = m_dataSource.dataGkboReserves();
        m_protocol.printReportLineNumber(number+".1");
        attribute.setValue(data.getReserveRvp(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number+".1", BOCB, 1))
                                            +
                                            data.getFilter().isReserveAccountForAccountWithKindReserve(RESERVE_KIND_RVP)
                                        ), BOCB);

        data = m_dataSource.dataLoansCredit();
        m_protocol.printReportLineNumber(number+".2");
        if (m_tuneTable.getIsBackOffice(attribute.getPart(), attribute.getName(), number + ".2", BOLoans))
            attribute.setValue(data.getRvpSum(data.getFilter().notIncludeInCase()), BOLoans);
        else
            m_protocol.printString("   Нет данных.\n");
        end;

        data = m_dataSource.dataLoansCase();
        m_protocol.printReportLineNumber(number+".2 портфель");
        if (m_tuneTable.getIsBackOffice(attribute.getPart(), attribute.getName(), number + ".2", BOLoans))
            attribute.addValue(data.getRvpSum(null), BOLoans);
        else
            m_protocol.printString("   Нет данных.\n");
        end;
    end;

    macro calculateAttributeA_13_1(number, attribute)
        var data = m_dataSource.dataGkboReserves();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 1))
                                                +
                                                data.getFilter().isPhysicalOrEmployer()
                                                ), BOCB);
    end;

    macro calculateAttributeA_13_1_1(number, attribute)
        var data = m_dataSource.dataGkboReserves();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 1))
                                                +
                                                data.getFilter().isPhysicalPerson()
                                                +
                                                data.getFilter().isNonEmployer()
                                                ), BOCB);
    end;

    macro calculateAttributeS15101_6(number, attribute)
        var data = m_dataSource.dataGkboDocuments();
        var value = data.getDocumentsSum(data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_DEBET,
                                                                                        m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2))
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_CREDIT,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB)),
                                        /*вычитаем ошибочные проводки*/
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_DEBET,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB))
                                        +
                                        data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_CREDIT,
                                                                                        m_tuneTable.getAccountInOutCome("S24101/6", 18, BOCB)),
                                        true,
                                        /*вычитаем документы по урегулированию парных счетов*/
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_DEBET,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB))
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_CREDIT,
                                                                            m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2)),
                                        true
                                        );
        if (value < 0)
            value = 0;
        end;
        attribute.setValue(value);
    end;

    macro calculateAttributeS16305_4(number, attribute)
        var subAttribute = m_report.getPart("2").getAttribute("S16305/4.1");

        var data = m_dataSource.dataLoansRegChangeHistory();
        m_protocol.printReportLineNumber(number+".1");
        if (m_tuneTable.getIsBackOffice(attribute.getPart(), attribute.getName(), number + ".1", BOLoans))
            attribute.setValue(data.getExpenseSum(m_tuneTable.getRegisterNumber(attribute.getName(), number+".1", BOLoans)), BOLoans);
        else
            m_protocol.printString("   Нет данных.\n");
        end;

        m_protocol.printAddDataAttribute(subAttribute.getName(), subAttribute.getExactValue(BOLoans), BOLoans);
        attribute.addValue(subAttribute.getExactValue(BOLoans), BOLoans);

        data = m_dataSource.dataGkboDocuments();
        m_protocol.printReportLineNumber(number);
        attribute.setValue(data.getDocumentsRvpSum(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number+".2", BOCB, 2)),
                                                    data.getFilter().isSatisfiesToSubCaseClassifiersMasks(m_tuneTable.getClassifierRvp(attribute.getName(), number+".2", BOCB)),
                                                    ternary(m_tuneTable.getRegisterNumber(attribute.getName(), number+".1", BOLoans) == "EMPTY_MASKS",
                                                            data.getFilter().isLoansReserveAccount(m_tuneTable.getReserveAccountMasks(attribute.getName(), number+".1", BOCB)),
                                                            null),
                                                    data.getFilter().getDocumentFilter(true, m_tuneTable.getAccountInOutCome(attribute.getName(), number+".2", BOCB), m_tuneTable.getSumbolOpu(attribute.getName(), number+".2", BOCB))
                                                ), BOCB);
        m_protocol.printAddDataAttribute(subAttribute.getName(), subAttribute.getExactValue(BOCB), BOCB);
        attribute.addValue(subAttribute.getExactValue(BOCB), BOCB);
    end;

    macro calculateAttributeS16305_4_1(number, attribute)
        var data = m_dataSource.dataLoansRegChangeHistory();

        m_protocol.printReportLineNumber(number+".1");
        if (m_tuneTable.getIsBackOffice(attribute.getPart(), attribute.getName(), number + ".1", BOLoans))
            attribute.setValue(data.getExpenseSum(m_tuneTable.getRegisterNumber(attribute.getName(), number+".1", BOLoans)), BOLoans);
        else
            m_protocol.printString("   Нет данных.\n");
        end;

        data = m_dataSource.dataGkboDocuments();
        m_protocol.printReportLineNumber(number);
        attribute.setValue(data.getDocumentsRvpSum(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number+".2", BOCB)),
                                                    data.getFilter().isSatisfiesToSubCaseClassifiersMasks(m_tuneTable.getClassifierRvp(attribute.getName(), number+".2", BOCB)),
                                                    ternary(m_tuneTable.getRegisterNumber(attribute.getName(), number+".1", BOLoans) == "EMPTY_MASKS",
                                                            data.getFilter().isLoansReserveAccount(m_tuneTable.getReserveAccountMasks(attribute.getName(), number+".1", BOCB)),
                                                            null),
                                                    data.getFilter().getDocumentFilter(true, m_tuneTable.getAccountInOutCome(attribute.getName(), number+".2", BOCB), m_tuneTable.getSumbolOpu(attribute.getName(), number+".2", BOCB))
                                                ), BOCB);

    end;

    macro calculateAttributeS24101_6(number, attribute)
        var data = m_dataSource.dataGkboDocuments();
        var value = data.getDocumentsSum(/*Сумма1*/
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_DEBET,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB))
                                        +
                                        data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_CREDIT,
                                                                                        m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2)),
                                        /*Сумма2*/
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_CREDIT,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB))
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_DEBET,
                                                                            m_tuneTable.getAccountInOutCome("S15101/6", 4, BOCB),
                                                                            m_tuneTable.getSumbolOpu("S15101/6", 4, BOCB)),
                                        true,
                                        /*Сумма3*/
                                        data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_DEBET,
                                                                                        m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2))
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_CREDIT,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB)),
                                        true
                                        );
        if (value < 0)
            value = 0;
        end;
        attribute.setValue(value);
    end;

    macro calculateAttributeS242_6_7_8(number, attribute)
        var data = m_dataSource.dataGkboDocuments();
        var value = data.getDocumentsSum(/*Сумма1*/
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_DEBET,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB))
                                        +
                                        data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_CREDIT, m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2)),
                                        null,
                                        /*вычитаем ошибочные проводки*/
                                        /*Сумма2*/
                                        data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_DEBET, m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2))
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_CREDIT,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB)),
                                        true
                                        );
        if (value < 0)
            value = 0;
        end;
        attribute.setValue(value, BOCB);
    end;

    macro calculateAttributeS25302_4(number, attribute)
        var subAttribute = m_report.getPart("2").getAttribute("S25302/4.1");

        var data = m_dataSource.dataLoansRegChangeHistory();
        m_protocol.printReportLineNumber(number+".1");
        if (m_tuneTable.getIsBackOffice(attribute.getPart(), attribute.getName(), number + ".1", BOLoans))
            attribute.setValue(data.getReceiptSum(m_tuneTable.getRegisterNumber(attribute.getName(), number+".1", BOLoans)), BOLoans);
        else
            m_protocol.printString("   Нет данных.\n");
        end;

        m_protocol.printAddDataAttribute(subAttribute.getName(), subAttribute.getExactValue(BOLoans), BOLoans);
        attribute.addValue(subAttribute.getExactValue(BOLoans), BOLoans);

        data = m_dataSource.dataGkboDocuments();
        m_protocol.printReportLineNumber(number+".2");
        attribute.setValue(data.getDocumentsRvpSum(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number+".2", BOCB, 2)),
                                                    data.getFilter().isSatisfiesToSubCaseClassifiersMasks(m_tuneTable.getClassifierRvp(attribute.getName(), number+".2", BOCB)),
                                                    ternary(m_tuneTable.getRegisterNumber(attribute.getName(), number+".1", BOLoans) == "EMPTY_MASKS",
                                                            data.getFilter().isLoansReserveAccount(m_tuneTable.getReserveAccountMasks(attribute.getName(), number+".1", BOCB)),
                                                            null),
                                                    data.getFilter().getDocumentFilter(false, m_tuneTable.getAccountInOutCome(attribute.getName(), number+".2", BOCB), m_tuneTable.getSumbolOpu(attribute.getName(), number+".2", BOCB))
                                                ), BOCB);
        m_protocol.printAddDataAttribute(subAttribute.getName(), subAttribute.getExactValue(BOCB), BOCB);
        attribute.addValue(subAttribute.getExactValue(BOCB), BOCB);
    end;

    macro calculateAttributeS25302_4_1(number, attribute)
        var data = m_dataSource.dataLoansRegChangeHistory();

        m_protocol.printReportLineNumber(number+".1");
        if (m_tuneTable.getIsBackOffice(attribute.getPart(), attribute.getName(), number + ".1", BOLoans))
            attribute.setValue(data.getReceiptSum(m_tuneTable.getRegisterNumber(attribute.getName(), number+".1", BOLoans)), BOLoans);
        else
            m_protocol.printString("   Нет данных.\n");
        end;

        data = m_dataSource.dataGkboDocuments();
        m_protocol.printReportLineNumber(number);
        attribute.setValue(data.getDocumentsRvpSum(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number+".2", BOCB)),
                                                    data.getFilter().isSatisfiesToSubCaseClassifiersMasks(m_tuneTable.getClassifierRvp(attribute.getName(), number+".2", BOCB)),
                                                    ternary(m_tuneTable.getRegisterNumber(attribute.getName(), number+".1", BOLoans) == "EMPTY_MASKS",
                                                            data.getFilter().isLoansReserveAccount(m_tuneTable.getReserveAccountMasks(attribute.getName(), number+".1", BOCB)),
                                                            null),
                                                    data.getFilter().getDocumentFilter(false, m_tuneTable.getAccountInOutCome(attribute.getName(), number+".2", BOCB), m_tuneTable.getSumbolOpu(attribute.getName(), number+".2", BOCB))
                                                ), BOCB);
    end;

    macro calculateAttributeNonResident(number, attribute)
        var data;
        var dataAcc;

        if (global.isCalculatedMmData() and ((attribute.getName() == "IL/2") or (attribute.getName() == "IA/1")))
            data    = m_dataSource.dataMbkDeals();
            dataAcc = m_dataSource.dataGkboAccount();
            attribute.setValue(data.getAccountRest(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 4),
                                                    data.getFilter().isNonResident()
                                                    +
                                                    data.getFilter().isBank(),
                                                    dataAcc.getFilter().isNonResident()
                                                    +
                                                    dataAcc.getFilter().isNotBank()
                                                    ), BOCB);
        else
            data = m_dataSource.dataGkboAccount();
            attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 4))
                                                +
                                                data.getFilter().isNonResident()
                                                ), BOCB);
        end;

        data = m_dataSource.dataLoansRegister();
        if (m_tuneTable.getRegisterNumberForPart4(attribute.getName(), number, BOLoans) != "EMPTY_MASKS")
            attribute.setValue(data.getRest(data.getFilter().isTypeRegister(m_tuneTable.getRegisterNumberForPart4(attribute.getName(), number, BOLoans))
                                            +
                                            data.getFilter().isNonResident()
                                            ), BOLoans);
        end;

        if (m_tuneTable.getOFFBalanceRegisterNumberForPart4(attribute.getName(), number, BOLoans) != "EMPTY_MASKS")
            attribute.subvalue(data.getRest(data.getFilter().isTypeRegister(m_tuneTable.getOFFBalanceRegisterNumberForPart4(attribute.getName(), number, BOLoans))
                                            +
                                            data.getFilter().isNonResident()
                                            ), BOLoans);
        end;

        data = m_dataSource.dataDepositRegister();
        if (m_tuneTable.getRegisterNumberForPart4(attribute.getName(), number, BODeposits) != "EMPTY_MASKS")
            attribute.setValue(data.getRest(data.getFilter().isTypeRegister(m_tuneTable.getRegisterNumberForPart4(attribute.getName(), number, BODeposits))
                                            +
                                            data.getFilter().isNonResident()
                                            ), BODeposits);
        end;
    end;

    macro calculateAttributeHasAssignedPartyCategoryIL7_IA4(number, attribute)
        var data = m_dataSource.dataGkboAccount();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 4))
                                                +
                                                data.getFilter().hasAssignedPartyCategory(ECONOMICACTORS_FIN_ORG_RF, RCB_OBJGROUP_PT_ECONOMICACTORS)
                                                ), BOCB);

        data = m_dataSource.dataLoansRegister();
        if (m_tuneTable.getRegisterNumberForPart4(attribute.getName(), number, BOLoans) != "EMPTY_MASKS")
            attribute.setValue(data.getRest(data.getFilter().isTypeRegister(m_tuneTable.getRegisterNumberForPart4(attribute.getName(), number, BOLoans))
                                            +
                                            data.getFilter().hasAssignedPartyCategory(ECONOMICACTORS_FIN_ORG_RF, RCB_OBJGROUP_PT_ECONOMICACTORS)
                                            ), BOLoans);
        end;

        if (m_tuneTable.getOFFBalanceRegisterNumberForPart4(attribute.getName(), number, BOLoans) != "EMPTY_MASKS")
            attribute.subvalue(data.getRest(data.getFilter().isTypeRegister(m_tuneTable.getOFFBalanceRegisterNumberForPart4(attribute.getName(), number, BOLoans))
                                            +
                                            data.getFilter().hasAssignedPartyCategory(ECONOMICACTORS_FIN_ORG_RF, RCB_OBJGROUP_PT_ECONOMICACTORS)
                                            ), BOLoans);
        end;

        data = m_dataSource.dataDepositRegister();
        if (m_tuneTable.getRegisterNumberForPart4(attribute.getName(), number, BODeposits) != "EMPTY_MASKS")
            attribute.setValue(data.getRest(data.getFilter().isTypeRegister(m_tuneTable.getRegisterNumberForPart4(attribute.getName(), number, BODeposits))
                                            +
                                            data.getFilter().hasAssignedPartyCategory(ECONOMICACTORS_FIN_ORG_RF, RCB_OBJGROUP_PT_ECONOMICACTORS)
                                            ), BODeposits);
        end;
    end;

    macro calculateAttributeHasAssignedPartyCategoryIL8_IA5(number, attribute)
        var data = m_dataSource.dataGkboAccount();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 4))
                                                +
                                                data.getFilter().hasAssignedPartyCategory(ECONOMICACTORS_FOND_RF, RCB_OBJGROUP_PT_ECONOMICACTORS)
                                                ), BOCB);

        data = m_dataSource.dataLoansRegister();
        if (m_tuneTable.getRegisterNumberForPart4(attribute.getName(), number, BOLoans) != "EMPTY_MASKS")
            attribute.setValue(data.getRest(data.getFilter().isTypeRegister(m_tuneTable.getRegisterNumberForPart4(attribute.getName(), number, BOLoans))
                                            +
                                            data.getFilter().hasAssignedPartyCategory(ECONOMICACTORS_FOND_RF, RCB_OBJGROUP_PT_ECONOMICACTORS)
                                            ), BOLoans);
        end;

        if (m_tuneTable.getOFFBalanceRegisterNumberForPart4(attribute.getName(), number, BOLoans) != "EMPTY_MASKS")
            attribute.subvalue(data.getRest(data.getFilter().isTypeRegister(m_tuneTable.getOFFBalanceRegisterNumberForPart4(attribute.getName(), number, BOLoans))
                                            +
                                            data.getFilter().hasAssignedPartyCategory(ECONOMICACTORS_FOND_RF, RCB_OBJGROUP_PT_ECONOMICACTORS)
                                            ), BOLoans);
        end;

        data = m_dataSource.dataDepositRegister();
        if (m_tuneTable.getRegisterNumberForPart4(attribute.getName(), number, BODeposits) != "EMPTY_MASKS")
            attribute.setValue(data.getRest(data.getFilter().isTypeRegister(m_tuneTable.getRegisterNumberForPart4(attribute.getName(), number, BODeposits))
                                            +
                                            data.getFilter().hasAssignedPartyCategory(ECONOMICACTORS_FOND_RF, RCB_OBJGROUP_PT_ECONOMICACTORS)
                                            ), BODeposits);
        end;
    end;

    macro calculateAttributeHasAssignedPartyCategoryIL9_IA6(number, attribute)
        var data = m_dataSource.dataGkboAccount();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 4))
                                                +
                                                data.getFilter().hasAssignedPartyCategory(ECONOMICACTORS_FIN_ORG_FED + ", "
                                                                                        + ECONOMICACTORS_FIN_ORG_GOV + ", "
                                                                                        + ECONOMICACTORS_NONGOV_FIN_ORG,
                                                                                        RCB_OBJGROUP_PT_ECONOMICACTORS)
                                                ), BOCB);

        data = m_dataSource.dataLoansRegister();
        if (m_tuneTable.getRegisterNumberForPart4(attribute.getName(), number, BOLoans) != "EMPTY_MASKS")
            attribute.setValue(data.getRest(data.getFilter().isTypeRegister(m_tuneTable.getRegisterNumberForPart4(attribute.getName(), number, BOLoans))
                                            +
                                            data.getFilter().hasAssignedPartyCategory(ECONOMICACTORS_FIN_ORG_FED + ", "
                                                                                        + ECONOMICACTORS_FIN_ORG_GOV + ", "
                                                                                        + ECONOMICACTORS_NONGOV_FIN_ORG,
                                                                                        RCB_OBJGROUP_PT_ECONOMICACTORS)
                                            ), BOLoans);
        end;

        if (m_tuneTable.getOFFBalanceRegisterNumberForPart4(attribute.getName(), number, BOLoans) != "EMPTY_MASKS")
            attribute.subvalue(data.getRest(data.getFilter().isTypeRegister(m_tuneTable.getOFFBalanceRegisterNumberForPart4(attribute.getName(), number, BOLoans))
                                            +
                                            data.getFilter().hasAssignedPartyCategory(ECONOMICACTORS_FIN_ORG_FED + ", "
                                                                                        + ECONOMICACTORS_FIN_ORG_GOV + ", "
                                                                                        + ECONOMICACTORS_NONGOV_FIN_ORG,
                                                                                        RCB_OBJGROUP_PT_ECONOMICACTORS)
                                            ), BOLoans);
        end;

        data = m_dataSource.dataDepositRegister();
        if (m_tuneTable.getRegisterNumberForPart4(attribute.getName(), number, BODeposits) != "EMPTY_MASKS")
            attribute.setValue(data.getRest(data.getFilter().isTypeRegister(m_tuneTable.getRegisterNumberForPart4(attribute.getName(), number, BODeposits))
                                            +
                                            data.getFilter().hasAssignedPartyCategory(ECONOMICACTORS_FIN_ORG_FED + ", "
                                                                                        + ECONOMICACTORS_FIN_ORG_GOV + ", "
                                                                                        + ECONOMICACTORS_NONGOV_FIN_ORG,
                                                                                        RCB_OBJGROUP_PT_ECONOMICACTORS)
                                            ), BODeposits);
        end;
    end;

    macro calculateAttributeHasAssignedPartyCategoryIL10_IA7(number, attribute)
        var data = m_dataSource.dataGkboAccount();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 4))
                                                +
                                                data.getFilter().hasAssignedPartyCategory(ECONOMICACTORS_COM_ORG_FED + ", "
                                                                                        + ECONOMICACTORS_NONCOM_ORG_FED + ", "
                                                                                        + ECONOMICACTORS_COM_ORG_GOV + ", "
                                                                                        + ECONOMICACTORS_NONCOM_ORG_GOV,
                                                                                        RCB_OBJGROUP_PT_ECONOMICACTORS)
                                                ), BOCB);

        data = m_dataSource.dataLoansRegister();
        if (m_tuneTable.getRegisterNumberForPart4(attribute.getName(), number, BOLoans) != "EMPTY_MASKS")
            attribute.setValue(data.getRest(data.getFilter().isTypeRegister(m_tuneTable.getRegisterNumberForPart4(attribute.getName(), number, BOLoans))
                                            +
                                            data.getFilter().hasAssignedPartyCategory(ECONOMICACTORS_COM_ORG_FED + ", "
                                                                                        + ECONOMICACTORS_NONCOM_ORG_FED + ", "
                                                                                        + ECONOMICACTORS_COM_ORG_GOV + ", "
                                                                                        + ECONOMICACTORS_NONCOM_ORG_GOV,
                                                                                        RCB_OBJGROUP_PT_ECONOMICACTORS)
                                            ), BOLoans);
        end;

        if (m_tuneTable.getOFFBalanceRegisterNumberForPart4(attribute.getName(), number, BOLoans) != "EMPTY_MASKS")
            attribute.subvalue(data.getRest(data.getFilter().isTypeRegister(m_tuneTable.getOFFBalanceRegisterNumberForPart4(attribute.getName(), number, BOLoans))
                                            +
                                            data.getFilter().hasAssignedPartyCategory(ECONOMICACTORS_COM_ORG_FED + ", "
                                                                                        + ECONOMICACTORS_NONCOM_ORG_FED + ", "
                                                                                        + ECONOMICACTORS_COM_ORG_GOV + ", "
                                                                                        + ECONOMICACTORS_NONCOM_ORG_GOV,
                                                                                        RCB_OBJGROUP_PT_ECONOMICACTORS)
                                            ), BOLoans);
        end;

        data = m_dataSource.dataDepositRegister();
        if (m_tuneTable.getRegisterNumberForPart4(attribute.getName(), number, BODeposits) != "EMPTY_MASKS")
            attribute.setValue(data.getRest(data.getFilter().isTypeRegister(m_tuneTable.getRegisterNumberForPart4(attribute.getName(), number, BODeposits))
                                            +
                                            data.getFilter().hasAssignedPartyCategory(ECONOMICACTORS_COM_ORG_FED + ", "
                                                                                        + ECONOMICACTORS_NONCOM_ORG_FED + ", "
                                                                                        + ECONOMICACTORS_COM_ORG_GOV + ", "
                                                                                        + ECONOMICACTORS_NONCOM_ORG_GOV,
                                                                                        RCB_OBJGROUP_PT_ECONOMICACTORS)
                                            ), BODeposits);
        end;
    end;

    macro calculateAttributeHasAssignedPartyCategoryIL11_IA8(number, attribute)
        var data = m_dataSource.dataGkboAccount();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 4))
                                                +
                                                data.getFilter().hasAssignedPartyCategory(ECONOMICACTORS_NONGOV_COM_ORG + ", "
                                                                                        + ECONOMICACTORS_NONGOV_NONCOM,
                                                                                        RCB_OBJGROUP_PT_ECONOMICACTORS)
                                                ), BOCB);

        data = m_dataSource.dataLoansRegister();
        if (m_tuneTable.getRegisterNumberForPart4(attribute.getName(), number, BOLoans) != "EMPTY_MASKS")
            attribute.setValue(data.getRest(data.getFilter().isTypeRegister(m_tuneTable.getRegisterNumberForPart4(attribute.getName(), number, BOLoans))
                                            +
                                            data.getFilter().hasAssignedPartyCategory(ECONOMICACTORS_NONGOV_COM_ORG + ", "
                                                                                        + ECONOMICACTORS_NONGOV_NONCOM,
                                                                                        RCB_OBJGROUP_PT_ECONOMICACTORS)
                                            ), BOLoans);
        end;

        if (m_tuneTable.getOFFBalanceRegisterNumberForPart4(attribute.getName(), number, BOLoans) != "EMPTY_MASKS")
            attribute.subvalue(data.getRest(data.getFilter().isTypeRegister(m_tuneTable.getOFFBalanceRegisterNumberForPart4(attribute.getName(), number, BOLoans))
                                            +
                                            data.getFilter().hasAssignedPartyCategory(ECONOMICACTORS_NONGOV_COM_ORG + ", "
                                                                                        + ECONOMICACTORS_NONGOV_NONCOM,
                                                                                        RCB_OBJGROUP_PT_ECONOMICACTORS)
                                            ), BOLoans);
        end;

        data = m_dataSource.dataDepositRegister();
        if (m_tuneTable.getRegisterNumberForPart4(attribute.getName(), number, BODeposits) != "EMPTY_MASKS")
            attribute.setValue(data.getRest(data.getFilter().isTypeRegister(m_tuneTable.getRegisterNumberForPart4(attribute.getName(), number, BODeposits))
                                            +
                                            data.getFilter().hasAssignedPartyCategory(ECONOMICACTORS_NONGOV_COM_ORG + ", "
                                                                                        + ECONOMICACTORS_NONGOV_NONCOM,
                                                                                        RCB_OBJGROUP_PT_ECONOMICACTORS)
                                            ), BODeposits);
        end;
    end;

    macro calculateAttributeIsEmployer(number, attribute)
        var data = m_dataSource.dataGkboAccount();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 4))
                                                +
                                                data.getFilter().isEmployer()
                                                ), BOCB);

        data = m_dataSource.dataLoansRegister();
        if (m_tuneTable.getRegisterNumberForPart4(attribute.getName(), number, BOLoans) != "EMPTY_MASKS")
            attribute.setValue(data.getRest(data.getFilter().isTypeRegister(m_tuneTable.getRegisterNumberForPart4(attribute.getName(), number, BOLoans))
                                            +
                                            data.getFilter().isEmployer()
                                            ), BOLoans);
        end;

        if (m_tuneTable.getOFFBalanceRegisterNumberForPart4(attribute.getName(), number, BOLoans) != "EMPTY_MASKS")
            attribute.subvalue(data.getRest(data.getFilter().isTypeRegister(m_tuneTable.getOFFBalanceRegisterNumberForPart4(attribute.getName(), number, BOLoans))
                                            +
                                            data.getFilter().isEmployer()
                                            ), BOLoans);
        end;

        data = m_dataSource.dataDepositRegister();
        if (m_tuneTable.getRegisterNumberForPart4(attribute.getName(), number, BODeposits) != "EMPTY_MASKS")
            attribute.setValue(data.getRest(data.getFilter().isTypeRegister(m_tuneTable.getRegisterNumberForPart4(attribute.getName(), number, BODeposits))
                                            +
                                            data.getFilter().isEmployer()
                                            ), BODeposits);
        end;
    end;

    macro calculateAttributeIA10(number, attribute)
        var data = m_dataSource.dataGkboAccount();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 4))
                                                +
                                                data.getFilter().isPhysicalPerson()
                                                +
                                                data.getFilter().isResident()
                                                ), BOCB);

        data = m_dataSource.dataLoansRegister();
        if (m_tuneTable.getRegisterNumberForPart4(attribute.getName(), number, BOLoans) != "EMPTY_MASKS")
            attribute.setValue(data.getRest(data.getFilter().isTypeRegister(m_tuneTable.getRegisterNumberForPart4(attribute.getName(), number, BOLoans))
                                            +
                                            data.getFilter().isPhysicalPerson()
                                            +
                                            data.getFilter().isResident()
                                            ), BOLoans);
        end;

        if (m_tuneTable.getOFFBalanceRegisterNumberForPart4(attribute.getName(), number, BOLoans) != "EMPTY_MASKS")
            attribute.subvalue(data.getRest(data.getFilter().isTypeRegister(m_tuneTable.getOFFBalanceRegisterNumberForPart4(attribute.getName(), number, BOLoans))
                                            +
                                            data.getFilter().isPhysicalPerson()
                                            +
                                            data.getFilter().isResident()
                                            ), BOLoans);
        end;
    end;

    macro calculateAttributeIsFinanceMinistry(number, attribute)
        var data = m_dataSource.dataGkboAccount();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 4))
                                                +
                                                data.getFilter().isFinanceMinistry()
                                                ), BOCB);

        data = m_dataSource.dataDepositRegister();
        if (m_tuneTable.getRegisterNumberForPart4(attribute.getName(), number, BODeposits) != "EMPTY_MASKS")
            attribute.setValue(data.getRest(data.getFilter().isTypeRegister(m_tuneTable.getRegisterNumberForPart4(attribute.getName(), number, BODeposits))
                                            +
                                            data.getFilter().isFinanceMinistry()
                                            ), BODeposits);
        end;
    end;

    macro calculateAttributeHasAssignedPartyCategoryIL6(number, attribute)
        var data = m_dataSource.dataGkboAccount();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 4))
                                                +
                                                data.getFilter().hasAssignedPartyCategory(ECONOMICACTORS_GOV_FOND, RCB_OBJGROUP_PT_ECONOMICACTORS)
                                                ), BOCB);

        data = m_dataSource.dataDepositRegister();
        if (m_tuneTable.getRegisterNumberForPart4(attribute.getName(), number, BODeposits) != "EMPTY_MASKS")
            attribute.setValue(data.getRest(data.getFilter().isTypeRegister(m_tuneTable.getRegisterNumberForPart4(attribute.getName(), number, BODeposits))
                                            +
                                            data.getFilter().hasAssignedPartyCategory(ECONOMICACTORS_GOV_FOND, RCB_OBJGROUP_PT_ECONOMICACTORS)
                                            ), BODeposits);
        end;
    end;

    private macro initAttributes()
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "1", "A102/16",    r2m(this,"calculateAttributeAsRestOnPrimaryAccount"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "2", "A20321/3.1", r2m(this,"calculateAttributeA20321_3_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "3", "A30126/3.1", r2m(this,"calculateAttributeA30126_3_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "4", "A30226/3.1", r2m(this,"calculateAttributeA30226_3_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "5", "A30215/2",   r2m(this,"calculateAttributeА30215_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "6", "A40109/5.1", r2m(this,"calculateAttributeA40109_5_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "7", "A40109/9.1", r2m(this,"calculateAttributeA40109_9_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "8", "A50505/4",   r2m(this,"calculateAttributeA50505_4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "9", "A50505/6.1", r2m(this,"calculateAttributeA50505_6_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "10","A50507/4",   r2m(this,"calculateAttributeA50507_4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("11", "A50507/6.2", r2m(this,"calculateAttributeA50507_6_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("12", "A50319/17",  r2m(this,"calculateAttributeA50319_17"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("13", "A50719/17",  r2m(this,"calculateAttributeA50719_17"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("14", "A60206/6.3", r2m(this,"calculateAttributeA60206_6_3"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("15", "A/3.2",      r2m(this,"calculateAttributeA_3_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("16", "A/3.3",      r2m(this,"calculateAttributeA_3_3"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("17", "A/3.4",      r2m(this,"calculateAttributeA_3_4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("18", "A/5.2",      r2m(this,"calculateAttributeA_5_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("19", "A/5.3",      r2m(this,"calculateAttributeА_5_3"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("20", "A/6.4",      r2m(this,"calculateAttributeA_6_4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("21", "A/9.2",      r2m(this,"calculateAttributeA_9_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("22", "A/9.3",      r2m(this,"calculateAttributeA_9_3"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("23", "A/12",       r2m(this,"calculateAttributeA_12"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("24", "A/13.1",     r2m(this,"calculateAttributeA_13_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("25", "A/13.1.1",   r2m(this,"calculateAttributeA_13_1_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("26", "A/13.2",     r2m(this,"calculateAttributeA_13_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("27", "A/14.1",     r2m(this,"calculateAttributeAsRestOnPrimaryAccount"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("28", "A/14.2",     r2m(this,"calculateAttributeAsRestOnPrimaryAccount"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("29", "A60302/8",   r2m(this,"calculateAttribute_A603"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("30", "A60301/16",  r2m(this,"calculateAttribute_A603"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("31", "A10610/28",  r2m(this,"calculateAttribute_A10610"));

        m_calculateDataArray[m_calculateDataArray.size] = calculateData("1", "S12406/1.2",  r2m(this,"calculateAttributeS12406_1_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("2", "S131/6",      r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("3", "S131/7",      r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("4", "S15101/6",    r2m(this,"calculateAttributeS15101_6"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("5", "S152/6",      r2m(this,"calculateAttributeS152_6"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("6", "S152/7",      r2m(this,"calculateAttributeS152_7"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("7", "S152/8",      r2m(this,"calculateAttributeS152_8"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("8", "S16203/1.2",  r2m(this,"calculateAttributeS16203_1_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("9", "S16305/4",   r2m(this,"calculateAttributeS16305_4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("10", "S16305/4.1",  r2m(this,"calculateAttributeS16305_4_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("11", "S16305/4.2", r2m(this,"calculateAttributeS16305_4_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("12", "S16305/14",  r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("13", "S16305/15",  r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("14", "S17101/1.1", r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("15", "S17201/1.1", r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("16", "S231/6",     r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("17", "S231/7",     r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("18", "S24101/6",   r2m(this,"calculateAttributeS24101_6"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("19", "S242/6",     r2m(this,"calculateAttributeS242_6_7_8"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("20", "S242/7",     r2m(this,"calculateAttributeS242_6_7_8"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("21", "S242/8",     r2m(this,"calculateAttributeS242_6_7_8"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("22", "S25302/4",   r2m(this,"calculateAttributeS25302_4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("23", "S25302/4.1", r2m(this,"calculateAttributeS25302_4_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("24", "S25302/4.2", r2m(this,"calculateAttributeS25302_4_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("25", "S25302/14",  r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("26", "S25302/15",  r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("27", "S27101/2.1", r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("28", "S27201/2.1", r2m(this,"calculateAttributeAsRestOnAccountInOutCome"));

        m_calculateDataArray[m_calculateDataArray.size] = calculateData("1", "5101", r2m(this,"calculateAttribute4301OR5101"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("2", "6101", r2m(this,"calculateAttribute6101"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("3", "6102", r2m(this,"calculateAttribute6102"));

        m_calculateDataArray[m_calculateDataArray.size] = calculateData("1", "D/0",    r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("2", "D/1",    r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("3", "D/2",    r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("4", "D/3",    r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("5", "D/5",    r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("6", "D/7",    r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("7", "D/9",    r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("8", "D/10",   r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("9", "D/11",   r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("10", "D/12",  r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("11", "D/13",  r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("12", "D/14",  r2m(this,"calculateAttributeIsOrgansOfGovernment"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("13", "D/15",  r2m(this,"calculateAttributeD15"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("14", "D/16",  r2m(this,"calculateAttributeIsBankResident"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("15", "D/17",  r2m(this,"calculateAttributeD17"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("16", "D/18",  r2m(this,"calculateAttributeNonResident"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("17", "D/19",  r2m(this,"calculateAttributeIsCentralBank"));

        m_calculateDataArray[m_calculateDataArray.size] = calculateData("18", "IL/1",  r2m(this,"calculateAttributeIL1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("19", "IL/2",  r2m(this,"calculateAttributeNonResident"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("20", "IL/3",  r2m(this,"calculateAttributeIsCentralBank"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("21", "IL/4",  r2m(this,"calculateAttributeIsBankResident"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("22", "IL/5",  r2m(this,"calculateAttributeIsFinanceMinistry"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("23", "IL/6",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL6"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("24", "IL/7",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL7_IA4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("25", "IL/8",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL8_IA5"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("26", "IL/9",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL9_IA6"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("27", "IL/10", r2m(this,"calculateAttributeHasAssignedPartyCategoryIL10_IA7"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("28", "IL/11", r2m(this,"calculateAttributeHasAssignedPartyCategoryIL11_IA8"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("29", "IL/12", r2m(this,"calculateAttributeIsEmployer"));

        m_calculateDataArray[m_calculateDataArray.size] = calculateData("30", "IA/1",  r2m(this,"calculateAttributeNonResident"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("31", "IA/2",  r2m(this,"calculateAttributeIsCentralBank"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("32", "IA/3",  r2m(this,"calculateAttributeIsBankResident"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("33", "IA/4",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL7_IA4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("34", "IA/5",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL8_IA5"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("35", "IA/6",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL9_IA6"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("36", "IA/7",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL10_IA7"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("37", "IA/8",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL11_IA8"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("38", "IA/9",  r2m(this,"calculateAttributeIsEmployer"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("39", "IA/10", r2m(this,"calculateAttributeIA10"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("40", "R/1",   r2m(this,"calculateAttributeR1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("41", "R/2",   r2m(this,"calculateAttributeR2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("42", "R/3",   r2m(this,"calculateAttributeR3"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("43", "R/4",   r2m(this,"calculateAttributeR4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("44", "R/5",   r2m(this,"calculateAttributeR5"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("45", "R/6",   r2m(this,"calculateAttributeR6"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("46", "R/7",   r2m(this,"calculateAttributeR7"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("47", "R/8",   r2m(this,"calculateAttributeR8"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("48", "R/9",   r2m(this,"calculateAttributeR9"));
    end;
end;

class (TCalculationController3269) TCalculationController3875()
    initTCalculationController3269();

    macro calculateAttributeА_5_3(number, attribute)
        var data = m_dataSource.dataGkboReserves();

        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 1))
                                                +
                                                data.getFilter().hasAssignedAccountCategory("'"+attribute.getName()+"'")
                                                ), BOCB);
    end;

    macro calculateAttributeА_5_4(number, attribute)
        var data = m_dataSource.dataGkboReserves();

        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 1))
                                                +
                                                data.getFilter().hasAssignedAccountCategory("'"+attribute.getName()+"'")
                                                ), BOCB);
    end;

    macro calculateAttribute_A10609(number, attribute)
        var data = m_dataSource.dataGkboReserves();

        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 1))
                                                +
                                                "AND (((1 = 1) " + data.getFilter().hasAssignedAccountCategory("'ОНА по ОС'") + ") OR ((1 = 1) " + data.getFilter().hasAssignedAccountCategory("'ОНА по НМА'") + "))"
                                                ), BOCB);
    end;

    macro calculateAttribute_A10610(number, attribute)
        var data = m_dataSource.dataGkboReserves();

        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 1))
                                                +
                                                "AND (((1 = 1) " + data.getFilter().hasAssignedAccountCategory("'ОНО по ОС'") + ") OR ((1 = 1) " + data.getFilter().hasAssignedAccountCategory("'ОНО по НМА'") + "))"
                                                ), BOCB);
    end;

/* 1, 2 */
    macro calculateAttributeS155_16__S155_17(number, attribute)
        var data = m_dataSource.dataGkboDocuments();
        var value = data.getDocumentsSum(data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_DEBET, m_tuneTable.getReserveAccountMasks(attribute.getName(), number, BOCB))
                                        +
                                        data.getFilter().isNotSecuritiesReserveAccount(RCB_ACSDCL_DEBET, m_tuneTable.getReserveAccountMasks(attribute.getName(), number, BOCB), false)
                                        +" AND ((1=1 " +
                                        data.getFilter().isReserveAccountForAccount(RCB_ACSDCL_DEBET,
                                                                    data.getFilter().isSatisfiesToMasksByAccountId("reserveAcc.t_connectAccountId", m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2))
                                                                + data.getFilter().hasNotAssignedAccountCategoryByAccountId("reserveAcc.t_connectAccountId", "'П/Д'", RCB_OBJGROUP_ACTIVEKIND)
                                                                + data.getFilter().isNotOffshoreZoneResidentByAccountId("reserveAcc.t_connectAccountId"))
                                        +      ") OR (1=1"
                                        +      data.getFilter().isReserveAccountForSubCase(RCB_ACSDCL_DEBET,
                                                                            data.getFilter().isNotSatisfiesToSubCaseClassifiersMasks("5.1.3")
                                                                        + data.getFilter().isNotOffshoreZoneResidentForAnyAccountOfSubCase()
                                                                        )
                                        +      "))"
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_CREDIT,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB)),
                                        null,

                                        data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_CREDIT, m_tuneTable.getReserveAccountMasks(attribute.getName(), number, BOCB))
                                        +
                                        data.getFilter().isNotSecuritiesReserveAccount(RCB_ACSDCL_CREDIT, m_tuneTable.getReserveAccountMasks(attribute.getName(), number, BOCB), false)
                                        +" AND ((1=1 " +
                                        data.getFilter().isReserveAccountForAccount(RCB_ACSDCL_CREDIT,
                                                                    data.getFilter().isSatisfiesToMasksByAccountId("reserveAcc.t_connectAccountId", m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2))
                                                                + data.getFilter().hasNotAssignedAccountCategoryByAccountId("reserveAcc.t_connectAccountId", "'П/Д'", RCB_OBJGROUP_ACTIVEKIND)
                                                                + data.getFilter().isNotOffshoreZoneResidentByAccountId("reserveAcc.t_connectAccountId"))
                                        +      ") OR (1=1"
                                        +      data.getFilter().isReserveAccountForSubCase(RCB_ACSDCL_CREDIT,
                                                                            data.getFilter().isNotSatisfiesToSubCaseClassifiersMasks("5.1.3")
                                                                        + data.getFilter().isNotOffshoreZoneResidentForAnyAccountOfSubCase()
                                                                        )
                                        +      "))"
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_DEBET,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB)),
                                        true,
                    // sum 2
                                        data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_DEBET, m_tuneTable.getReserveAccountMasks(attribute.getName(), number, BOCB))
                                        +
                                        data.getFilter().isSecuritiesReserveAccount(RCB_ACSDCL_DEBET, m_tuneTable.getReserveAccountMasks(attribute.getName(), number, BOCB), false)
                                        +
                                        data.getFilter().isReserveAccountForAccount(RCB_ACSDCL_DEBET,
                                                                    data.getFilter().isSatisfiesToMasksByAccountId("reserveAcc.t_connectAccountId", m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2))
                                                                + data.getFilter().isNotOffshoreZoneResidentByAccountId("reserveAcc.t_connectAccountId"))
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_CREDIT,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB)),
                                        null,

                                        data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_CREDIT, m_tuneTable.getReserveAccountMasks(attribute.getName(), number, BOCB))
                                        +
                                        data.getFilter().isSecuritiesReserveAccount(RCB_ACSDCL_CREDIT, m_tuneTable.getReserveAccountMasks(attribute.getName(), number, BOCB), false)
                                        +
                                        data.getFilter().isReserveAccountForAccount(RCB_ACSDCL_CREDIT,
                                                                    data.getFilter().isSatisfiesToMasksByAccountId("reserveAcc.t_connectAccountId", m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2))
                                                                + data.getFilter().isNotOffshoreZoneResidentByAccountId("reserveAcc.t_connectAccountId"))
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_DEBET,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB)),
                                        true,

                    // sum 3
                                        data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_DEBET, "50507*")
                                        +
                                        data.getFilter().isNotSecuritiesReserveAccount(RCB_ACSDCL_DEBET, m_tuneTable.getReserveAccountMasks(attribute.getName(), number, BOCB), false)
                                        +" AND ((1=1 " +
                                        data.getFilter().isReserveAccountForAccount(RCB_ACSDCL_DEBET,
                                                                    data.getFilter().isSatisfiesToMasksByAccountId("reserveAcc.t_connectAccountId", "50505*")
                                                                + data.getFilter().isExistsDoc("reserveAcc.t_connectAccountId", m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2),
                                                                                                data.getFilter().hasNotAssignedAccountCategoryByAccountId("existsDoc.t_creditAccountId", "'П/Д'", RCB_OBJGROUP_ACTIVEKIND)
                                                                                                + data.getFilter().isNotOffshoreZoneResidentByAccountId("existsDoc.t_creditAccountId")))
                                        +      ") OR (1=1"
                                        +      data.getFilter().isReserveAccountForSubCase(RCB_ACSDCL_DEBET,
                                                                            data.getFilter().isNotSatisfiesToSubCaseClassifiersMasks("5.1.3")
                                                                        + data.getFilter().isNotOffshoreZoneResidentForAnyAccountOfSubCase()
                                                                        )
                                        +      "))"
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_CREDIT,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB)),
                                        null,

                                        data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_CREDIT, "50507*")
                                        +
                                        data.getFilter().isNotSecuritiesReserveAccount(RCB_ACSDCL_CREDIT, m_tuneTable.getReserveAccountMasks(attribute.getName(), number, BOCB), false)
                                        +" AND ((1=1 " +
                                        data.getFilter().isReserveAccountForAccount(RCB_ACSDCL_CREDIT,
                                                                    data.getFilter().isSatisfiesToMasksByAccountId("reserveAcc.t_connectAccountId", "50505*")
                                                                + data.getFilter().isExistsDoc("reserveAcc.t_connectAccountId", m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2),
                                                                                                data.getFilter().hasNotAssignedAccountCategoryByAccountId("existsDoc.t_creditAccountId", "'П/Д'", RCB_OBJGROUP_ACTIVEKIND)
                                                                                                + data.getFilter().isNotOffshoreZoneResidentByAccountId("existsDoc.t_creditAccountId")))
                                        +      ") OR (1=1"
                                        +      data.getFilter().isReserveAccountForSubCase(RCB_ACSDCL_CREDIT,
                                                                            data.getFilter().isNotSatisfiesToSubCaseClassifiersMasks("5.1.3")
                                                                        + data.getFilter().isNotOffshoreZoneResidentForAnyAccountOfSubCase()
                                                                        )
                                        +      "))"
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_DEBET,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB)),
                                        true,
                    // sum 4
                                        data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_DEBET, "50507*")
                                        +
                                        data.getFilter().isSecuritiesReserveAccount(RCB_ACSDCL_DEBET, m_tuneTable.getReserveAccountMasks(attribute.getName(), number, BOCB), false)
                                        +
                                        data.getFilter().isReserveAccountForAccount(RCB_ACSDCL_DEBET,
                                                                    data.getFilter().isSatisfiesToMasksByAccountId("reserveAcc.t_connectAccountId", "50505*")
                                                                + data.getFilter().isNotOffshoreZoneResidentByAccountId("reserveAcc.t_connectAccountId")
                                                                + data.getFilter().isExistsDoc("reserveAcc.t_connectAccountId", m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2)))
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_CREDIT,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB)),
                                        null,

                                        data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_CREDIT, "50507*")
                                        +
                                        data.getFilter().isSecuritiesReserveAccount(RCB_ACSDCL_CREDIT, m_tuneTable.getReserveAccountMasks(attribute.getName(), number, BOCB), false)
                                        +
                                        data.getFilter().isReserveAccountForAccount(RCB_ACSDCL_CREDIT,
                                                                    data.getFilter().isSatisfiesToMasksByAccountId("reserveAcc.t_connectAccountId", "50505*")
                                                                + data.getFilter().isNotOffshoreZoneResidentByAccountId("reserveAcc.t_connectAccountId")
                                                                + data.getFilter().isExistsDoc("reserveAcc.t_connectAccountId", m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2)))
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_DEBET,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB)),
                                        true
                                        );

        attribute.setValue(value);
    end;

/* 3 */
    macro calculateAttributeS256_6(number, attribute)
        var data = m_dataSource.dataGkboDocuments();
        var value = data.getDocumentsSum(data.getFilter().isNotDeltaRate()
                                        + " AND (   (1=1" + data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_DEBET, m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2)) + ")"
                                        + "      OR (1=1" + data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_DEBET, "50505*")
                                                            + data.getFilter().isExistsDoc("doc.t_debetAccountId", m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2))
                                        +"          )"
                                        +"      )"
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_CREDIT,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB)),
                                        null,

                                        data.getFilter().isNotDeltaRate()
                                        + " AND (   (1=1" + data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_CREDIT, m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2)) + ")"
                                        + "      OR (1=1" + data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_CREDIT, "50505*")
                                                            + data.getFilter().isExistsDoc("doc.t_creditAccountId", m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2))
                                        +"          )"
                                        +"      )"
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_DEBET,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB)),
                                        true
                                        );

        if (value < 0)
            value = 0;
        end;

        attribute.setValue(value);

    end;

/* 4 */
    macro calculateAttributeS256_8(number, attribute)
        var data = m_dataSource.dataGkboDocuments();
        var value = data.getDocumentsSum(data.getFilter().isNotDeltaRate()
                                        + " AND (   (1=1" + data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_DEBET, m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2)) + ")"
                                        + "      OR (1=1" + data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_DEBET, "50505*")
                                                            + data.getFilter().isExistsDoc("doc.t_debetAccountId", m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2))
                                        +"          )"
                                        +"      )"
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_CREDIT,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB)),
                                        null,

                                        data.getFilter().isNotDeltaRate()
                                        + " AND (   (1=1" + data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_CREDIT, m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2)) + ")"
                                        + "      OR (1=1" + data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_CREDIT, "50505*")
                                                            + data.getFilter().isExistsDoc("doc.t_creditAccountId", m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2))
                                        +"          )"
                                        +"      )"
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_DEBET,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB)),
                                        true
                                        );

        if (value < 0)
            value = 0;
        end;

        attribute.setValue(value);
    end;

/* 5 */
    macro calculateAttributeS256_9(number, attribute)
        var data = m_dataSource.dataGkboDocuments();
        var value = data.getDocumentsSum(  " AND (   (1=1" + data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_DEBET, m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2)) + ")"
                                        + "      OR (1=1" + data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_DEBET, "50505*")
                                                            + data.getFilter().isExistsDoc("doc.t_debetAccountId", m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2))
                                        +"          )"
                                        +"      )"
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_CREDIT,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB)),
                                        null,

                                            " AND (   (1=1" + data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_CREDIT, m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2)) + ")"
                                        + "      OR (1=1" + data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_CREDIT, "50505*")
                                                            + data.getFilter().isExistsDoc("doc.t_creditAccountId", m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2))
                                        +"          )"
                                        +"      )"
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_DEBET,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB)),
                                        true
                                        );

        if (value < 0)
            value = 0;
        end;

        attribute.setValue(value);
    end;

/* 6 */
    macro calculateAttributeS256_10(number, attribute)
        var data = m_dataSource.dataGkboDocuments();
        var value = data.getDocumentsSum(  " AND (   (1=1" + data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_DEBET, m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2)) + ")"
                                        + "      OR (1=1" + data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_DEBET, "50505*")
                                                            + data.getFilter().isExistsDoc("doc.t_debetAccountId", m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2))
                                        +"          )"
                                        +"      )"
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_CREDIT,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB)),
                                        null,

                                            " AND (   (1=1" + data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_CREDIT, m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2)) + ")"
                                        + "      OR (1=1" + data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_CREDIT, "50505*")
                                                            + data.getFilter().isExistsDoc("doc.t_creditAccountId", m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2))
                                        +"          )"
                                        +"      )"
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_DEBET,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB)),
                                        true
                                        );

        if (value < 0)
            value = 0;
        end;

        attribute.setValue(value);
    end;

/* 7 */
    macro calculateAttributeS27801_1_1(number, attribute)
        var data = m_dataSource.dataGkboDocuments();
        var value = data.getDocumentsSum(data.getFilter().hasAssignedAccountCategory(RCB_ACSDCL_CREDIT, "'Доходы КиИУ КО'", RCB_OBJ_ACCOUNT_GROUP_KIND)
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_CREDIT,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB)),
                                        null,

                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_DEBET,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB))
                                        +
                                        data.getFilter().hasAssignedAccountCategory(RCB_ACSDCL_DEBET, "'Доходы КиИУ КО'", RCB_OBJ_ACCOUNT_GROUP_KIND),
                                        true
                                        );

        if (value < 0)
            value = 0;
        end;

        attribute.setValue(value);
    end;

/* 8 */
    macro calculateAttributeS278_1_2(number, attribute)
        var data = m_dataSource.dataLoansRegChangeHistory();
        if (m_tuneTable.getRegisterNumber(attribute.getName(), number, BOLoans) )
                attribute.setValue(data.getReceiptSum(m_tuneTable.getRegisterNumber(attribute.getName(), number, BOLoans)), BOLoans);
        end;
    end;

/* 9 */
    macro calculateAttributeS28401_1_1(number, attribute)
        var data;
        var value;

        if (global.isCalculatedMmData())
            data = m_dataSource.dataMbkDeals();
            value = data.getDocumentsSum(data.getFilter().getExpenseRevenueAccForFines(m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                                        data.getFilter().getRevenueAccForFinesField()
                                                                                        ),
                                        data.getFilter().getRevenueAccForFinesField()
                                        );
        else
            data = m_dataSource.dataGkboDocuments();
            value = data.getDocumentsSum(data.getFilter().hasAssignedAccountCategory(RCB_ACSDCL_CREDIT, "'Д/Р от КО по ПРДС'", RCB_OBJ_ACCOUNT_GROUP_KIND)
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_CREDIT,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB)),
                                        null,

                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_DEBET,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB))
                                        +
                                        data.getFilter().hasAssignedAccountCategory(RCB_ACSDCL_DEBET, "'Д/Р от КО по ПРДС'", RCB_OBJ_ACCOUNT_GROUP_KIND),
                                        true
                                        );
        end;

        if (value < 0)
            value = 0;
        end;

        attribute.setValue(value);
    end;

/* 10 */
    macro calculateAttributeS28802_1_1(number, attribute)
        var data = m_dataSource.dataGkboDocuments();
        var value = data.getDocumentsSum(data.getFilter().hasAssignedAccountCategory(RCB_ACSDCL_CREDIT, "'Д/Р от КО по ПРДС'", RCB_OBJ_ACCOUNT_GROUP_KIND)
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_CREDIT,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB)),
                                        null,

                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_DEBET,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB))
                                        +
                                        data.getFilter().hasAssignedAccountCategory(RCB_ACSDCL_DEBET, "'Д/Р от КО по ПРДС'", RCB_OBJ_ACCOUNT_GROUP_KIND),
                                        true
                                        );

        if (value < 0)
            value = 0;
        end;

        attribute.setValue(value);
    end;

/* 11 */
    macro calculateAttributeS28802_1_2(number, attribute)
        var data = m_dataSource.dataGkboDocuments();
        var value = data.getDocumentsSum(data.getFilter().hasAssignedAccountCategory(RCB_ACSDCL_CREDIT, "'Д/Р от не КО по ПРДС'", RCB_OBJ_ACCOUNT_GROUP_KIND)
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_CREDIT,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB)),
                                        null,

                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_DEBET,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB))
                                        +
                                        data.getFilter().hasAssignedAccountCategory(RCB_ACSDCL_DEBET, "'Д/Р от не КО по ПРДС'", RCB_OBJ_ACCOUNT_GROUP_KIND),
                                        true
                                        );

        if (value < 0)
            value = 0;
        end;

        attribute.setValue(value);
    end;

/* 12, 13 */
    macro calculateAttributeS_4_1__S_4_2(number, attribute)
        var data = m_dataSource.dataGkboDocuments();
        var value;

        if (global.isCalculatedMmData() and number == "S/4.1")
            value = data.getDocumentsSum(data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_DEBET, m_tuneTable.getReserveAccountMasks(attribute.getName(), number, BOCB))
                                        +
                                        data.getFilter().isNotSecuritiesReserveAccount(RCB_ACSDCL_DEBET, m_tuneTable.getReserveAccountMasks(attribute.getName(), number, BOCB), true)
                                        +" AND ((1=1 " +
                                        data.getFilter().isReserveAccountForAccount(RCB_ACSDCL_DEBET,
                                                                    data.getFilter().isSatisfiesToMasksByAccountId("reserveAcc.t_connectAccountId", m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2))
                                                                    +
                                                                    " AND ((1=1" + data.getFilter().isSatisfiesToMasksByAccountId("reserveAcc.t_connectAccountId", "5*")
                                                                    +              data.getFilter().hasAssignedAccountCategoryByAccountId("(select acc.t_objectId from dRepAccount_vw acc where acc.t_accountId = reserveAcc.t_connectAccountId and rownum = 1)", RCB_OBJGROUP_ACTIVEKIND, "'П/Д'")
                                                                    + "    ) OR (1=1 " + data.getFilter().isNotSatisfiesToMasksByAccountId("reserveAcc.t_connectAccountId", "5*") + ")"
                                                                    +    ")")
                                        +      ") OR (1=1"
                                        +      data.getFilter().isReserveAccountForSubCase(RCB_ACSDCL_DEBET,
                                                                            data.getFilter().isSatisfiesToSubCaseClassifiersMasks(m_tuneTable.getClassifierRvp(attribute.getName(), number, BOCB))
                                                                        + data.getFilter().hasCaseReserveKind(1)
                                                                        )
                                        +      "))"
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_CREDIT,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB)),
                                        null,

                                        data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_DEBET, m_tuneTable.getReserveAccountMasks(attribute.getName(), number, BOIBC))
                                        +
                                        data.getFilter().hasRevenueAccRecoveryRvpOnPerc(RCB_ACSDCL_CREDIT, m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOIBC))
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_CREDIT,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOIBC),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number, BOIBC)),
                                        null,

                                        data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_CREDIT, m_tuneTable.getReserveAccountMasks(attribute.getName(), number, BOIBC))
                                        +
                                        data.getFilter().hasRevenueAccRecoveryRvpOnPerc(RCB_ACSDCL_DEBET, m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOIBC))
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_DEBET,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOIBC),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number, BOIBC)),
                                        true,

                                        data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_CREDIT, m_tuneTable.getReserveAccountMasks(attribute.getName(), number, BOCB))
                                        +" AND ((1=1 "  +
                                        data.getFilter().isReserveAccountForAccount(RCB_ACSDCL_CREDIT,
                                                                    data.getFilter().isSatisfiesToMasksByAccountId("reserveAcc.t_connectAccountId", m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2))
                                                                    +
                                                                    " AND ((1=1" + data.getFilter().isSatisfiesToMasksByAccountId("reserveAcc.t_connectAccountId", "51*")
                                                                    +              data.getFilter().hasAssignedAccountCategoryByAccountId("(select acc.t_objectId from dRepAccount_vw acc where acc.t_accountId = reserveAcc.t_connectAccountId and rownum = 1)", RCB_OBJGROUP_ACTIVEKIND, "'П/Д'")
                                                                    + "    ) OR (1=1 " + data.getFilter().isNotSatisfiesToMasksByAccountId("reserveAcc.t_connectAccountId", "5*") + ")"
                                                                    +    ")")
                                        +      ") OR (1=1"
                                        +      data.getFilter().isReserveAccountForSubCase(RCB_ACSDCL_CREDIT,
                                                                            data.getFilter().isSatisfiesToSubCaseClassifiersMasks(m_tuneTable.getClassifierRvp(attribute.getName(), number, BOCB))
                                                                        + data.getFilter().hasCaseReserveKind(1)
                                                                        )
                                        +      "))"
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_DEBET,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB)),
                                        true,

                                        data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_DEBET, m_tuneTable.getReserveAccountMasks(attribute.getName(), number, BOCB))
                                        +
                                        data.getFilter().isSecuritiesReserveAccount(RCB_ACSDCL_DEBET, m_tuneTable.getReserveAccountMasks(attribute.getName(), number, BOCB), true)
                                        +
                                        data.getFilter().isReserveAccountForAccount(RCB_ACSDCL_DEBET,
                                                                    data.getFilter().isSatisfiesToMasksByAccountId("reserveAcc.t_connectAccountId", m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2)))
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_CREDIT,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB)),
                                        null,

                                        data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_CREDIT, m_tuneTable.getReserveAccountMasks(attribute.getName(), number, BOCB))
                                        +
                                        data.getFilter().isSecuritiesReserveAccount(RCB_ACSDCL_CREDIT, m_tuneTable.getReserveAccountMasks(attribute.getName(), number, BOCB), true)
                                        +
                                        data.getFilter().isReserveAccountForAccount(RCB_ACSDCL_CREDIT,
                                                                    data.getFilter().isSatisfiesToMasksByAccountId("reserveAcc.t_connectAccountId", m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2)))
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_DEBET,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB)),
                                        true
                                        );
        else
            value = data.getDocumentsSum(data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_DEBET, m_tuneTable.getReserveAccountMasks(attribute.getName(), number, BOCB))
                                        +
                                        data.getFilter().isNotSecuritiesReserveAccount(RCB_ACSDCL_DEBET, m_tuneTable.getReserveAccountMasks(attribute.getName(), number, BOCB), true)
                                        +" AND ((1=1 " +
                                        data.getFilter().isReserveAccountForAccount(RCB_ACSDCL_DEBET,
                                                                    data.getFilter().isSatisfiesToMasksByAccountId("reserveAcc.t_connectAccountId", m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2))
                                                                    +
                                                                    " AND ((1=1" + data.getFilter().isSatisfiesToMasksByAccountId("reserveAcc.t_connectAccountId", "5*")
                                                                    +              data.getFilter().hasAssignedAccountCategoryByAccountId("(select acc.t_objectId from dRepAccount_vw acc where acc.t_accountId = reserveAcc.t_connectAccountId and rownum = 1)", RCB_OBJGROUP_ACTIVEKIND, "'П/Д'")
                                                                    + "    ) OR (1=1 " + data.getFilter().isNotSatisfiesToMasksByAccountId("reserveAcc.t_connectAccountId", "5*") + ")"
                                                                    +    ")")
                                        +      ") OR (1=1"
                                        +      data.getFilter().isReserveAccountForSubCase(RCB_ACSDCL_DEBET,
                                                                            data.getFilter().isSatisfiesToSubCaseClassifiersMasks(m_tuneTable.getClassifierRvp(attribute.getName(), number, BOCB))
                                                                        + data.getFilter().hasCaseReserveKind(1)
                                                                        )
                                        +      "))"
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_CREDIT,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB)),
                                        null,

                                        data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_CREDIT, m_tuneTable.getReserveAccountMasks(attribute.getName(), number, BOCB))
                                        +" AND ((1=1 "  +
                                        data.getFilter().isReserveAccountForAccount(RCB_ACSDCL_CREDIT,
                                                                    data.getFilter().isSatisfiesToMasksByAccountId("reserveAcc.t_connectAccountId", m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2))
                                                                    +
                                                                    " AND ((1=1" + data.getFilter().isSatisfiesToMasksByAccountId("reserveAcc.t_connectAccountId", "51*")
                                                                    +              data.getFilter().hasAssignedAccountCategoryByAccountId("(select acc.t_objectId from dRepAccount_vw acc where acc.t_accountId = reserveAcc.t_connectAccountId and rownum = 1)", RCB_OBJGROUP_ACTIVEKIND, "'П/Д'")
                                                                    + "    ) OR (1=1 " + data.getFilter().isNotSatisfiesToMasksByAccountId("reserveAcc.t_connectAccountId", "5*") + ")"
                                                                    +    ")")
                                        +      ") OR (1=1"
                                        +      data.getFilter().isReserveAccountForSubCase(RCB_ACSDCL_CREDIT,
                                                                            data.getFilter().isSatisfiesToSubCaseClassifiersMasks(m_tuneTable.getClassifierRvp(attribute.getName(), number, BOCB))
                                                                        + data.getFilter().hasCaseReserveKind(1)
                                                                        )
                                        +      "))"
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_DEBET,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB)),
                                        true,

                                        data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_DEBET, m_tuneTable.getReserveAccountMasks(attribute.getName(), number, BOCB))
                                        +
                                        data.getFilter().isSecuritiesReserveAccount(RCB_ACSDCL_DEBET, m_tuneTable.getReserveAccountMasks(attribute.getName(), number, BOCB), true)
                                        +
                                        data.getFilter().isReserveAccountForAccount(RCB_ACSDCL_DEBET,
                                                                    data.getFilter().isSatisfiesToMasksByAccountId("reserveAcc.t_connectAccountId", m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2)))
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_CREDIT,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB)),
                                        null,

                                        data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_CREDIT, m_tuneTable.getReserveAccountMasks(attribute.getName(), number, BOCB))
                                        +
                                        data.getFilter().isSecuritiesReserveAccount(RCB_ACSDCL_CREDIT, m_tuneTable.getReserveAccountMasks(attribute.getName(), number, BOCB), true)
                                        +
                                        data.getFilter().isReserveAccountForAccount(RCB_ACSDCL_CREDIT,
                                                                    data.getFilter().isSatisfiesToMasksByAccountId("reserveAcc.t_connectAccountId", m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2)))
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_DEBET,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB)),
                                        true
                                        );
        end;

        attribute.setValue(value);
    end;

/* 14 */
    macro calculateAttributeS_18_1(number, attribute)
        var data = m_dataSource.dataGkboDocuments();
        var value = data.getDocumentsSum(data.getFilter().isOffshoreZoneResident(RCB_ACSDCL_DEBET)
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_CREDIT,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB)),
                                        null,

                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_DEBET,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB))
                                        +
                                        data.getFilter().isOffshoreZoneResident(RCB_ACSDCL_CREDIT),
                                        true
                                        );

        if (value < 0)
            value = 0;
        end;
        attribute.setValue(value);
    end;

/* 15, 16 */
    macro calculateAttributeS375_16__S376_17(number, attribute)
        var data = m_dataSource.dataGkboDocuments();
        var value = data.getDocumentsSum(data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_CREDIT, m_tuneTable.getReserveAccountMasks(attribute.getName(), number, BOCB))
                                        +
                                        data.getFilter().isNotSecuritiesReserveAccount(RCB_ACSDCL_CREDIT, m_tuneTable.getReserveAccountMasks(attribute.getName(), number, BOCB), false)
                                        +" AND ((1=1 " +
                                        data.getFilter().isReserveAccountForAccount(RCB_ACSDCL_CREDIT,
                                                                    data.getFilter().isSatisfiesToMasksByAccountId("reserveAcc.t_connectAccountId", m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2))
                                                                + data.getFilter().hasNotAssignedAccountCategoryByAccountId("reserveAcc.t_connectAccountId", "'П/Д'", RCB_OBJGROUP_ACTIVEKIND)
                                                                + data.getFilter().isNotOffshoreZoneResidentByAccountId("reserveAcc.t_connectAccountId"))
                                        +      ") OR (1=1"
                                        +      data.getFilter().isReserveAccountForSubCase(RCB_ACSDCL_CREDIT,
                                                                            data.getFilter().isNotSatisfiesToSubCaseClassifiersMasks("5.1.3")
                                                                        + data.getFilter().isNotOffshoreZoneResidentForAnyAccountOfSubCase()
                                                                        )
                                        +      "))"
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_DEBET,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB)),
                                        null,

                                        data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_DEBET, m_tuneTable.getReserveAccountMasks(attribute.getName(), number, BOCB))
                                        +
                                        data.getFilter().isNotSecuritiesReserveAccount(RCB_ACSDCL_DEBET, m_tuneTable.getReserveAccountMasks(attribute.getName(), number, BOCB), false)
                                        +" AND ((1=1 " +
                                        data.getFilter().isReserveAccountForAccount(RCB_ACSDCL_DEBET,
                                                                    data.getFilter().isSatisfiesToMasksByAccountId("reserveAcc.t_connectAccountId", m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2))
                                                                + data.getFilter().hasNotAssignedAccountCategoryByAccountId("reserveAcc.t_connectAccountId", "'П/Д'", RCB_OBJGROUP_ACTIVEKIND)
                                                                + data.getFilter().isNotOffshoreZoneResidentByAccountId("reserveAcc.t_connectAccountId"))
                                        +      ") OR (1=1"
                                        +      data.getFilter().isReserveAccountForSubCase(RCB_ACSDCL_DEBET,
                                                                            data.getFilter().isNotSatisfiesToSubCaseClassifiersMasks("5.1.3")
                                                                        + data.getFilter().isNotOffshoreZoneResidentForAnyAccountOfSubCase()
                                                                        )
                                        +      "))"
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_CREDIT,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB)),
                                        true,
                    // sum 2
                                        data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_CREDIT, m_tuneTable.getReserveAccountMasks(attribute.getName(), number, BOCB))
                                        +
                                        data.getFilter().isSecuritiesReserveAccount(RCB_ACSDCL_CREDIT, m_tuneTable.getReserveAccountMasks(attribute.getName(), number, BOCB), false)
                                        +
                                        data.getFilter().isReserveAccountForAccount(RCB_ACSDCL_CREDIT,
                                                                    data.getFilter().isSatisfiesToMasksByAccountId("reserveAcc.t_connectAccountId", m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2))
                                                                + data.getFilter().isNotOffshoreZoneResidentByAccountId("reserveAcc.t_connectAccountId"))
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_DEBET,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB)),
                                        null,

                                        data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_DEBET, m_tuneTable.getReserveAccountMasks(attribute.getName(), number, BOCB))
                                        +
                                        data.getFilter().isSecuritiesReserveAccount(RCB_ACSDCL_DEBET, m_tuneTable.getReserveAccountMasks(attribute.getName(), number, BOCB), false)
                                        +
                                        data.getFilter().isReserveAccountForAccount(RCB_ACSDCL_DEBET,
                                                                    data.getFilter().isSatisfiesToMasksByAccountId("reserveAcc.t_connectAccountId", m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2))
                                                                + data.getFilter().isNotOffshoreZoneResidentByAccountId("reserveAcc.t_connectAccountId"))
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_CREDIT,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB)),
                                        true,

                    // sum 3
                                        data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_CREDIT, "50507*")
                                        +
                                        data.getFilter().isNotSecuritiesReserveAccount(RCB_ACSDCL_CREDIT, m_tuneTable.getReserveAccountMasks(attribute.getName(), number, BOCB), false)
                                        +" AND ((1=1 " +
                                        data.getFilter().isReserveAccountForAccount(RCB_ACSDCL_CREDIT,
                                                                    data.getFilter().isSatisfiesToMasksByAccountId("reserveAcc.t_connectAccountId", "50505*")
                                                                + data.getFilter().isExistsDoc("reserveAcc.t_connectAccountId", m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2),
                                                                                                data.getFilter().hasNotAssignedAccountCategoryByAccountId("existsDoc.t_creditAccountId", "'П/Д'", RCB_OBJGROUP_ACTIVEKIND)
                                                                                                + data.getFilter().isNotOffshoreZoneResidentByAccountId("existsDoc.t_creditAccountId")))
                                        +      ") OR (1=1"
                                        +      data.getFilter().isReserveAccountForSubCase(RCB_ACSDCL_CREDIT,
                                                                            data.getFilter().isNotSatisfiesToSubCaseClassifiersMasks("5.1.3")
                                                                        + data.getFilter().isNotOffshoreZoneResidentForAnyAccountOfSubCase()
                                                                        )
                                        +      "))"
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_DEBET,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB)),
                                        null,

                                        data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_DEBET, "50507*")
                                        +
                                        data.getFilter().isNotSecuritiesReserveAccount(RCB_ACSDCL_DEBET, m_tuneTable.getReserveAccountMasks(attribute.getName(), number, BOCB), false)
                                        +" AND ((1=1 " +
                                        data.getFilter().isReserveAccountForAccount(RCB_ACSDCL_DEBET,
                                                                    data.getFilter().isSatisfiesToMasksByAccountId("reserveAcc.t_connectAccountId", "50505*")
                                                                + data.getFilter().isExistsDoc("reserveAcc.t_connectAccountId", m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2),
                                                                                                data.getFilter().hasNotAssignedAccountCategoryByAccountId("existsDoc.t_creditAccountId", "'П/Д'", RCB_OBJGROUP_ACTIVEKIND)
                                                                                                + data.getFilter().isNotOffshoreZoneResidentByAccountId("existsDoc.t_creditAccountId")))
                                        +      ") OR (1=1"
                                        +      data.getFilter().isReserveAccountForSubCase(RCB_ACSDCL_DEBET,
                                                                            data.getFilter().isNotSatisfiesToSubCaseClassifiersMasks("5.1.3")
                                                                        + data.getFilter().isNotOffshoreZoneResidentForAnyAccountOfSubCase()
                                                                        )
                                        +      "))"
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_CREDIT,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB)),
                                        true,
                    // sum 4
                                        data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_CREDIT, "50507*")
                                        +
                                        data.getFilter().isSecuritiesReserveAccount(RCB_ACSDCL_CREDIT, m_tuneTable.getReserveAccountMasks(attribute.getName(), number, BOCB), false)
                                        +
                                        data.getFilter().isReserveAccountForAccount(RCB_ACSDCL_CREDIT,
                                                                    data.getFilter().isSatisfiesToMasksByAccountId("reserveAcc.t_connectAccountId", "50505*")
                                                                + data.getFilter().isNotOffshoreZoneResidentByAccountId("reserveAcc.t_connectAccountId")
                                                                + data.getFilter().isExistsDoc("reserveAcc.t_connectAccountId", m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2)))
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_DEBET,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB)),
                                        null,

                                        data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_DEBET, "50507*")
                                        +
                                        data.getFilter().isSecuritiesReserveAccount(RCB_ACSDCL_DEBET, m_tuneTable.getReserveAccountMasks(attribute.getName(), number, BOCB), false)
                                        +
                                        data.getFilter().isReserveAccountForAccount(RCB_ACSDCL_DEBET,
                                                                    data.getFilter().isSatisfiesToMasksByAccountId("reserveAcc.t_connectAccountId", "50505*")
                                                                + data.getFilter().isNotOffshoreZoneResidentByAccountId("reserveAcc.t_connectAccountId")
                                                                + data.getFilter().isExistsDoc("reserveAcc.t_connectAccountId", m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2)))
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_CREDIT,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB)),
                                        true
                                        );

        attribute.setValue(value);
    end;

/* 17 */
    macro calculateAttributeS456_6(number, attribute)
        var data = m_dataSource.dataGkboDocuments();

        var value = data.getDocumentsSum(data.getFilter().isNotDeltaRate()
                                        + " AND (   (1=1" + data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_CREDIT, m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2)) + ")"
                                        + "      OR (1=1" + data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_CREDIT, "50505*")
                                                            + data.getFilter().isExistsDoc("doc.t_creditAccountId", m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2))
                                        +"          )"
                                        +"      )"
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_DEBET,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB)),
                                        null,

                                        data.getFilter().isNotDeltaRate()
                                        + " AND (   (1=1" + data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_DEBET, m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2)) + ")"
                                        + "      OR (1=1" + data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_DEBET, "50505*")
                                                            + data.getFilter().isExistsDoc("doc.t_debetAccountId", m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2))
                                        +"          )"
                                        +"      )"
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_CREDIT,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB)),
                                        true
                                        );

        if (value < 0)
            value = 0;
        end;

        attribute.setValue(value);
    end;

/* 18 */
    macro calculateAttributeS456_8(number, attribute)
        var data = m_dataSource.dataGkboDocuments();
        var value = data.getDocumentsSum(data.getFilter().isNotDeltaRate()
                                        + " AND (   (1=1" + data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_CREDIT, m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2)) + ")"
                                        + "      OR (1=1" + data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_CREDIT, "50505*")
                                                            + data.getFilter().isExistsDoc("doc.t_creditAccountId", m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2))
                                        +"          )"
                                        +"      )"
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_DEBET,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB)),
                                        null,

                                        data.getFilter().isNotDeltaRate()
                                        + " AND (   (1=1" + data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_DEBET, m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2)) + ")"
                                        + "      OR (1=1" + data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_DEBET, "50505*")
                                                            + data.getFilter().isExistsDoc("doc.t_debetAccountId", m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2))
                                        +"          )"
                                        +"      )"
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_CREDIT,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB)),
                                        true
                                        );

        if (value < 0)
            value = 0;
        end;

        attribute.setValue(value);
    end;

/* 19 */
    macro calculateAttributeS456_9(number, attribute)
        var data = m_dataSource.dataGkboDocuments();
        var value = data.getDocumentsSum(  " AND (   (1=1" + data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_CREDIT, m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2)) + ")"
                                        + "      OR (1=1" + data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_CREDIT, "50505*")
                                                            + data.getFilter().isExistsDoc("doc.t_creditAccountId", m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2))
                                        +"          )"
                                        +"      )"
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_DEBET,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB)),
                                        null,

                                            " AND (   (1=1" + data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_DEBET, m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2)) + ")"
                                        + "      OR (1=1" + data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_DEBET, "50505*")
                                                            + data.getFilter().isExistsDoc("doc.t_debetAccountId", m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2))
                                        +"          )"
                                        +"      )"
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_CREDIT,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB)),
                                        true
                                        );

        if (value < 0)
            value = 0;
        end;

        attribute.setValue(value);
    end;

/* 20 */
    macro calculateAttributeS456_10(number, attribute)
        var data = m_dataSource.dataGkboDocuments();
        var value = data.getDocumentsSum(  " AND (   (1=1" + data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_CREDIT, m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2)) + ")"
                                        + "      OR (1=1" + data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_CREDIT, "50505*")
                                                            + data.getFilter().isExistsDoc("doc.t_creditAccountId", m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2))
                                        +"          )"
                                        +"      )"
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_DEBET,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB)),
                                        null,

                                            " AND (   (1=1" + data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_DEBET, m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2)) + ")"
                                        + "      OR (1=1" + data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_DEBET, "50505*")
                                                            + data.getFilter().isExistsDoc("doc.t_debetAccountId", m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2))
                                        +"          )"
                                        +"      )"
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_CREDIT,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB)),
                                        true
                                        );

        if (value < 0)
            value = 0;
        end;

        attribute.setValue(value);
    end;

/* 21 */
    macro calculateAttributeS47401_2_1(number, attribute)
        var data;
        var value;

        if (global.isCalculatedMmData())
            data = m_dataSource.dataMbkDeals();
            value = data.getDocumentsSum(data.getFilter().getExpenseRevenueAccForFines(m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                                        data.getFilter().getExpenseAccForFinesField()
                                                                                        ),
                                        data.getFilter().getExpenseAccForFinesField()
                                        );
        else
            data = m_dataSource.dataGkboDocuments();
            value = data.getDocumentsSum(data.getFilter().hasAssignedAccountCategory(RCB_ACSDCL_DEBET, "'Д/Р от КО по ПРДС'", RCB_OBJ_ACCOUNT_GROUP_KIND)
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_DEBET,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB)),
                                        null,

                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_CREDIT,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB))
                                        +
                                        data.getFilter().hasAssignedAccountCategory(RCB_ACSDCL_CREDIT, "'Д/Р от КО по ПРДС'", RCB_OBJ_ACCOUNT_GROUP_KIND),
                                        true
                                        );
        end;

        if (value < 0)
            value = 0;
        end;

        attribute.setValue(value);
    end;

/* 22 */
    macro calculateAttributeS47802_2_1(number, attribute)
        var data = m_dataSource.dataGkboDocuments();
        var value = data.getDocumentsSum(data.getFilter().hasAssignedAccountCategory(RCB_ACSDCL_DEBET, "'Д/Р от КО по ПРДС'", RCB_OBJ_ACCOUNT_GROUP_KIND)
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_DEBET,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB)),
                                        null,

                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_CREDIT,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB))
                                        +
                                        data.getFilter().hasAssignedAccountCategory(RCB_ACSDCL_CREDIT, "'Д/Р от КО по ПРДС'", RCB_OBJ_ACCOUNT_GROUP_KIND),
                                        true
                                        );

        if (value < 0)
            value = 0;
        end;

        attribute.setValue(value);
    end;

/* 23 */
    macro calculateAttributeS47802_2_2(number, attribute)
        var data = m_dataSource.dataGkboDocuments();
        var value = data.getDocumentsSum(data.getFilter().hasAssignedAccountCategory(RCB_ACSDCL_DEBET, "'Д/Р от не КО по ПРДС'", RCB_OBJ_ACCOUNT_GROUP_KIND)
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_DEBET,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB)),
                                        null,

                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_CREDIT,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB))
                                        +
                                        data.getFilter().hasAssignedAccountCategory(RCB_ACSDCL_CREDIT, "'Д/Р от не КО по ПРДС'", RCB_OBJ_ACCOUNT_GROUP_KIND),
                                        true
                                        );

        if (value < 0)
            value = 0;
        end;

        attribute.setValue(value);
    end;

/* 24, 25 */
    macro calculateAttributeS_4_3__S_4_4(number, attribute)
        var data = m_dataSource.dataGkboDocuments();
        var value;

        if (global.isCalculatedMmData() and number == "S/4.3")
            value = data.getDocumentsSum(//Сумма_1.1
                                        data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_CREDIT, m_tuneTable.getReserveAccountMasks(attribute.getName(), number, BOCB))
                                        +
                                        data.getFilter().isNotSecuritiesReserveAccount(RCB_ACSDCL_CREDIT, m_tuneTable.getReserveAccountMasks(attribute.getName(), number, BOCB), true)
                                        +" AND ((1=1 " +
                                        data.getFilter().isReserveAccountForAccount(RCB_ACSDCL_CREDIT,
                                                                    data.getFilter().isSatisfiesToMasksByAccountId("reserveAcc.t_connectAccountId", m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2))
                                                                    +
                                                                    " AND ((1=1" + data.getFilter().isSatisfiesToMasksByAccountId("reserveAcc.t_connectAccountId", "5*")
                                                                    +              data.getFilter().hasAssignedAccountCategoryByAccountId("(select acc.t_objectId from dRepAccount_vw acc where acc.t_accountId = reserveAcc.t_connectAccountId and rownum = 1)", RCB_OBJGROUP_ACTIVEKIND, "'П/Д'")
                                                                    + "    ) OR (1=1 " + data.getFilter().isNotSatisfiesToMasksByAccountId("reserveAcc.t_connectAccountId", "5*") + ")"
                                                                    +    ")")
                                        +      ") OR (1=1"
                                        +      data.getFilter().isReserveAccountForSubCase(RCB_ACSDCL_CREDIT,
                                                                            data.getFilter().isSatisfiesToSubCaseClassifiersMasks(m_tuneTable.getClassifierRvp(attribute.getName(), number, BOCB))
                                                                        + data.getFilter().hasCaseReserveKind(1)
                                                                        )
                                        +      "))"
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_DEBET,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB)),
                                        null,

                                        data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_DEBET, m_tuneTable.getReserveAccountMasks(attribute.getName(), number, BOCB))
                                        +" AND ((1=1 "  +
                                        data.getFilter().isReserveAccountForAccount(RCB_ACSDCL_DEBET,
                                                                    data.getFilter().isSatisfiesToMasksByAccountId("reserveAcc.t_connectAccountId", m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2))
                                                                    +
                                                                    " AND ((1=1" + data.getFilter().isSatisfiesToMasksByAccountId("reserveAcc.t_connectAccountId", "51*")
                                                                    +              data.getFilter().hasAssignedAccountCategoryByAccountId("(select acc.t_objectId from dRepAccount_vw acc where acc.t_accountId = reserveAcc.t_connectAccountId and rownum = 1)", RCB_OBJGROUP_ACTIVEKIND, "'П/Д'")
                                                                    + "    ) OR (1=1 " + data.getFilter().isNotSatisfiesToMasksByAccountId("reserveAcc.t_connectAccountId", "5*") + ")"
                                                                    +    ")")
                                        +      ") OR (1=1"
                                        +      data.getFilter().isReserveAccountForSubCase(RCB_ACSDCL_DEBET,
                                                                            data.getFilter().isSatisfiesToSubCaseClassifiersMasks(m_tuneTable.getClassifierRvp(attribute.getName(), number, BOCB))
                                                                        + data.getFilter().hasCaseReserveKind(1)
                                                                        )
                                        +      "))"
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_CREDIT,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB)),
                                        true,
                                        //Сумма_1.2
                                        data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_CREDIT, m_tuneTable.getReserveAccountMasks(attribute.getName(), number, BOIBC))
                                        +
                                        data.getFilter().hasExpenseAccRvpPercLocMeans(RCB_ACSDCL_DEBET, m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOIBC))
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_DEBET,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOIBC),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number, BOIBC)),
                                        null,

                                        data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_DEBET, m_tuneTable.getReserveAccountMasks(attribute.getName(), number, BOIBC))
                                        +
                                        data.getFilter().hasExpenseAccRvpPercLocMeans(RCB_ACSDCL_CREDIT, m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOIBC))
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_CREDIT,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOIBC),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number, BOIBC)),
                                        true,
                                        //Сумма_2
                                        data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_CREDIT, m_tuneTable.getReserveAccountMasks(attribute.getName(), number, BOCB))
                                        +
                                        data.getFilter().isSecuritiesReserveAccount(RCB_ACSDCL_CREDIT, m_tuneTable.getReserveAccountMasks(attribute.getName(), number, BOCB), true)
                                        +
                                        data.getFilter().isReserveAccountForAccount(RCB_ACSDCL_CREDIT,
                                                                    data.getFilter().isSatisfiesToMasksByAccountId("reserveAcc.t_connectAccountId", m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2)))
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_DEBET,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB)),
                                        null,

                                        data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_DEBET, m_tuneTable.getReserveAccountMasks(attribute.getName(), number, BOCB))
                                        +
                                        data.getFilter().isSecuritiesReserveAccount(RCB_ACSDCL_DEBET, m_tuneTable.getReserveAccountMasks(attribute.getName(), number, BOCB), true)
                                        +
                                        data.getFilter().isReserveAccountForAccount(RCB_ACSDCL_DEBET,
                                                                    data.getFilter().isSatisfiesToMasksByAccountId("reserveAcc.t_connectAccountId", m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2)))
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_CREDIT,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB)),
                                        true
                                        );
        else
            value = data.getDocumentsSum(data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_CREDIT, m_tuneTable.getReserveAccountMasks(attribute.getName(), number, BOCB))
                                        +
                                        data.getFilter().isNotSecuritiesReserveAccount(RCB_ACSDCL_CREDIT, m_tuneTable.getReserveAccountMasks(attribute.getName(), number, BOCB), true)
                                        +" AND ((1=1 " +
                                        data.getFilter().isReserveAccountForAccount(RCB_ACSDCL_CREDIT,
                                                                    data.getFilter().isSatisfiesToMasksByAccountId("reserveAcc.t_connectAccountId", m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2))
                                                                    +
                                                                    " AND ((1=1" + data.getFilter().isSatisfiesToMasksByAccountId("reserveAcc.t_connectAccountId", "5*")
                                                                    +              data.getFilter().hasAssignedAccountCategoryByAccountId("(select acc.t_objectId from dRepAccount_vw acc where acc.t_accountId = reserveAcc.t_connectAccountId and rownum = 1)", RCB_OBJGROUP_ACTIVEKIND, "'П/Д'")
                                                                    + "    ) OR (1=1 " + data.getFilter().isNotSatisfiesToMasksByAccountId("reserveAcc.t_connectAccountId", "5*") + ")"
                                                                    +    ")")
                                        +      ") OR (1=1"
                                        +      data.getFilter().isReserveAccountForSubCase(RCB_ACSDCL_CREDIT,
                                                                            data.getFilter().isSatisfiesToSubCaseClassifiersMasks(m_tuneTable.getClassifierRvp(attribute.getName(), number, BOCB))
                                                                        + data.getFilter().hasCaseReserveKind(1)
                                                                        )
                                        +      "))"
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_DEBET,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB)),
                                        null,

                                        data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_DEBET, m_tuneTable.getReserveAccountMasks(attribute.getName(), number, BOCB))
                                        +" AND ((1=1 "  +
                                        data.getFilter().isReserveAccountForAccount(RCB_ACSDCL_DEBET,
                                                                    data.getFilter().isSatisfiesToMasksByAccountId("reserveAcc.t_connectAccountId", m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2))
                                                                    +
                                                                    " AND ((1=1" + data.getFilter().isSatisfiesToMasksByAccountId("reserveAcc.t_connectAccountId", "51*")
                                                                    +              data.getFilter().hasAssignedAccountCategoryByAccountId("(select acc.t_objectId from dRepAccount_vw acc where acc.t_accountId = reserveAcc.t_connectAccountId and rownum = 1)", RCB_OBJGROUP_ACTIVEKIND, "'П/Д'")
                                                                    + "    ) OR (1=1 " + data.getFilter().isNotSatisfiesToMasksByAccountId("reserveAcc.t_connectAccountId", "5*") + ")"
                                                                    +    ")")
                                        +      ") OR (1=1"
                                        +      data.getFilter().isReserveAccountForSubCase(RCB_ACSDCL_DEBET,
                                                                            data.getFilter().isSatisfiesToSubCaseClassifiersMasks(m_tuneTable.getClassifierRvp(attribute.getName(), number, BOCB))
                                                                        + data.getFilter().hasCaseReserveKind(1)
                                                                        )
                                        +      "))"
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_CREDIT,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB)),
                                        true,

                                        data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_CREDIT, m_tuneTable.getReserveAccountMasks(attribute.getName(), number, BOCB))
                                        +
                                        data.getFilter().isSecuritiesReserveAccount(RCB_ACSDCL_CREDIT, m_tuneTable.getReserveAccountMasks(attribute.getName(), number, BOCB), true)
                                        +
                                        data.getFilter().isReserveAccountForAccount(RCB_ACSDCL_CREDIT,
                                                                    data.getFilter().isSatisfiesToMasksByAccountId("reserveAcc.t_connectAccountId", m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2)))
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_DEBET,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB)),
                                        null,

                                        data.getFilter().isSatisfiesToDebetCreditMasks(RCB_ACSDCL_DEBET, m_tuneTable.getReserveAccountMasks(attribute.getName(), number, BOCB))
                                        +
                                        data.getFilter().isSecuritiesReserveAccount(RCB_ACSDCL_DEBET, m_tuneTable.getReserveAccountMasks(attribute.getName(), number, BOCB), true)
                                        +
                                        data.getFilter().isReserveAccountForAccount(RCB_ACSDCL_DEBET,
                                                                    data.getFilter().isSatisfiesToMasksByAccountId("reserveAcc.t_connectAccountId", m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 2)))
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_CREDIT,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB)),
                                        true
                                        );
        end;

        attribute.setValue(value);
    end;

/* 26 */
    macro calculateAttributeS_18_2(number, attribute)
        var data = m_dataSource.dataGkboDocuments();
        var value = data.getDocumentsSum(data.getFilter().isOffshoreZoneResident(RCB_ACSDCL_CREDIT)
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_DEBET,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB)),
                                        null,

                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_CREDIT,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB))
                                        +
                                        data.getFilter().isOffshoreZoneResident(RCB_ACSDCL_DEBET),
                                        true
                                        );

        if (value < 0)
            value = 0;
        end;
        attribute.setValue(value);
    end;

    macro calculateUserAttribute(number, attribute)
        /*копирование пользовательских данных*/
        var userValue = m_report.getUserAttribute(attribute.getName()).getExactValue();
        m_protocol.printUserDataCopyMessage(userValue);
        attribute.setValue(userValue);
    end;

    private macro initAttributes()
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "1", "A102/16",    r2m(this,"calculateAttributeAsRestOnPrimaryAccount"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "2", "A20321/3.1", r2m(this,"calculateAttributeA20321_3_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "3", "A30126/3.1", r2m(this,"calculateAttributeA30126_3_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "4", "A30226/3.1", r2m(this,"calculateAttributeA30226_3_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "5", "A30215/2",   r2m(this,"calculateAttributeА30215_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "6", "A40109/5.1", r2m(this,"calculateAttributeA40109_5_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "7", "A40109/9.1", r2m(this,"calculateAttributeA40109_9_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "8", "A50505/4",   r2m(this,"calculateAttributeA50505_4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "9", "A50505/6.1", r2m(this,"calculateAttributeA50505_6_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "10","A50507/4",   r2m(this,"calculateAttributeA50507_4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("11", "A50507/6.2", r2m(this,"calculateAttributeA50507_6_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("12", "A50319/17",  r2m(this,"calculateAttributeA50319_17"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("13", "A50719/17",  r2m(this,"calculateAttributeA50719_17"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("14", "A60206/6.3", r2m(this,"calculateAttributeA60206_6_3"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("15", "A/3.2",      r2m(this,"calculateAttributeA_3_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("16", "A/3.3",      r2m(this,"calculateAttributeA_3_3"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("17", "A/3.4",      r2m(this,"calculateAttributeA_3_4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("18", "A/5.2",      r2m(this,"calculateAttributeA_5_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("19", "A/5.3",      r2m(this,"calculateAttributeА_5_3"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("20", "A/5.4",      r2m(this,"calculateAttributeА_5_4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("21", "A/6.4",      r2m(this,"calculateAttributeA_6_4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("22", "A/9.2",      r2m(this,"calculateAttributeA_9_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("23", "A/9.3",      r2m(this,"calculateAttributeA_9_3"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("24", "A/12",       r2m(this,"calculateAttributeA_12"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("25", "A/13.1",     r2m(this,"calculateAttributeA_13_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("26", "A/13.1.1",   r2m(this,"calculateAttributeA_13_1_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("27", "A/13.2",     r2m(this,"calculateAttributeA_13_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("28", "A/14.1",     r2m(this,"calculateAttributeAsRestOnPrimaryAccount"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("29", "A/14.2",     r2m(this,"calculateAttributeAsRestOnPrimaryAccount"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("30", "A60302/8",   r2m(this,"calculateAttribute_A603"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("31", "A60301/16",  r2m(this,"calculateAttribute_A603"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("32", "A10609/28",  r2m(this,"calculateAttribute_A10609"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("33", "A10610/28",  r2m(this,"calculateAttribute_A10610"));

        m_calculateDataArray[m_calculateDataArray.size] = calculateData("1", "S155/16",  r2m(this,"calculateAttributeS155_16__S155_17"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("2", "S156/17",  r2m(this,"calculateAttributeS155_16__S155_17"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("3", "S256/6",  r2m(this,"calculateUserAttribute"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("4", "S256/8",  r2m(this,"calculateUserAttribute"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("5", "S256/9",  r2m(this,"calculateAttributeS256_9"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("6", "S256/10",  r2m(this,"calculateAttributeS256_10"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("7", "S27801/1.1",  r2m(this,"calculateAttributeS27801_1_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("8", "S278/1.2",  r2m(this,"calculateAttributeS278_1_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("9", "S28401/1.1",  r2m(this,"calculateAttributeS28401_1_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("10", "S28802/1.1",  r2m(this,"calculateAttributeS28802_1_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("11", "S28802/1.2",  r2m(this,"calculateAttributeS28802_1_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("12", "S/4.1",  r2m(this,"calculateAttributeS_4_1__S_4_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("13", "S/4.2",  r2m(this,"calculateAttributeS_4_1__S_4_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("14", "S/18.1",  r2m(this,"calculateAttributeS_18_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("15", "S375/16",  r2m(this,"calculateAttributeS375_16__S376_17"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("16", "S376/17",  r2m(this,"calculateAttributeS375_16__S376_17"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("17", "S456/6",  r2m(this,"calculateUserAttribute"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("18", "S456/8",  r2m(this,"calculateUserAttribute"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("19", "S456/9",  r2m(this,"calculateAttributeS456_9"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("20", "S456/10",  r2m(this,"calculateAttributeS456_10"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("21", "S47401/2.1",  r2m(this,"calculateAttributeS47401_2_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("22", "S47802/2.1",  r2m(this,"calculateAttributeS47802_2_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("23", "S47802/2.2",  r2m(this,"calculateAttributeS47802_2_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("24", "S/4.3",  r2m(this,"calculateAttributeS_4_3__S_4_4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("25", "S/4.4",  r2m(this,"calculateAttributeS_4_3__S_4_4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("26", "S/18.2",  r2m(this,"calculateAttributeS_18_2"));

        m_calculateDataArray[m_calculateDataArray.size] = calculateData("1", "5101", r2m(this,"calculateAttribute4301OR5101"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("2", "6101", r2m(this,"calculateAttribute6101"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("3", "6102", r2m(this,"calculateAttribute6102"));

        m_calculateDataArray[m_calculateDataArray.size] = calculateData("1", "D/0",    r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("2", "D/1",    r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("3", "D/2",    r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("4", "D/3",    r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("5", "D/5",    r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("6", "D/7",    r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("7", "D/9",    r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("8", "D/10",   r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("9", "D/11",   r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("10", "D/12",  r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("11", "D/13",  r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("12", "D/14",  r2m(this,"calculateAttributeIsOrgansOfGovernment"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("13", "D/15",  r2m(this,"calculateAttributeD15"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("14", "D/16",  r2m(this,"calculateAttributeIsBankResident"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("15", "D/17",  r2m(this,"calculateAttributeD17"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("16", "D/18",  r2m(this,"calculateAttributeNonResident"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("17", "D/19",  r2m(this,"calculateAttributeIsCentralBank"));

        m_calculateDataArray[m_calculateDataArray.size] = calculateData("18", "IL/1",  r2m(this,"calculateAttributeIL1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("19", "IL/2",  r2m(this,"calculateAttributeNonResident"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("20", "IL/3",  r2m(this,"calculateAttributeIsCentralBank"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("21", "IL/4",  r2m(this,"calculateAttributeIsBankResident"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("22", "IL/5",  r2m(this,"calculateAttributeIsFinanceMinistry"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("23", "IL/6",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL6"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("24", "IL/7",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL7_IA4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("25", "IL/8",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL8_IA5"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("26", "IL/9",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL9_IA6"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("27", "IL/10", r2m(this,"calculateAttributeHasAssignedPartyCategoryIL10_IA7"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("28", "IL/11", r2m(this,"calculateAttributeHasAssignedPartyCategoryIL11_IA8"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("29", "IL/12", r2m(this,"calculateAttributeIsEmployer"));

        m_calculateDataArray[m_calculateDataArray.size] = calculateData("30", "IA/1",  r2m(this,"calculateAttributeNonResident"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("31", "IA/2",  r2m(this,"calculateAttributeIsCentralBank"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("32", "IA/3",  r2m(this,"calculateAttributeIsBankResident"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("33", "IA/4",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL7_IA4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("34", "IA/5",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL8_IA5"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("35", "IA/6",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL9_IA6"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("36", "IA/7",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL10_IA7"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("37", "IA/8",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL11_IA8"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("38", "IA/9",  r2m(this,"calculateAttributeIsEmployer"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("39", "IA/10", r2m(this,"calculateAttributeIA10"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("40", "R/1",   r2m(this,"calculateAttributeR1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("41", "R/2",   r2m(this,"calculateAttributeR2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("42", "R/3",   r2m(this,"calculateAttributeR3"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("43", "R/4",   r2m(this,"calculateAttributeR4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("44", "R/5",   r2m(this,"calculateAttributeR5"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("45", "R/6",   r2m(this,"calculateAttributeR6"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("46", "R/7",   r2m(this,"calculateAttributeR7"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("47", "R/8",   r2m(this,"calculateAttributeR8"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("48", "R/9",   r2m(this,"calculateAttributeR9"));
    end;
end;

class (TCalculationController3875) TCalculationController4033()
    initTCalculationController3875();

    /* 27 */
    macro calculateAttributeS_28204_4_1(number, attribute)
        var data           = m_dataSource.dataGkboDocuments();
        var cacheAccount   = m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB);
        var cacheSumbolOpu = m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB);

        var value;
        if (global.isCalculatedMmData())
            value = data.getDocumentsSum("\n AND " +data.getFilter().hasAssignedDebetCreditAccountCategory("'РВП по штрафам по разм. ден. сред.'", RCB_OBJ_ACCOUNT_GROUP_KIND)
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_CREDIT,
                                                                            cacheAccount,
                                                                            cacheSumbolOpu)
                                        +
                                        data.getFilter().hasNotRevenueAccRecoveryRvpAtFines(RCB_ACSDCL_CREDIT, cacheAccount),
                                        false,

                                        data.getFilter().hasRevenueAccRecoveryRvpAtFines(RCB_ACSDCL_CREDIT, cacheAccount)
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_CREDIT,
                                                                            cacheAccount,
                                                                            cacheSumbolOpu),
                                        false,

                                        "\n AND " +
                                        data.getFilter().hasAssignedDebetCreditAccountCategory("'РВП по штрафам по разм. ден. сред.'", RCB_OBJ_ACCOUNT_GROUP_KIND)
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_DEBET,
                                                                            cacheAccount,
                                                                            cacheSumbolOpu)
                                        +
                                        data.getFilter().hasNotRevenueAccRecoveryRvpAtFines(RCB_ACSDCL_DEBET, cacheAccount),
                                        true,

                                        data.getFilter().hasRevenueAccRecoveryRvpAtFines(RCB_ACSDCL_DEBET, cacheAccount)
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_DEBET,
                                                                            cacheAccount,
                                                                            cacheSumbolOpu),
                                        true
                                        );
        else
            value = data.getDocumentsSum("\n AND " +data.getFilter().hasAssignedDebetCreditAccountCategory("'РВП по штрафам по разм. ден. сред.'", RCB_OBJ_ACCOUNT_GROUP_KIND)
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_CREDIT,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB)),
                                        false,
                                        "\n AND " +
                                        data.getFilter().hasAssignedDebetCreditAccountCategory("'РВП по штрафам по разм. ден. сред.'", RCB_OBJ_ACCOUNT_GROUP_KIND)
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_DEBET,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB)),
                                        true
                                        );
        end;

        if (value < 0)
            value = 0;
        end;

        attribute.setValue(value);
    end;

    /* 28 */
    macro calculateAttributeS_47304_4_1(number, attribute)
        var data           = m_dataSource.dataGkboDocuments();
        var cacheAccount   = m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB);
        var cacheSumbolOpu = m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB);

        var value;
        if (global.isCalculatedMmData())
            value = data.getDocumentsSum("\n AND " + data.getFilter().hasAssignedDebetCreditAccountCategory("'РВП по штрафам по разм. ден. сред.'", RCB_OBJ_ACCOUNT_GROUP_KIND)
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_DEBET,
                                                                            cacheAccount,
                                                                            cacheSumbolOpu)

                                        +
                                        data.getFilter().hasNotExpenseAccRvpAtFines(RCB_ACSDCL_DEBET, cacheAccount),
                                        false,

                                        data.getFilter().hasExpenseAccRvpAtFines(RCB_ACSDCL_DEBET, cacheAccount)
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_DEBET,
                                                                            cacheAccount,
                                                                            cacheSumbolOpu),
                                        false,

                                        "\n AND " +
                                        data.getFilter().hasAssignedDebetCreditAccountCategory("'РВП по штрафам по разм. ден. сред.'", RCB_OBJ_ACCOUNT_GROUP_KIND)
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_CREDIT,
                                                                            cacheAccount,
                                                                            cacheSumbolOpu)
                                        +
                                        data.getFilter().hasNotExpenseAccRvpAtFines(RCB_ACSDCL_CREDIT, cacheAccount),
                                        true,

                                        data.getFilter().hasExpenseAccRvpAtFines(RCB_ACSDCL_CREDIT, cacheAccount)
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_CREDIT,
                                                                            cacheAccount,
                                                                            cacheSumbolOpu),
                                        true
                                        );
        else
            value = data.getDocumentsSum("\n AND " +data.getFilter().hasAssignedDebetCreditAccountCategory("'РВП по штрафам по разм. ден. сред.'", RCB_OBJ_ACCOUNT_GROUP_KIND)
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_DEBET,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB)),
                                        false,
                                        "\n AND " +
                                        data.getFilter().hasAssignedDebetCreditAccountCategory("'РВП по штрафам по разм. ден. сред.'", RCB_OBJ_ACCOUNT_GROUP_KIND)
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_CREDIT,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB)),
                                        true
                                        );
        end;

        if (value < 0)
            value = 0;
        end;

        attribute.setValue(value);
    end;

    /* 29 */
    macro calculateAttributeS_4_5(number, attribute)
        var data  = m_dataSource.dataGkboDocuments();
        var value;

        m_protocol.printReportLineNumber(number+".1");
        var value1 = data.getDocumentsSum("\n AND " +data.getFilter().hasAssignedDebetCreditAccountCategory("'РВПС по проч. разм. средствам'", RCB_OBJ_ACCOUNT_GROUP_KIND)
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_DEBET,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number+".1", BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number+".1", BOCB)),
                                        true,
                                        "\n AND " +
                                        data.getFilter().hasAssignedDebetCreditAccountCategory("'РВПС по проч. разм. средствам'", RCB_OBJ_ACCOUNT_GROUP_KIND)
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_CREDIT,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number+".1", BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number+".1", BOCB)),
                                        false
                                        );

        m_protocol.printReportLineNumber(number+".2");
        var value2 = data.getDocumentsSum("\n AND " +
                                        data.getFilter().hasAssignedDebetCreditAccountCategory("'Резервы - ООНХ по ПРДС'", RCB_OBJ_ACCOUNT_GROUP_KIND)
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_DEBET,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number+".2", BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number+".2", BOCB)),
                                        true,
                                        "\n AND " +
                                        data.getFilter().hasAssignedDebetCreditAccountCategory("'Резервы - ООНХ по ПРДС'", RCB_OBJ_ACCOUNT_GROUP_KIND)
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_CREDIT,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number+".2", BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number+".2", BOCB)),
                                        false
                                        );

        value = value1 + value2;
        if (value < 0)
            value = 0;
        end;

        attribute.setValue(value);
    end;

    /* 30 */
    macro calculateAttributeS_4_6(number, attribute)
        var data  = m_dataSource.dataGkboDocuments();
        var value;

        m_protocol.printReportLineNumber(number+".1");
        var value1 = data.getDocumentsSum("\n AND " +data.getFilter().hasAssignedDebetCreditAccountCategory("'РВПС по проч. разм. средствам'", RCB_OBJ_ACCOUNT_GROUP_KIND)
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_CREDIT,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number+".1", BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number+".1", BOCB)),
                                        true,
                                        "\n AND " +
                                        data.getFilter().hasAssignedDebetCreditAccountCategory("'РВПС по проч. разм. средствам'", RCB_OBJ_ACCOUNT_GROUP_KIND)
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_DEBET,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number+".1", BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number+".1", BOCB)),
                                        false
                                        );

        m_protocol.printReportLineNumber(number+".2");
        var value2 = data.getDocumentsSum("\n AND " +
                                        data.getFilter().hasAssignedDebetCreditAccountCategory("'Резервы - ООНХ по ПРДС'", RCB_OBJ_ACCOUNT_GROUP_KIND)
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_CREDIT,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number+".2", BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number+".2", BOCB)),
                                        true,
                                        "\n AND " +
                                        data.getFilter().hasAssignedDebetCreditAccountCategory("'Резервы - ООНХ по ПРДС'", RCB_OBJ_ACCOUNT_GROUP_KIND)
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_DEBET,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number+".2", BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number+".2", BOCB)),
                                        false
                                        );

        value = value1 + value2;
        if (value < 0)
            value = 0;
        end;

        attribute.setValue(value);
    end;

    private macro initAttributes()
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "1", "A102/16",    r2m(this,"calculateAttributeAsRestOnPrimaryAccount"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "2", "A20321/3.1", r2m(this,"calculateAttributeA20321_3_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "3", "A30126/3.1", r2m(this,"calculateAttributeA30126_3_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "4", "A30226/3.1", r2m(this,"calculateAttributeA30226_3_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "5", "A30215/2",   r2m(this,"calculateAttributeА30215_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "6", "A40109/5.1", r2m(this,"calculateAttributeA40109_5_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "7", "A40109/9.1", r2m(this,"calculateAttributeA40109_9_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "8", "A50505/4",   r2m(this,"calculateAttributeA50505_4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "9", "A50505/6.1", r2m(this,"calculateAttributeA50505_6_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("10", "A50507/4",   r2m(this,"calculateAttributeA50507_4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("11", "A50507/6.2", r2m(this,"calculateAttributeA50507_6_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("12", "A50319/17",  r2m(this,"calculateAttributeA50319_17"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("13", "A50719/17",  r2m(this,"calculateAttributeA50719_17"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("14", "A60206/6.3", r2m(this,"calculateAttributeA60206_6_3"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("15", "A/3.2",      r2m(this,"calculateAttributeA_3_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("16", "A/3.3",      r2m(this,"calculateAttributeA_3_3"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("17", "A/3.4",      r2m(this,"calculateAttributeA_3_4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("18", "A/5.2",      r2m(this,"calculateAttributeA_5_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("19", "A/5.3",      r2m(this,"calculateAttributeА_5_3"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("20", "A/5.4",      r2m(this,"calculateAttributeА_5_4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("21", "A/6.4",      r2m(this,"calculateAttributeA_6_4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("22", "A/9.2",      r2m(this,"calculateAttributeA_9_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("23", "A/9.3",      r2m(this,"calculateAttributeA_9_3"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("24", "A/12",       r2m(this,"calculateAttributeA_12"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("25", "A/13.1",     r2m(this,"calculateAttributeA_13_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("26", "A/13.1.1",   r2m(this,"calculateAttributeA_13_1_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("27", "A/13.2",     r2m(this,"calculateAttributeA_13_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("28", "A/14.1",     r2m(this,"calculateAttributeAsRestOnPrimaryAccount"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("29", "A/14.2",     r2m(this,"calculateAttributeAsRestOnPrimaryAccount"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("30", "A60302/8",   r2m(this,"calculateAttribute_A603"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("31", "A60301/16",  r2m(this,"calculateAttribute_A603"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("32", "A10609/28",  r2m(this,"calculateAttribute_A10609"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("33", "A10610/28",  r2m(this,"calculateAttribute_A10610"));

        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "1", "S155/16",    r2m(this,"calculateAttributeS155_16__S155_17"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "2", "S156/17",    r2m(this,"calculateAttributeS155_16__S155_17"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "3", "S256/6",     r2m(this,"calculateUserAttribute"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "4", "S256/8",     r2m(this,"calculateUserAttribute"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "5", "S256/9",     r2m(this,"calculateAttributeS256_9"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "6", "S256/10",    r2m(this,"calculateAttributeS256_10"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "7", "S27801/1.1", r2m(this,"calculateAttributeS27801_1_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "8", "S278/1.2",   r2m(this,"calculateAttributeS278_1_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "9", "S28401/1.1", r2m(this,"calculateAttributeS28401_1_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("10", "S28802/1.1", r2m(this,"calculateAttributeS28802_1_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("11", "S28802/1.2", r2m(this,"calculateAttributeS28802_1_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("12", "S/4.1",      r2m(this,"calculateAttributeS_4_1__S_4_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("13", "S/4.2",      r2m(this,"calculateAttributeS_4_1__S_4_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("14", "S/18.1",     r2m(this,"calculateAttributeS_18_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("15", "S375/16",    r2m(this,"calculateAttributeS375_16__S376_17"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("16", "S376/17",    r2m(this,"calculateAttributeS375_16__S376_17"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("17", "S456/6",     r2m(this,"calculateUserAttribute"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("18", "S456/8",     r2m(this,"calculateUserAttribute"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("19", "S456/9",     r2m(this,"calculateAttributeS456_9"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("20", "S456/10",    r2m(this,"calculateAttributeS456_10"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("21", "S47401/2.1", r2m(this,"calculateAttributeS47401_2_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("22", "S47802/2.1", r2m(this,"calculateAttributeS47802_2_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("23", "S47802/2.2", r2m(this,"calculateAttributeS47802_2_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("24", "S/4.3",      r2m(this,"calculateAttributeS_4_3__S_4_4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("25", "S/4.4",      r2m(this,"calculateAttributeS_4_3__S_4_4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("26", "S/18.2",     r2m(this,"calculateAttributeS_18_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("27", "S28204/4.1", r2m(this,"calculateAttributeS_28204_4_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("28", "S47304/4.1", r2m(this,"calculateAttributeS_47304_4_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("29", "S/4.5",      r2m(this,"calculateAttributeS_4_5"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("30", "S/4.6",      r2m(this,"calculateAttributeS_4_6"));

        m_calculateDataArray[m_calculateDataArray.size] = calculateData("1", "6101", r2m(this,"calculateAttribute6101"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("2", "6102", r2m(this,"calculateAttribute6102"));

        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "1", "D/0",   r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "2", "D/1",   r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "3", "D/2",   r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "4", "D/3",   r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "5", "D/5",   r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "6", "D/7",   r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "7", "D/9",   r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "8", "D/10",  r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "9", "D/11",  r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("10", "D/12",  r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("11", "D/13",  r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("12", "D/14",  r2m(this,"calculateAttributeIsOrgansOfGovernment"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("13", "D/15",  r2m(this,"calculateAttributeD15"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("14", "D/16",  r2m(this,"calculateAttributeIsBankResident"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("15", "D/17",  r2m(this,"calculateAttributeD17"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("16", "D/18",  r2m(this,"calculateAttributeNonResident"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("17", "D/19",  r2m(this,"calculateAttributeIsCentralBank"));

        m_calculateDataArray[m_calculateDataArray.size] = calculateData("18", "IL/1",  r2m(this,"calculateAttributeIL1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("19", "IL/2",  r2m(this,"calculateAttributeNonResident"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("20", "IL/3",  r2m(this,"calculateAttributeIsCentralBank"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("21", "IL/4",  r2m(this,"calculateAttributeIsBankResident"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("22", "IL/5",  r2m(this,"calculateAttributeIsFinanceMinistry"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("23", "IL/6",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL6"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("24", "IL/7",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL7_IA4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("25", "IL/8",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL8_IA5"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("26", "IL/9",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL9_IA6"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("27", "IL/10", r2m(this,"calculateAttributeHasAssignedPartyCategoryIL10_IA7"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("28", "IL/11", r2m(this,"calculateAttributeHasAssignedPartyCategoryIL11_IA8"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("29", "IL/12", r2m(this,"calculateAttributeIsEmployer"));

        m_calculateDataArray[m_calculateDataArray.size] = calculateData("30", "IA/1",  r2m(this,"calculateAttributeNonResident"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("31", "IA/2",  r2m(this,"calculateAttributeIsCentralBank"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("32", "IA/3",  r2m(this,"calculateAttributeIsBankResident"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("33", "IA/4",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL7_IA4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("34", "IA/5",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL8_IA5"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("35", "IA/6",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL9_IA6"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("36", "IA/7",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL10_IA7"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("37", "IA/8",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL11_IA8"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("38", "IA/9",  r2m(this,"calculateAttributeIsEmployer"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("39", "IA/10", r2m(this,"calculateAttributeIA10"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("40", "R/1",   r2m(this,"calculateAttributeR1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("41", "R/2",   r2m(this,"calculateAttributeR2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("42", "R/3",   r2m(this,"calculateAttributeR3"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("43", "R/4",   r2m(this,"calculateAttributeR4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("44", "R/5",   r2m(this,"calculateAttributeR5"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("45", "R/6",   r2m(this,"calculateAttributeR6"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("46", "R/7",   r2m(this,"calculateAttributeR7"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("47", "R/8",   r2m(this,"calculateAttributeR8"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("48", "R/9",   r2m(this,"calculateAttributeR9"));
    end;
end;

class (TCalculationController4033) TCalculationController4212()
    initTCalculationController4033();

    macro calculatePart(part : TPart)
        var attributes  = part.getAttributes();
        var i : Integer = 0;
        var partNumber  = 1;
        var num = 0;
        var currentPart : TPart = null;

        while (part.getNumber() != partNumber)
            currentPart = m_report.getPart(partNumber);

            if (valType(currentPart) != V_UNDEF)
                num = num + currentPart.getAttributes().size;
            end;

            partNumber = partNumber + 1;
        end;

        while (i < attributes.size)
            calculateAttribute(part.getAttribute(m_calculateDataArray[num+i].getAttributeName()));
            i = i + 1;
        end;
    end;

    /* раздел 4, строки 1,  */
    macro calculateAttributeAsRestOnPrimaryAccountPart4(number, attribute)
        var data = m_dataSource.dataGkboAccount();

        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 4))
                                                +
                                                "\n AND ("    + data.getFilter().hasAssignedAccountCategory("'"+attribute.getName()+"'", RCB_OBJGROUP_FOR_REPORTING)
                                                +
                                                "\n      OR " + data.getFilter().hasAssignedAccountCategory("'Возврат ц/бумаг РЕПО'", RCB_OBJGROUP_LIABILITIES_REPO_LOAN_CONTRACTS) + ")"
                                                ), BOCB);
    end;

    /* раздел 4, строки 2,  */
    macro calculateAttributeAsRestOnPrimaryAccountPart4_0X(number, attribute)
        var data = m_dataSource.dataGkboAccount();

        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 4))
                                                +
                                                "\n AND "
                                                +
                                                data.getFilter().hasAssignedAccountCategory("'Возврат ден. средств РЕПО'", RCB_OBJGROUP_LIABILITIES_REPO_LOAN_CONTRACTS)
                                                ), BOCB);
    end;

    /* 29 */
    macro calculateAttributeS_4_5(number, attribute)
        var data  = m_dataSource.dataGkboDocuments();
        var value;

        m_protocol.printReportLineNumber(number+".1");
        var value1 = data.getDocumentsSum("\n AND ("    + data.getFilter().hasAssignedDebetCreditAccountCategory("'РВПС по проч. разм. средствам'", RCB_OBJ_ACCOUNT_GROUP_KIND)
                                        +
                                        "\n      OR " + data.getFilter().hasAssignedDebetCreditAccountCategory("'РВП по проц по. проч. разм. средств'", RCB_OBJ_ACCOUNT_GROUP_KIND) + ")"
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_DEBET,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number+".1", BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number+".1", BOCB)),
                                        true,
                                        "\n AND ("    + data.getFilter().hasAssignedDebetCreditAccountCategory("'РВПС по проч. разм. средствам'", RCB_OBJ_ACCOUNT_GROUP_KIND)
                                        +
                                        "\n      OR " + data.getFilter().hasAssignedDebetCreditAccountCategory("'РВП по проц по. проч. разм. средств'", RCB_OBJ_ACCOUNT_GROUP_KIND) + ")"
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_CREDIT,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number+".1", BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number+".1", BOCB)),
                                        false
                                        );

        m_protocol.printReportLineNumber(number+".2");
        var value2 = data.getDocumentsSum("\n AND " +
                                        data.getFilter().hasAssignedDebetCreditAccountCategory("'Резервы - ООНХ по ПРДС'", RCB_OBJ_ACCOUNT_GROUP_KIND)
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_DEBET,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number+".2", BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number+".2", BOCB)),
                                        true,
                                        "\n AND " +
                                        data.getFilter().hasAssignedDebetCreditAccountCategory("'Резервы - ООНХ по ПРДС'", RCB_OBJ_ACCOUNT_GROUP_KIND)
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_CREDIT,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number+".2", BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number+".2", BOCB)),
                                        false
                                        );

        value = value1 + value2;
        if (value < 0)
            value = 0;
        end;

        attribute.setValue(value);
    end;

    /* 30 */
    macro calculateAttributeS_4_6(number, attribute)
        var data  = m_dataSource.dataGkboDocuments();
        var value;

        m_protocol.printReportLineNumber(number+".1");
        var value1 = data.getDocumentsSum("\n AND ("    + data.getFilter().hasAssignedDebetCreditAccountCategory("'РВПС по проч. разм. средствам'", RCB_OBJ_ACCOUNT_GROUP_KIND)
                                        +
                                        "\n      OR " + data.getFilter().hasAssignedDebetCreditAccountCategory("'РВП по проц по. проч. разм. средств'", RCB_OBJ_ACCOUNT_GROUP_KIND) + ")"
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_CREDIT,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number+".1", BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number+".1", BOCB)),
                                        true,
                                        "\n AND ("    + data.getFilter().hasAssignedDebetCreditAccountCategory("'РВПС по проч. разм. средствам'", RCB_OBJ_ACCOUNT_GROUP_KIND)
                                        +
                                        "\n      OR " + data.getFilter().hasAssignedDebetCreditAccountCategory("'РВП по проц по. проч. разм. средств'", RCB_OBJ_ACCOUNT_GROUP_KIND) + ")"
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_DEBET,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number+".1", BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number+".1", BOCB)),
                                        false
                                        );

        m_protocol.printReportLineNumber(number+".2");
        var value2 = data.getDocumentsSum("\n AND " +
                                        data.getFilter().hasAssignedDebetCreditAccountCategory("'Резервы - ООНХ по ПРДС'", RCB_OBJ_ACCOUNT_GROUP_KIND)
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_CREDIT,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number+".2", BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number+".2", BOCB)),
                                        true,
                                        "\n AND " +
                                        data.getFilter().hasAssignedDebetCreditAccountCategory("'Резервы - ООНХ по ПРДС'", RCB_OBJ_ACCOUNT_GROUP_KIND)
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_DEBET,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number+".2", BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number+".2", BOCB)),
                                        false
                                        );

        value = value1 + value2;
        if (value < 0)
            value = 0;
        end;

        attribute.setValue(value);
    end;

    private macro initAttributes()
        var mode = global().getExportMode();

        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "1", "A102/16",    r2m(this,"calculateAttributeAsRestOnPrimaryAccount"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "2", "A20321/3.1", r2m(this,"calculateAttributeA20321_3_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "3", "A30126/3.1", r2m(this,"calculateAttributeA30126_3_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "4", "A30226/3.1", r2m(this,"calculateAttributeA30226_3_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "5", "A30215/2",   r2m(this,"calculateAttributeА30215_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "6", "A40109/5.1", r2m(this,"calculateAttributeA40109_5_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "7", "A40109/9.1", r2m(this,"calculateAttributeA40109_9_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "8", "A50505/4",   r2m(this,"calculateAttributeA50505_4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "9", "A50505/6.1", r2m(this,"calculateAttributeA50505_6_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("10", "A50507/4",   r2m(this,"calculateAttributeA50507_4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("11", "A50507/6.2", r2m(this,"calculateAttributeA50507_6_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("12", "A50319/17",  r2m(this,"calculateAttributeA50319_17"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("13", "A50719/17",  r2m(this,"calculateAttributeA50719_17"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("14", "A60206/6.3", r2m(this,"calculateAttributeA60206_6_3"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("15", "A/3.2",      r2m(this,"calculateAttributeA_3_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("16", "A/3.3",      r2m(this,"calculateAttributeA_3_3"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("17", "A/3.4",      r2m(this,"calculateAttributeA_3_4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("18", "A/5.2",      r2m(this,"calculateAttributeA_5_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("19", "A/5.3",      r2m(this,"calculateAttributeА_5_3"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("20", "A/5.4",      r2m(this,"calculateAttributeА_5_4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("21", "A/6.4",      r2m(this,"calculateAttributeA_6_4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("22", "A/9.2",      r2m(this,"calculateAttributeA_9_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("23", "A/9.3",      r2m(this,"calculateAttributeA_9_3"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("24", "A/12",       r2m(this,"calculateAttributeA_12"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("25", "A/13.1",     r2m(this,"calculateAttributeA_13_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("26", "A/13.1.1",   r2m(this,"calculateAttributeA_13_1_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("27", "A/13.2",     r2m(this,"calculateAttributeA_13_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("28", "A/14.1",     r2m(this,"calculateAttributeAsRestOnPrimaryAccount"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("29", "A/14.2",     r2m(this,"calculateAttributeAsRestOnPrimaryAccount"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("30", "A60302/8",   r2m(this,"calculateAttribute_A603"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("31", "A60301/16",  r2m(this,"calculateAttribute_A603"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("32", "A10609/28",  r2m(this,"calculateAttribute_A10609"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("33", "A10610/28",  r2m(this,"calculateAttribute_A10610"));

        if ((mode == 2) or (mode == 3) or (mode == 4))
            m_calculateDataArray[m_calculateDataArray.size] = calculateData( "1", "S155/16",    r2m(this,"calculateAttributeS155_16__S155_17"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData( "2", "S156/17",    r2m(this,"calculateAttributeS155_16__S155_17"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData( "3", "S256/6",     r2m(this,"calculateUserAttribute"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData( "4", "S256/8",     r2m(this,"calculateUserAttribute"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData( "5", "S256/9",     r2m(this,"calculateAttributeS256_9"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData( "6", "S256/10",    r2m(this,"calculateAttributeS256_10"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData( "7", "S27801/1.1", r2m(this,"calculateAttributeS27801_1_1"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData( "8", "S278/1.2",   r2m(this,"calculateAttributeS278_1_2"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData( "9", "S28401/1.1", r2m(this,"calculateAttributeS28401_1_1"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("10", "S28802/1.1", r2m(this,"calculateAttributeS28802_1_1"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("11", "S28802/1.2", r2m(this,"calculateAttributeS28802_1_2"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("12", "S/4.1",      r2m(this,"calculateAttributeS_4_1__S_4_2"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("13", "S/4.2",      r2m(this,"calculateAttributeS_4_1__S_4_2"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("14", "S/18.1",     r2m(this,"calculateAttributeS_18_1"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("15", "S375/16",    r2m(this,"calculateAttributeS375_16__S376_17"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("16", "S376/17",    r2m(this,"calculateAttributeS375_16__S376_17"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("17", "S456/6",     r2m(this,"calculateUserAttribute"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("18", "S456/8",     r2m(this,"calculateUserAttribute"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("19", "S456/9",     r2m(this,"calculateAttributeS456_9"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("20", "S456/10",    r2m(this,"calculateAttributeS456_10"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("21", "S47401/2.1", r2m(this,"calculateAttributeS47401_2_1"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("22", "S47802/2.1", r2m(this,"calculateAttributeS47802_2_1"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("23", "S47802/2.2", r2m(this,"calculateAttributeS47802_2_2"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("24", "S/4.3",      r2m(this,"calculateAttributeS_4_3__S_4_4"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("25", "S/4.4",      r2m(this,"calculateAttributeS_4_3__S_4_4"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("26", "S/18.2",     r2m(this,"calculateAttributeS_18_2"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("27", "S28204/4.1", r2m(this,"calculateAttributeS_28204_4_1"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("28", "S47304/4.1", r2m(this,"calculateAttributeS_47304_4_1"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("29", "S/4.5",      r2m(this,"calculateAttributeS_4_5"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("30", "S/4.6",      r2m(this,"calculateAttributeS_4_6"));
        end;

        if ((mode == 2) or (mode == 3) or (mode == 4))
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("1", "6101", r2m(this,"calculateAttribute6101"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("2", "6102", r2m(this,"calculateAttribute6102"));
        end;

        if ((mode == 1) or (mode == 2) or (mode == 3))
            m_calculateDataArray[m_calculateDataArray.size] = calculateData( "1", "D/0",   r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData( "2", "D/0.1", r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4_0X"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData( "3", "D/1",   r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData( "4", "D/1.1", r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4_0X"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData( "5", "D/2",   r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData( "6", "D/2.1", r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4_0X"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData( "7", "D/3",   r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData( "8", "D/3.1", r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4_0X"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData( "9", "D/5",   r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("10", "D/5.1", r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4_0X"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("11", "D/7",   r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("12", "D/7.1", r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4_0X"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("13", "D/14",  r2m(this,"calculateAttributeIsOrgansOfGovernment"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("14", "D/15",  r2m(this,"calculateAttributeD15"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("15", "D/16",  r2m(this,"calculateAttributeIsBankResident"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("16", "D/17",  r2m(this,"calculateAttributeD17"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("17", "D/18",  r2m(this,"calculateAttributeNonResident"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("18", "D/19",  r2m(this,"calculateAttributeIsCentralBank"));

            m_calculateDataArray[m_calculateDataArray.size] = calculateData("19", "IL/1",  r2m(this,"calculateAttributeIL1"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("20", "IL/2",  r2m(this,"calculateAttributeNonResident"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("21", "IL/3",  r2m(this,"calculateAttributeIsCentralBank"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("22", "IL/4",  r2m(this,"calculateAttributeIsBankResident"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("23", "IL/5",  r2m(this,"calculateAttributeIsFinanceMinistry"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("24", "IL/6",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL6"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("25", "IL/7",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL7_IA4"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("26", "IL/8",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL8_IA5"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("27", "IL/9",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL9_IA6"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("28", "IL/10", r2m(this,"calculateAttributeHasAssignedPartyCategoryIL10_IA7"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("29", "IL/11", r2m(this,"calculateAttributeHasAssignedPartyCategoryIL11_IA8"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("30", "IL/12", r2m(this,"calculateAttributeIsEmployer"));

            m_calculateDataArray[m_calculateDataArray.size] = calculateData("31", "IA/1",  r2m(this,"calculateAttributeNonResident"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("32", "IA/2",  r2m(this,"calculateAttributeIsCentralBank"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("33", "IA/3",  r2m(this,"calculateAttributeIsBankResident"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("34", "IA/4",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL7_IA4"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("35", "IA/5",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL8_IA5"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("36", "IA/6",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL9_IA6"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("37", "IA/7",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL10_IA7"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("38", "IA/8",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL11_IA8"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("39", "IA/9",  r2m(this,"calculateAttributeIsEmployer"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("40", "IA/10", r2m(this,"calculateAttributeIA10"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("41", "R/1",   r2m(this,"calculateAttributeR1"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("42", "R/2",   r2m(this,"calculateAttributeR2"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("43", "R/3",   r2m(this,"calculateAttributeR3"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("44", "R/4",   r2m(this,"calculateAttributeR4"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("45", "R/5",   r2m(this,"calculateAttributeR5"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("46", "R/6",   r2m(this,"calculateAttributeR6"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("47", "R/7",   r2m(this,"calculateAttributeR7"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("48", "R/8",   r2m(this,"calculateAttributeR8"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("49", "R/9",   r2m(this,"calculateAttributeR9"));
        end;
    end;
end;

class (TCalculationController4212) TCalculationController4637()
    initTCalculationController4212();

    /* раздел 2, строки 31 и 32 */
    macro calculateAttributeS211(number, attribute)
        var data  = m_dataSource.dataGkboDocuments();
        var value = data.getDocumentsSum(data.getFilter().hasAssignedAccountCategory(RCB_ACSDCL_CREDIT, "'Доходы по факторингу'", RCB_OBJGROUP_REPORT)
                                        +
                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_CREDIT,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB)),
                                        PLUS,

                                        data.getFilter().hasAccountSymbol(RCB_ACSDCL_DEBET,
                                                                            m_tuneTable.getAccountInOutCome(attribute.getName(), number, BOCB),
                                                                            m_tuneTable.getSumbolOpu(attribute.getName(), number, BOCB))
                                        +
                                        data.getFilter().hasAssignedAccountCategory(RCB_ACSDCL_DEBET, "'Доходы по факторингу'", RCB_OBJGROUP_REPORT),
                                        MINUS
                                        );

        if (value < 0)
            value = 0;
        end;

        attribute.setValue(value);
    end;

    /* раздел 4, строка 16 */
    macro calculateAttributeD17(number, attribute)
        var data = m_dataSource.dataGkboAccount();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 4))
                                                +
                                                data.getFilter().isResident()
                                                +
                                                data.getFilter().isFinancialOrganisation()
                                                +
                                                data.getFilter().isNotBank()
                                                +
                                                data.getFilter().isNotCentralBank()
                                                ), BOCB);
    end;

    /* раздел 4, строка 18 */
    macro calculateAttributeD19(number, attribute)
        var data = m_dataSource.dataGkboAccount();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 4))
                                                +
                                                data.getFilter().isResident()
                                                +
                                                data.getFilter().isCentralBank()
                                                ), BOCB);
    end;

    /* раздел 4, строка 19 */
    macro calculateAttributeD20(number, attribute)
        var data = m_dataSource.dataGkboAccount();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 4))
                                                +
                                                data.getFilter().isResident()
                                                +
                                                data.getFilter().isJuridicalPerson()
                                                +
                                                data.getFilter().isNotFinancialOrganisation()
                                                +
                                                data.getFilter().isNotBank()
                                                +
                                                data.getFilter().isNotCentralBank()
                                                +
                                                data.getFilter().isNotVneshEconomBank()
                                                +
                                                data.getFilter().isNotBlackSeaDevelopmentBank()
                                                +
                                                data.getFilter().isNotEvrasianDevelopmentBank()
                                                +
                                                data.getFilter().isNotInternalFinanceCorporation()
                                                ), BOCB);
    end;

    /* раздел 4, строка 20 */
    macro calculateAttributeD21(number, attribute)
        var data = m_dataSource.dataGkboAccount();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 4))
                                                +
                                                data.getFilter().isResident()
                                                +
                                                data.getFilter().isBank()
                                                ), BOCB);
    end;

    /* раздел 4, строка 21 */
    macro calculateAttributeD22(number, attribute)
        var data = m_dataSource.dataGkboAccount();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 4))
                                                +
                                                data.getFilter().isResident()
                                                + " AND (   (1=1 " +
                                                data.getFilter().isFinancialOrganisation() + ")"
                                                + "      OR (1=1 " +
                                                data.getFilter().isInternalFinanceCorporation() + ")"
                                                +      ")" +
                                                data.getFilter().isNotBank()
                                                +
                                                data.getFilter().isNotCentralBank()
                                                +
                                                data.getFilter().isNotVneshEconomBank()
                                                +
                                                data.getFilter().isNotBlackSeaDevelopmentBank()
                                                +
                                                data.getFilter().isNotEvrasianDevelopmentBank()
                                                ), BOCB);
    end;

    /* раздел 4, строка 24 */
    macro calculateAttributeD25(number, attribute)
        var data = m_dataSource.dataGkboAccount();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 4))
                                                +
                                                data.getFilter().isPhysicalPerson()
                                                ), BOCB);
    end;

    /* раздел 4, строка 25 */
    macro calculateAttributeD26(number, attribute)
        var data = m_dataSource.dataGkboAccount();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 4))
                                                +
                                                data.getFilter().isJuridicalPerson()
                                                +
                                                data.getFilter().isNotFinancialOrganisation()
                                                +
                                                data.getFilter().isNotBank()
                                                +
                                                data.getFilter().isNotCentralBank()
                                                +
                                                data.getFilter().isNotVneshEconomBank()
                                                +
                                                data.getFilter().isNotBlackSeaDevelopmentBank()
                                                +
                                                data.getFilter().isNotEvrasianDevelopmentBank()
                                                +
                                                data.getFilter().isNotInternalFinanceCorporation()
                                                ), BOCB);
    end;

    /* раздел 4, строка 27 */
    macro calculateAttributeD28(number, attribute)
        var data = m_dataSource.dataGkboAccount();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 4))
                                                +
                                                "\n AND (" + data.getFilter().hasAssignedAccountCategory("'"+attribute.getName()+"'", 1)
                                                +
                                                "\n      OR (1=1 " +
                                                data.getFilter().isResident()
                                                +
                                                data.getFilter().isPhysicalPerson()
                                                +
                                                "\n         )"
                                                "\n     )"
                                                ), BOCB);
    end;

    /* раздел 4, строка 28 */
    macro calculateAttributeD29(number, attribute)
        var data = m_dataSource.dataGkboAccount();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 4))
                                                +
                                                "\n AND (" + data.getFilter().hasAssignedAccountCategory("'"+attribute.getName()+"'", 1)
                                                +
                                                "\n      OR (1=1 " +
                                                data.getFilter().isResident()
                                                +
                                                data.getFilter().isJuridicalPerson()
                                                +
                                                data.getFilter().isNotFinancialOrganisation()
                                                +
                                                data.getFilter().isNotBank()
                                                +
                                                data.getFilter().isNotCentralBank()
                                                +
                                                data.getFilter().isNotVneshEconomBank()
                                                +
                                                data.getFilter().isNotBlackSeaDevelopmentBank()
                                                +
                                                data.getFilter().isNotEvrasianDevelopmentBank()
                                                +
                                                data.getFilter().isNotInternalFinanceCorporation()
                                                +
                                                "\n         )"
                                                "\n     )"
                                                ), BOCB);
    end;

    /* раздел 4, строка 29 */
    macro calculateAttributeD30(number, attribute)
        var data   = m_dataSource.dataGkboAccount();
        var filter = data.getFilter();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 4))
                                                +
                                                "\n AND (" + data.getFilter().hasAssignedAccountCategory("'" + attribute.getName() + "'", 1)
                                                +
                                                "\n      OR (1=1 " +
                                                data.getFilter().isResident()
                                                +
                                                filter.operatorOr(data.getFilter().isFinancialOrganisation(),
                                                                data.getFilter().isInternalFinanceCorporation())
                                                +
                                                data.getFilter().isNotBank()
                                                +
                                                data.getFilter().isNotCentralBank()
                                                +
                                                data.getFilter().isNotVneshEconomBank()
                                                +
                                                data.getFilter().isNotBlackSeaDevelopmentBank()
                                                +
                                                data.getFilter().isNotEvrasianDevelopmentBank()
                                                +
                                                "\n         )"
                                                "\n     )"
                                                ), BOCB);
    end;

    /* раздел 4, строка 30 */
    macro calculateAttributeD31(number, attribute)
        var data = m_dataSource.dataGkboAccount();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 4))
                                                +
                                                "\n AND (" + data.getFilter().hasAssignedAccountCategory("'"+attribute.getName()+"'", 1)
                                                +
                                                "\n      OR (1=1 " +
                                                data.getFilter().isNonResident()
                                                +
                                                "\n         )"
                                                "\n     )"
                                                ), BOCB);
    end;

    /* раздел 4, строка 31 */
    macro calculateAttributeD32(number, attribute)
        var data = m_dataSource.dataGkboAccount();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 4))
                                                +
                                                data.getFilter().isResident()
                                                +
                                                data.getFilter().isBank()
                                                ), BOCB);
    end;

    /* раздел 4, строка 33 */
    macro calculateAttributeD34(number, attribute)
        var data = m_dataSource.dataGkboAccount();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 4))
                                                +
                                                data.getFilter().isResident()
                                                +
                                                data.getFilter().isJuridicalPerson()
                                                + " AND (   (1=1 " +
                                                data.getFilter().isFinancialOrganisation() + ")"
                                                + "      OR (1=1 " +
                                                data.getFilter().isInternalFinanceCorporation() + ")"
                                                +      ")" +
                                                data.getFilter().isNotBank()
                                                +
                                                data.getFilter().isNotCentralBank()
                                                +
                                                data.getFilter().isNotVneshEconomBank()
                                                +
                                                data.getFilter().isNotBlackSeaDevelopmentBank()
                                                +
                                                data.getFilter().isNotEvrasianDevelopmentBank()
                                                ), BOCB);
    end;

    /* раздел 4, строка 34 */
    macro calculateAttributeD35(number, attribute)
        var data = m_dataSource.dataGkboAccount();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 4))
                                                +
                                                data.getFilter().isResident()
                                                +
                                                data.getFilter().isPhysicalPerson()
                                                ), BOCB);
    end;

    /* раздел 4, строка 67 */
    macro calculateAttributeDS_1(number, attribute)
        var data = m_dataSource.dataGkboAccount();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 4))
                                                +
                                                data.getFilter().isResident()
                                                +
                                                "\n AND (   (1=1 "
                                                +
                                                data.getFilter().isFinancialOrganisation() + ")"
                                                +
                                                "\n      OR (1=1 " +
                                                data.getFilter().isInternalFinanceCorporation() + ")"
                                                +
                                                "\n     )"
                                                ), BOCB);
    end;

    /* раздел 4, строка 68 */
    macro calculateAttributeDS_2(number, attribute)
        var data = m_dataSource.dataGkboAccount();
        attribute.setValue(data.getAccountRest(data.getFilter().isSatisfiesToAccountMasks(m_tuneTable.getPrimaryAccountMasks(attribute.getName(), number, BOCB, 4))
                                                +
                                                data.getFilter().isResident()
                                                +
                                                data.getFilter().isNotFinancialOrganisation()
                                                +
                                                data.getFilter().isNotInternalFinanceCorporation()
                                                ), BOCB);
    end;

    private macro initAttributes()
        var mode = global().getExportMode();

        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "1", "A102/16",    r2m(this,"calculateAttributeAsRestOnPrimaryAccount"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "2", "A20321/3.1", r2m(this,"calculateAttributeA20321_3_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "3", "A30126/3.1", r2m(this,"calculateAttributeA30126_3_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "4", "A30226/3.1", r2m(this,"calculateAttributeA30226_3_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "5", "A30215/2",   r2m(this,"calculateAttributeА30215_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "6", "A40109/5.1", r2m(this,"calculateAttributeA40109_5_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "7", "A40109/9.1", r2m(this,"calculateAttributeA40109_9_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "8", "A50505/4",   r2m(this,"calculateAttributeA50505_4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData( "9", "A50505/6.1", r2m(this,"calculateAttributeA50505_6_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("10", "A50507/4",   r2m(this,"calculateAttributeA50507_4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("11", "A50507/6.2", r2m(this,"calculateAttributeA50507_6_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("12", "A50319/17",  r2m(this,"calculateAttributeA50319_17"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("13", "A50719/17",  r2m(this,"calculateAttributeA50719_17"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("14", "A60206/6.3", r2m(this,"calculateAttributeA60206_6_3"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("15", "A/3.2",      r2m(this,"calculateAttributeA_3_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("16", "A/3.3",      r2m(this,"calculateAttributeA_3_3"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("17", "A/3.4",      r2m(this,"calculateAttributeA_3_4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("18", "A/5.2",      r2m(this,"calculateAttributeA_5_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("19", "A/5.3",      r2m(this,"calculateAttributeА_5_3"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("20", "A/5.4",      r2m(this,"calculateAttributeА_5_4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("21", "A/6.4",      r2m(this,"calculateAttributeA_6_4"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("22", "A/9.2",      r2m(this,"calculateAttributeA_9_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("23", "A/9.3",      r2m(this,"calculateAttributeA_9_3"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("24", "A/12",       r2m(this,"calculateAttributeA_12"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("25", "A/13.1",     r2m(this,"calculateAttributeA_13_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("26", "A/13.1.1",   r2m(this,"calculateAttributeA_13_1_1"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("27", "A/13.2",     r2m(this,"calculateAttributeA_13_2"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("28", "A/14.1",     r2m(this,"calculateAttributeAsRestOnPrimaryAccount"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("29", "A/14.2",     r2m(this,"calculateAttributeAsRestOnPrimaryAccount"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("30", "A60302/8",   r2m(this,"calculateAttribute_A603"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("31", "A60301/16",  r2m(this,"calculateAttribute_A603"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("32", "A10609/28",  r2m(this,"calculateAttribute_A10609"));
        m_calculateDataArray[m_calculateDataArray.size] = calculateData("33", "A10610/28",  r2m(this,"calculateAttribute_A10610"));

        if ((mode == 2) or (mode == 3) or (mode == 4))
            m_calculateDataArray[m_calculateDataArray.size] = calculateData( "1", "S155/16",    r2m(this,"calculateAttributeS155_16__S155_17"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData( "2", "S156/17",    r2m(this,"calculateAttributeS155_16__S155_17"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData( "3", "S256/6",     r2m(this,"calculateUserAttribute"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData( "4", "S256/8",     r2m(this,"calculateUserAttribute"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData( "5", "S256/9",     r2m(this,"calculateAttributeS256_9"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData( "6", "S256/10",    r2m(this,"calculateAttributeS256_10"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData( "7", "S27801/1.1", r2m(this,"calculateAttributeS27801_1_1"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData( "8", "S278/1.2",   r2m(this,"calculateAttributeS278_1_2"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData( "9", "S28401/1.1", r2m(this,"calculateAttributeS28401_1_1"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("10", "S28802/1.1", r2m(this,"calculateAttributeS28802_1_1"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("11", "S28802/1.2", r2m(this,"calculateAttributeS28802_1_2"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("12", "S/4.1",      r2m(this,"calculateAttributeS_4_1__S_4_2"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("13", "S/4.2",      r2m(this,"calculateAttributeS_4_1__S_4_2"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("14", "S/18.1",     r2m(this,"calculateAttributeS_18_1"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("15", "S375/16",    r2m(this,"calculateAttributeS375_16__S376_17"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("16", "S376/17",    r2m(this,"calculateAttributeS375_16__S376_17"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("17", "S456/6",     r2m(this,"calculateUserAttribute"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("18", "S456/8",     r2m(this,"calculateUserAttribute"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("19", "S456/9",     r2m(this,"calculateAttributeS456_9"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("20", "S456/10",    r2m(this,"calculateAttributeS456_10"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("21", "S47401/2.1", r2m(this,"calculateAttributeS47401_2_1"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("22", "S47802/2.1", r2m(this,"calculateAttributeS47802_2_1"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("23", "S47802/2.2", r2m(this,"calculateAttributeS47802_2_2"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("24", "S/4.3",      r2m(this,"calculateAttributeS_4_3__S_4_4"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("25", "S/4.4",      r2m(this,"calculateAttributeS_4_3__S_4_4"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("26", "S/18.2",     r2m(this,"calculateAttributeS_18_2"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("27", "S28204/4.1", r2m(this,"calculateAttributeS_28204_4_1"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("28", "S47304/4.1", r2m(this,"calculateAttributeS_47304_4_1"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("29", "S/4.5",      r2m(this,"calculateAttributeS_4_5"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("30", "S/4.6",      r2m(this,"calculateAttributeS_4_6"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("31", "S211/1.1",   r2m(this,"calculateAttributeS211"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("32", "S211/1.2",   r2m(this,"calculateAttributeS211"));
        end;

        if ((mode == 2) or (mode == 3) or (mode == 4))
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("1", "6101", r2m(this,"calculateAttribute6101"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("2", "6102", r2m(this,"calculateAttribute6102"));
        end;

        if ((mode == 1) or (mode == 2) or (mode == 3))
            m_calculateDataArray[m_calculateDataArray.size] = calculateData( "1", "D/0",   r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData( "2", "D/0.1", r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4_0X"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData( "3", "D/1",   r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData( "4", "D/1.1", r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4_0X"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData( "5", "D/2",   r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData( "6", "D/2.1", r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4_0X"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData( "7", "D/3",   r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData( "8", "D/3.1", r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4_0X"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData( "9", "D/5",   r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("10", "D/5.1", r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4_0X"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("11", "D/7",   r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("12", "D/7.1", r2m(this,"calculateAttributeAsRestOnPrimaryAccountPart4_0X"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("13", "D/14",  r2m(this,"calculateAttributeIsOrgansOfGovernment"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("14", "D/15",  r2m(this,"calculateAttributeD15"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("15", "D/16",  r2m(this,"calculateAttributeIsBankResident"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("16", "D/17",  r2m(this,"calculateAttributeD17"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("17", "D/18",  r2m(this,"calculateAttributeNonResident"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("18", "D/19",  r2m(this,"calculateAttributeD19"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("19", "D/20",  r2m(this,"calculateAttributeD20"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("20", "D/21",  r2m(this,"calculateAttributeD21"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("21", "D/22",  r2m(this,"calculateAttributeD22"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("22", "D/23",  r2m(this,"calculateAttributeD20"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("23", "D/24",  r2m(this,"calculateAttributeNonResident"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("24", "D/25",  r2m(this,"calculateAttributeD25"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("25", "D/26",  r2m(this,"calculateAttributeD26"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("26", "D/27",  r2m(this,"calculateAttributeD22"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("27", "D/28",  r2m(this,"calculateAttributeD28"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("28", "D/29",  r2m(this,"calculateAttributeD29"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("29", "D/30",  r2m(this,"calculateAttributeD30"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("30", "D/31",  r2m(this,"calculateAttributeD31"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("31", "D/32",  r2m(this,"calculateAttributeD32"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("32", "D/33",  r2m(this,"calculateAttributeD20"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("33", "D/34",  r2m(this,"calculateAttributeD34"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("34", "D/35",  r2m(this,"calculateAttributeD35"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("35", "D/36",  r2m(this,"calculateAttributeNonResident"));

            m_calculateDataArray[m_calculateDataArray.size] = calculateData("36", "IL/1",  r2m(this,"calculateAttributeIL1"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("37", "IL/2",  r2m(this,"calculateAttributeNonResident"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("38", "IL/3",  r2m(this,"calculateAttributeIsCentralBank"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("39", "IL/4",  r2m(this,"calculateAttributeIsBankResident"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("40", "IL/5",  r2m(this,"calculateAttributeIsFinanceMinistry"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("41", "IL/6",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL6"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("42", "IL/7",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL7_IA4"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("43", "IL/8",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL8_IA5"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("44", "IL/9",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL9_IA6"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("45", "IL/10", r2m(this,"calculateAttributeHasAssignedPartyCategoryIL10_IA7"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("46", "IL/11", r2m(this,"calculateAttributeHasAssignedPartyCategoryIL11_IA8"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("47", "IL/12", r2m(this,"calculateAttributeIsEmployer"));

            m_calculateDataArray[m_calculateDataArray.size] = calculateData("48", "IA/1",  r2m(this,"calculateAttributeNonResident"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("49", "IA/2",  r2m(this,"calculateAttributeIsCentralBank"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("50", "IA/3",  r2m(this,"calculateAttributeIsBankResident"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("51", "IA/4",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL7_IA4"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("52", "IA/5",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL8_IA5"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("53", "IA/6",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL9_IA6"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("54", "IA/7",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL10_IA7"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("55", "IA/8",  r2m(this,"calculateAttributeHasAssignedPartyCategoryIL11_IA8"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("56", "IA/9",  r2m(this,"calculateAttributeIsEmployer"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("57", "IA/10", r2m(this,"calculateAttributeIA10"));

            m_calculateDataArray[m_calculateDataArray.size] = calculateData("58", "R/1",   r2m(this,"calculateAttributeR1"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("59", "R/2",   r2m(this,"calculateAttributeR2"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("60", "R/3",   r2m(this,"calculateAttributeR3"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("61", "R/4",   r2m(this,"calculateAttributeR4"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("62", "R/5",   r2m(this,"calculateAttributeR5"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("63", "R/6",   r2m(this,"calculateAttributeR6"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("64", "R/7",   r2m(this,"calculateAttributeR7"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("65", "R/8",   r2m(this,"calculateAttributeR8"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("66", "R/9",   r2m(this,"calculateAttributeR9"));

            m_calculateDataArray[m_calculateDataArray.size] = calculateData("67", "DS/1",  r2m(this,"calculateAttributeDS_1"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("68", "DS/2",  r2m(this,"calculateAttributeDS_2"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("69", "DS/3",  r2m(this,"calculateAttributeNonResident"));
            m_calculateDataArray[m_calculateDataArray.size] = calculateData("70", "DS/4",  r2m(this,"calculateAttributeNonResident"));
        end;
    end;
end;
