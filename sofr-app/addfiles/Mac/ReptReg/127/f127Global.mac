/*
$Name: f127Global.mac
$Module: Регламентируемая отчетность
$Description: Форма 127. Глобализм.
*/

/**
 * Форма 127. Класс глобализмов.
 */
private class (TGlobalBase) TF127GlobalImpl()

    private var m_rcbReport: RcbReport;
    private var m_reportMode;

    // Установить режим выпуска отчета
    macro setReportMode(reportMode)
        m_reportMode = reportMode;
    end;

    // Получить режим выпуска отчета
    macro getReportMode()
        return m_reportMode;
    end;

    /**
     * Получить отчет
     */
    macro getRcbReport(): RcbReport

        return m_rcbReport;

    end;


    /**
     * Конструктор
     */
    private macro constructorTF127Global()

        initTGlobalBase();

        m_rcbReport = RcbApplication().currentReport;

        initializeRepDataPackage(m_rcbReport);

        setReportMode(f127Constant.modeReport.MODE_BYALLCURRENCIES);
    end;

    constructorTF127Global();

end;

/**
 * Доступ к глобальному классу
 */
macro TF127Global() : TF127GlobalImpl

    if (v_global == null)

        v_global = TF127GlobalImpl();

    end;

    return v_global;

end;
