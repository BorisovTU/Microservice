
/*─────────────────────────────────────────────────────────────────────────────────┐
  RS-Bank 6.0                                                       R-Style SoftLab
  Файл подсистемы "Отчетность регламентируемая"

  Форма 155. Классы вычисления и хранения значений переменных разделов 1 и 2.

  CREATED:  24.11.2005 ABP 
  MODIFICATIONS:
  COMMENTS:
└─────────────────────────────────────────────────────────────────────────────────*/
import lib_vars;

CLASS (VariablesArray) VariablesArray155_1
  private const PREFIX = "Р1";  /* начало имени любой переменной */

  const LineNumber      = 10; /* количество строк раздела */
  const ColumnNumber    = 6;  /* количество граф раздела  */ 
  const RiskGroupNumber = 5;  /* количество групп риска   */

  /* Получить имя переменной */
  MACRO GetName(Line, BO, RGroup, Column)
    if (Line < 10)
      Line = string(Line, "_");
    end;

    if (RGroup == 0)
      RGroup = "_";
    end;

    return PREFIX + "_С" + Line + "_ГР" + RGroup + "_Г" + Column + BOSuffixes[BO];
  END;

  InitVariablesArray(LineNumber+1, BO_Amount, RiskGroupNumber+1, ColumnNumber+1);
END;

/* Класс "метаинформации" */
CLASS MetaInfoStruct155
  var FieldNames  = ArrCreate("Строка", "Элементы расчетной базы", "Объем портфеля", "Количество портфелей", "Сформированный РВП");
  var FieldSizes  = ArrCreate(5, 24, 12, 5, 12);
  var GroupFields = ArrCreate(0,1);
END;

/* Класс переменных */
CLASS (VariablesArray) VariablesArray155_2(nm)
/*  private const PREFIX = "Р2_С1";*/
var Name = nm;
  /* Номера строк-элементов массива в рамках строки отчета */
  var IDs = TArray();

  private MACRO MakeIDs()
    var i = 1;

    while(i <= 4)
      IDs[i] = ArrCreate(0, 0, 0);
      i = i+1;
    end;

    IDs[i] = NULL;
  END;

  MACRO GetName(/*Line, BO, RGroup, Column*/)
    return Name;//PREFIX;
  END;

  InitVariablesArray(1, 1, 1, 1);

  MakeIDs();
END;

var Variables1 = VariablesArray155_1;

var MetaInfo  = MetaInfoStruct155;
var Variables2    = VariablesArray155_2("Р2_С1"),
    Variables2_1_5 = VariablesArray155_2("Р2_С1___ГР__Г_"),
    Variables2_2   = VariablesArray155_2("Р2_С2___ГР__Г_");





