/*
$Name:          f401AttributeValue.mac
$Module:        Отчеты ЦБ
$Description:   Форма 401. Класс значения атрибута.
*/

// Если появятся другие разделы с атрибутами иной структуры, то нужно будет дорабатывать и интерфейс, и базовый класс.
// И делать отдельные классы атрибута для новых атрибутов.

/**
 * Форма 401. Интерфейс классов значения атрибута.
 *
 * @since 12.09.2018
 * @author ABP
 * @version 6.20.031.054
 */
class IF401AttributeValue()
    macro getStorage() : Object
        throw(TPureVirtualMethodCallException("IF401AttributeValue::getStorage"));
    end;

    // КодНР, часть идентификатора атрибута
    macro getNrCode() : String
        throw(TPureVirtualMethodCallException("IF401AttributeValue::getNrCode"));
    end;

    // Код валюты, часть идентификатора атрибута
    macro getCurrencyCode() : String
        throw(TPureVirtualMethodCallException("IF401AttributeValue::getCurrencyCode"));
    end;

    // Номер (код) строки, часть идентификатора атрибута
    macro getRowCode() : String
        throw(TPureVirtualMethodCallException("IF401AttributeValue::getRowCode"));
    end;

    // Признак требование/обязательства, часть идентификатора атрибута
    macro getClaimName() : String
        throw(TPureVirtualMethodCallException("IF401AttributeValue::getClaimName"));
    end;

    macro getIncomeRest() : Object
        throw(TPureVirtualMethodCallException("IF401AttributeValue::getIncomeRest"));
    end;

    macro getTurns() : Object
        throw(TPureVirtualMethodCallException("IF401AttributeValue::getTurns"));
    end;

    macro getRevaluationTurns() : Object
        throw(TPureVirtualMethodCallException("IF401AttributeValue::getRevaluationTurns"));
    end;

    macro getOtherTurns() : Object
        throw(TPureVirtualMethodCallException("IF401AttributeValue::getOtherTurns"));
    end;

    macro getOutgoingRest() : Object
        throw(TPureVirtualMethodCallException("IF401AttributeValue::getOutgoingRest"));
    end;

    macro getInterests() : Object
        throw(TPureVirtualMethodCallException("IF401AttributeValue::getInterests"));
    end;

    macro getRtGroup2IncomeRest() : Object
        throw(TPureVirtualMethodCallException("IF401AttributeValue::getRtGroup2IncomeRest"));
    end;

    macro getRtGroup2Turns() : Object
        throw(TPureVirtualMethodCallException("IF401AttributeValue::getRtGroup2Turns"));
    end;

    macro getRtGroup2RevaluationTurns() : Object
        throw(TPureVirtualMethodCallException("IF401AttributeValue::getRtGroup2RevaluationTurns"));
    end;

    macro getRtGroup2OtherTurns() : Object
        throw(TPureVirtualMethodCallException("IF401AttributeValue::getRtGroup2OtherTurns"));
    end;

    macro getRtGroup2OutgoingRest() : Object
        throw(TPureVirtualMethodCallException("IF401AttributeValue::getRtGroup2OutgoingRest"));
    end;

    macro getStockOptionReceived() : Object
        throw(TPureVirtualMethodCallException("IF401AttributeValue::getStockOptionReceived"));
    end;

    macro getStockOptionPaid() : Object
        throw(TPureVirtualMethodCallException("IF401AttributeValue::getStockOptionPaid"));
    end;

    macro get(name : String) : Variant
        throw(TPureVirtualMethodCallException("IF401AttributeValue::get"));
    end;

    // КодНР, часть идентификатора атрибута
    macro setNrCode(value : String) : Object
        throw(TPureVirtualMethodCallException("IF401AttributeValue::setNrCode"));
    end;

    // Код валюты, часть идентификатора атрибута
    macro setCurrencyCode(value : String) : Object
        throw(TPureVirtualMethodCallException("IF401AttributeValue::setCurrencyCode"));
    end;

    // Номер (код) строки, часть идентификатора атрибута
    macro setRowCode(value : String) : Object
        throw(TPureVirtualMethodCallException("IF401AttributeValue::setRowCode"));
    end;

    // Признак требование/обязательства, часть идентификатора атрибута
    macro setClaimName(value : String) : Object
        throw(TPureVirtualMethodCallException("IF401AttributeValue::setClaimName"));
    end;

    macro setIncomeRest(value : Variant) : Object
        throw(TPureVirtualMethodCallException("IF401AttributeValue::setIncomeRest"));
    end;

    macro setTurns(value : Variant) : Object
        throw(TPureVirtualMethodCallException("IF401AttributeValue::setTurns"));
    end;

    macro setRevaluationTurns(value : Variant) : Object
        throw(TPureVirtualMethodCallException("IF401AttributeValue::setRevaluationTurns"));
    end;

    macro setOtherTurns(value : Variant) : Object
        throw(TPureVirtualMethodCallException("IF401AttributeValue::setOtherTurns"));
    end;

    macro setOutgoingRest(value : Variant) : Object
        throw(TPureVirtualMethodCallException("IF401AttributeValue::setOutgoingRest"));
    end;

    macro setInterests(value : Variant) : Object
        throw(TPureVirtualMethodCallException("IF401AttributeValue::setInterests"));
    end;

    macro setRtGroup2IncomeRest(value : Variant) : Object
        throw(TPureVirtualMethodCallException("IF401AttributeValue::setRtGroup2IncomeRest"));
    end;

    macro setRtGroup2Turns(value : Variant) : Object
        throw(TPureVirtualMethodCallException("IF401AttributeValue::setRtGroup2Turns"));
    end;

    macro setRtGroup2RevaluationTurns(value : Variant) : Object
        throw(TPureVirtualMethodCallException("IF401AttributeValue::setRtGroup2RevaluationTurns"));
    end;

    macro setRtGroup2OtherTurns(value : Variant) : Object
        throw(TPureVirtualMethodCallException("IF401AttributeValue::setRtGroup2OtherTurns"));
    end;

    macro setRtGroup2OutgoingRest(value : Variant) : Object
        throw(TPureVirtualMethodCallException("IF401AttributeValue::setRtGroup2OutgoingRest"));
    end;

    macro setStockOptionReceived(value : Variant) : Object
        throw(TPureVirtualMethodCallException("IF401AttributeValue::setStockOptionReceived"));
    end;

    macro setStockOptionPaid(value : Variant) : Object
        throw(TPureVirtualMethodCallException("IF401AttributeValue::setStockOptionPaid"));
    end;

    macro set(name : String, value : Variant) : Variant
        throw(TPureVirtualMethodCallException("IF401AttributeValue::set"));
    end;

    macro isDefined()
        throw(TPureVirtualMethodCallException("IF401AttributeValue::isDefined"));
    end;

    macro isZero()
        throw(TPureVirtualMethodCallException("IF401AttributeValue::isZero"));
    end;

    macro removeStorage()
        throw(TPureVirtualMethodCallException("IF401AttributeValue::removeStorage"));
    end;

    private macro constructorIF401AttributeValue()
        throw(TPureVirtualMethodCallException("IF401AttributeValue::constructorIF401AttributeValue"));
    end;

    constructorIF401AttributeValue();
end;

/**
 * Форма 401. Класс значения атрибута для атрибута раздела 1.
 *
 * @since 12.09.2018
 * @author ABP
 * @version 6.20.031.054
 */
class (IF401AttributeValue) TF401AttributeValuePart1(storage : RcbCompositeValue)
    private var m_storage : RcbCompositeValue;

    macro getStorage() : RcbCompositeValue
        return m_storage;
    end;

    // КодНР, часть идентификатора атрибута
    macro getNrCode() : String
        if (m_storage != null)
            return m_storage.fieldValue("nrCode").exact;
        end;

        return null;
    end;

    // Код валюты, часть идентификатора атрибута
    macro getCurrencyCode() : String
        if (m_storage != null)
            return m_storage.fieldValue("currencyCode").exact;
        end;

        return null;
    end;

    // Номер (код) строки, часть идентификатора атрибута
    macro getRowCode() : String
        if (m_storage != null)
            return m_storage.fieldValue("rowCode").exact;
        end;

        return null;
    end;

    // Признак требование/обязательства, часть идентификатора атрибута
    macro getClaimName() : String
        return null;
    end;

    macro getIncomeRest() : Object
        if (m_storage != null)
            return m_storage.fieldValue("incomeRest");
        end;

        return null;
    end;

    macro getTurns() : Object
        if (m_storage != null)
            return m_storage.fieldValue("turns");
        end;

        return null;
    end;

    macro getRevaluationTurns() : Object
        if (m_storage != null)
            return m_storage.fieldValue("revaluationTurns");
        end;

        return null;
    end;

    macro getOtherTurns() : Object
        if (m_storage != null)
            return m_storage.fieldValue("otherTurns");
        end;

        return null;
    end;

    macro getOutgoingRest() : Object
        if (m_storage != null)
            return m_storage.fieldValue("outgoingRest");
        end;

        return null;
    end;

    macro getInterests() : Object
        if (m_storage != null)
            return m_storage.fieldValue("interests");
        end;

        return null;
    end;

    macro getRtGroup2IncomeRest() : Object
        return TValue();
    end;

    macro getRtGroup2Turns() : Object
        return TValue();
    end;

    macro getRtGroup2RevaluationTurns() : Object
        return TValue();
    end;

    macro getRtGroup2OtherTurns() : Object
        return TValue();
    end;

    macro getRtGroup2OutgoingRest() : Object
        return TValue();
    end;

    macro getStockOptionReceived() : Object
        return TValue();
    end;

    macro getStockOptionPaid() : Object
        return TValue();
    end;

    macro get(name : String) : Variant
        return execExp("get"+name+"()");
    end;

    // КодНР, часть идентификатора атрибута
    macro setNrCode(value : String) : Object
        if (parmCount() < 2)
            throw(TInvalidNumberOfParametersException("TF401AttributeValuePart1::setNrCode"));
        end;

        if (value == null)
            throw(TUnspecifiedValueException("TF401AttributeValuePart1::setNrCode", "value"));
        end;

        if (valType(value) != V_STRING)
            throw(TIncorrectParameterTypeException("TF401AttributeValuePart1::setNrCode", "value"));
        end;

        if (value == "")
            throw(TInvalidValueException("TF401AttributeValuePart1::setNrCode", "value"));
        end;

        if (m_storage != null)
            m_storage.fieldValue("nrCode").exact = value;
            m_storage.fieldValue("nrCode").recalculateScaled();
        end;

        return this;
    end;

    // Код валюты, часть идентификатора атрибута
    macro setCurrencyCode(value : String) : Object
        if (parmCount() < 2)
            throw(TInvalidNumberOfParametersException("TF401AttributeValuePart1::setCurrencyCode"));
        end;

        if (value == null)
            throw(TUnspecifiedValueException("TF401AttributeValuePart1::setCurrencyCode", "value"));
        end;

        if (valType(value) != V_STRING)
            throw(TIncorrectParameterTypeException("TF401AttributeValuePart1::setCurrencyCode", "value"));
        end;

        if (value == "")
            throw(TInvalidValueException("TF401AttributeValuePart1::setCurrencyCode", "value"));
        end;

        if (m_storage != null)
            m_storage.fieldValue("currencyCode").exact = value;
            m_storage.fieldValue("currencyCode").recalculateScaled();
        end;

        return this;
    end;

    // Номер (код) строки, часть идентификатора атрибута
    macro setRowCode(value : String) : Object
        if (parmCount() < 2)
            throw(TInvalidNumberOfParametersException("TF401AttributeValuePart1::setRowCode"));
        end;

        if (value == null)
            throw(TUnspecifiedValueException("TF401AttributeValuePart1::setRowCode", "value"));
        end;

        if (valType(value) != V_STRING)
            throw(TIncorrectParameterTypeException("TF401AttributeValuePart1::setRowCode", "value"));
        end;

        if (value == "")
            throw(TInvalidValueException("TF401AttributeValuePart1::setRowCode", "value"));
        end;

        if (m_storage != null)
            m_storage.fieldValue("rowCode").exact = value;
            m_storage.fieldValue("rowCode").recalculateScaled();
        end;

        return this;
    end;

    // Признак требование/обязательства, часть идентификатора атрибута
    macro setClaimName(value : String) : Object
        return this;
    end;

    macro setIncomeRest(value : Variant) : Object
        if (m_storage != null)
            if (value != null)
                if (isEqClass("TValue", value))
                    if (value.exact != null)
                        m_storage.fieldValue("incomeRest").exact = value.exact;
                        m_storage.fieldValue("incomeRest").scaled = value.scaled;
                    else
                        m_storage.fieldValue("incomeRest").setUndefined();
                    end;
                else
                    m_storage.fieldValue("incomeRest").exact = value;
                    m_storage.fieldValue("incomeRest").recalculateScaled();
                end;
            else
                m_storage.fieldValue("incomeRest").setUndefined();
            end;
        end;

        return this;
    end;

    macro setTurns(value : Variant) : Object
        if (m_storage != null)
            if (value != null)
                if (isEqClass("TValue", value))
                    if (value.exact != null)
                        m_storage.fieldValue("turns").exact = value.exact;
                        m_storage.fieldValue("turns").scaled = value.scaled;
                    else
                        m_storage.fieldValue("turns").setUndefined();
                    end;
                else
                    m_storage.fieldValue("turns").exact = value;
                    m_storage.fieldValue("turns").recalculateScaled();
                end;
            else
                m_storage.fieldValue("turns").setUndefined();
            end;
        end;

        return this;
    end;

    macro setRevaluationTurns(value : Variant) : Object
        if (m_storage != null)
            if (value != null)
                if (isEqClass("TValue", value))
                    if (value.exact != null)
                        m_storage.fieldValue("revaluationTurns").exact = value.exact;
                        m_storage.fieldValue("revaluationTurns").scaled = value.scaled;
                    else
                        m_storage.fieldValue("revaluationTurns").setUndefined();
                    end;
                else
                    m_storage.fieldValue("revaluationTurns").exact = value;
                    m_storage.fieldValue("revaluationTurns").recalculateScaled();
                end;
            else
                m_storage.fieldValue("revaluationTurns").setUndefined();
            end;
        end;

        return this;
    end;

    macro setOtherTurns(value : Variant) : Object
        if (m_storage != null)
            if (value != null)
                if (isEqClass("TValue", value))
                    if (value.exact != null)
                        m_storage.fieldValue("otherTurns").exact = value.exact;
                        m_storage.fieldValue("otherTurns").scaled = value.scaled;
                    else
                        m_storage.fieldValue("otherTurns").setUndefined();
                    end;
                else
                    m_storage.fieldValue("otherTurns").exact = value;
                    m_storage.fieldValue("otherTurns").recalculateScaled();
                end;
            else
                m_storage.fieldValue("otherTurns").setUndefined();
            end;
        end;

        return this;
    end;

    macro setOutgoingRest(value : Variant) : Object
        if (m_storage != null)
            if (value != null)
                if (isEqClass("TValue", value))
                    if (value.exact != null)
                        m_storage.fieldValue("outgoingRest").exact = value.exact;
                        m_storage.fieldValue("outgoingRest").scaled = value.scaled;
                    else
                        m_storage.fieldValue("outgoingRest").setUndefined();
                    end;
                else
                    m_storage.fieldValue("outgoingRest").exact = value;
                    m_storage.fieldValue("outgoingRest").recalculateScaled();
                end;
            else
                m_storage.fieldValue("outgoingRest").setUndefined();
            end;
        end;

        return this;
    end;

    macro setInterests(value : Variant) : Object
        if (m_storage != null)
            if (value != null)
                if (isEqClass("TValue", value))
                    if (value.exact != null)
                        m_storage.fieldValue("interests").exact = value.exact;
                        m_storage.fieldValue("interests").scaled = value.scaled;
                    else
                        m_storage.fieldValue("interests").setUndefined();
                    end;
                else
                    m_storage.fieldValue("interests").exact = value;
                    m_storage.fieldValue("interests").recalculateScaled();
                end;
            else
                m_storage.fieldValue("interests").setUndefined();
            end;
        end;

        return this;
    end;

    macro setRtGroup2IncomeRest(value : Variant) : Object
        return this;
    end;

    macro setRtGroup2Turns(value : Variant) : Object
        return this;
    end;

    macro setRtGroup2RevaluationTurns(value : Variant) : Object
        return this;
    end;

    macro setRtGroup2OtherTurns(value : Variant) : Object
        return this;
    end;

    macro setRtGroup2OutgoingRest(value : Variant) : Object
        return this;
    end;

    macro setStockOptionReceived(value : Variant) : Object
        return this;
    end;

    macro setStockOptionPaid(value : Variant) : Object
        return this;
    end;

    macro set(name : String, value : Variant) : Variant
        return execExp("set"+name+"(value)");
    end;

    macro isDefined()
        var value = (getStorage() != null)
                and (getNrCode() != null)
                and (getCurrencyCode() != null)
                and (getRowCode() != null)
                and (getIncomeRest() != null) and getIncomeRest().isDefined()
                and (getTurns() != null) and getTurns().isDefined()
                and (getRevaluationTurns() != null) and getRevaluationTurns().isDefined()
                and (getOtherTurns() != null) and getOtherTurns().isDefined()
                and (getOutgoingRest() != null) and getOutgoingRest().isDefined()
                and (getInterests() != null) and getInterests().isDefined();
        return value;
    end;

    macro isZero()
        var value = (getIncomeRest().exact == $0)
                and (getTurns().exact == $0)
                and (getRevaluationTurns().exact == $0)
                and (getOtherTurns().exact == $0)
                and (getOutgoingRest().exact == $0)
                and (getInterests().exact == $0);
        return value;
    end;

    macro removeStorage()
        m_storage.parent.removeValue(m_storage.valueId);
    end;

    private macro constructorTF401AttributeValuePart1(storage : RcbCompositeValue)
        if (parmCount() < 2)
            throw(TInvalidNumberOfParametersException("TF401AttributeValuePart1::constructorTF401AttributeValuePart1"));
        end;

        if (storage == null)
            throw(TUnspecifiedValueException("TF401AttributeValuePart1::constructorTF401AttributeValuePart1", "storage"));
        end;

        if (    (valType(storage) != V_GENOBJ)
            or (not isEqClass("RcbCompositeValue", storage))
           )
            throw(TIncorrectParameterTypeException("TF401AttributeValuePart1::constructorTF401AttributeValuePart1", "storage"));
        end;

        m_storage = storage;
    end;

    constructorTF401AttributeValuePart1(storage);
end;

/**
 * Форма 401. Класс значения атрибута для атрибута раздела 2.
 *
 * @since 12.09.2018
 * @author ABP
 * @version 6.20.031.054
 */
class (IF401AttributeValue) TF401AttributeValuePart2(storage : RcbCompositeValue)
    private var m_storage : RcbCompositeValue;

    macro getStorage() : RcbCompositeValue
        return m_storage;
    end;

    // КодНР, часть идентификатора атрибута
    macro getNrCode() : String
        if (m_storage != null)
            return m_storage.fieldValue("nrCode").exact;
        end;

        return null;
    end;

    // Код валюты, часть идентификатора атрибута
    macro getCurrencyCode() : String
        if (m_storage != null)
            return m_storage.fieldValue("currencyCode").exact;
        end;

        return null;
    end;

    // Номер (код) строки, часть идентификатора атрибута
    macro getRowCode() : String
        if (m_storage != null)
            return m_storage.fieldValue("rowCode").exact;
        end;

        return null;
    end;

    // Признак требование/обязательства, часть идентификатора атрибута
    macro getClaimName() : String
        return null;
    end;

    macro getIncomeRest() : Object
        if (m_storage != null)
            return m_storage.fieldValue("incomeRest");
        end;

        return null;
    end;

    macro getTurns() : Object
        if (m_storage != null)
            return m_storage.fieldValue("turns");
        end;

        return null;
    end;

    macro getRevaluationTurns() : Object
        if (m_storage != null)
            return m_storage.fieldValue("revaluationTurns");
        end;

        return null;
    end;

    macro getOtherTurns() : Object
        if (m_storage != null)
            return m_storage.fieldValue("otherTurns");
        end;

        return null;
    end;

    macro getOutgoingRest() : Object
        if (m_storage != null)
            return m_storage.fieldValue("outgoingRest");
        end;

        return null;
    end;

    macro getInterests() : Object
        if (m_storage != null)
            return m_storage.fieldValue("interests");
        end;

        return null;
    end;

    macro getRtGroup2IncomeRest() : Object
        return TValue();
    end;

    macro getRtGroup2Turns() : Object
        return TValue();
    end;

    macro getRtGroup2RevaluationTurns() : Object
        return TValue();
    end;

    macro getRtGroup2OtherTurns() : Object
        return TValue();
    end;

    macro getRtGroup2OutgoingRest() : Object
        return TValue();
    end;

    macro getStockOptionReceived() : Object
        return TValue();
    end;

    macro getStockOptionPaid() : Object
        return TValue();
    end;

    macro get(name : String) : Variant
        return execExp("get"+name+"()");
    end;

    // КодНР, часть идентификатора атрибута
    macro setNrCode(value : String) : Object
        if (parmCount() < 2)
            throw(TInvalidNumberOfParametersException("TF401AttributeValuePart2::setNrCode"));
        end;

        if (value == null)
            throw(TUnspecifiedValueException("TF401AttributeValuePart2::setSymbol", "value"));
        end;

        if (valType(value) != V_STRING)
            throw(TIncorrectParameterTypeException("TF401AttributeValuePart2::setSymbol", "value"));
        end;

        if (value == "")
            throw(TInvalidValueException("TF401AttributeValuePart2::setSymbol", "value"));
        end;

        if (m_storage != null)
            m_storage.fieldValue("nrCode").exact = value;
            m_storage.fieldValue("nrCode").recalculateScaled();
        end;

        return this;
    end;

    // Код валюты, часть идентификатора атрибута
    macro setCurrencyCode(value : String) : Object
        if (parmCount() < 2)
            throw(TInvalidNumberOfParametersException("TF401AttributeValuePart2::setCurrencyCode"));
        end;

        if (value == null)
            throw(TUnspecifiedValueException("TF401AttributeValuePart2::setCurrencyCode", "value"));
        end;

        if (valType(value) != V_STRING)
            throw(TIncorrectParameterTypeException("TF401AttributeValuePart2::setCurrencyCode", "value"));
        end;

        if (value == "")
            throw(TInvalidValueException("TF401AttributeValuePart2::setCurrencyCode", "value"));
        end;

        if (m_storage != null)
            m_storage.fieldValue("currencyCode").exact = value;
            m_storage.fieldValue("currencyCode").recalculateScaled();
        end;

        return this;
    end;

    // Номер (код) строки, часть идентификатора атрибута
    macro setRowCode(value : String) : Object
        if (parmCount() < 2)
            throw(TInvalidNumberOfParametersException("TF401AttributeValuePart2::setRowCode"));
        end;

        if (value == null)
            throw(TUnspecifiedValueException("TF401AttributeValuePart2::setRowCode", "value"));
        end;

        if (valType(value) != V_STRING)
            throw(TIncorrectParameterTypeException("TF401AttributeValuePart2::setRowCode", "value"));
        end;

        if (value == "")
            throw(TInvalidValueException("TF401AttributeValuePart2::setRowCode", "value"));
        end;

        if (m_storage != null)
            m_storage.fieldValue("rowCode").exact = value;
            m_storage.fieldValue("rowCode").recalculateScaled();
        end;

        return this;
    end;

    // Признак требование/обязательства, часть идентификатора атрибута
    macro setClaimName(value : String) : Object
        return this;
    end;

    macro setIncomeRest(value : Variant) : Object
        if (m_storage != null)
            if (value != null)
                if (isEqClass("TValue", value))
                    if (value.exact != null)
                        m_storage.fieldValue("incomeRest").exact = value.exact;
                        m_storage.fieldValue("incomeRest").scaled = value.scaled;
                    else
                        m_storage.fieldValue("incomeRest").setUndefined();
                    end;
                else
                    m_storage.fieldValue("incomeRest").exact = value;
                    m_storage.fieldValue("incomeRest").recalculateScaled();
                end;
            else
                m_storage.fieldValue("incomeRest").setUndefined();
            end;
        end;

        return this;
    end;

    macro setTurns(value : Variant) : Object
        if (m_storage != null)
            if (value != null)
                if (isEqClass("TValue", value))
                    if (value.exact != null)
                        m_storage.fieldValue("turns").exact = value.exact;
                        m_storage.fieldValue("turns").scaled = value.scaled;
                    else
                        m_storage.fieldValue("turns").setUndefined();
                    end;
                else
                    m_storage.fieldValue("turns").exact = value;
                    m_storage.fieldValue("turns").recalculateScaled();
                end;
            else
                m_storage.fieldValue("turns").setUndefined();
            end;
        end;

        return this;
    end;

    macro setRevaluationTurns(value : Variant) : Object
        if (m_storage != null)
            if (value != null)
                if (isEqClass("TValue", value))
                    if (value.exact != null)
                        m_storage.fieldValue("revaluationTurns").exact = value.exact;
                        m_storage.fieldValue("revaluationTurns").scaled = value.scaled;
                    else
                        m_storage.fieldValue("revaluationTurns").setUndefined();
                    end;
                else
                    m_storage.fieldValue("revaluationTurns").exact = value;
                    m_storage.fieldValue("revaluationTurns").recalculateScaled();
                end;
            else
                m_storage.fieldValue("revaluationTurns").setUndefined();
            end;
        end;

        return this;
    end;

    macro setOtherTurns(value : Variant) : Object
        if (m_storage != null)
            if (value != null)
                if (isEqClass("TValue", value))
                    if (value.exact != null)
                        m_storage.fieldValue("otherTurns").exact = value.exact;
                        m_storage.fieldValue("otherTurns").scaled = value.scaled;
                    else
                        m_storage.fieldValue("otherTurns").setUndefined();
                    end;
                else
                    m_storage.fieldValue("otherTurns").exact = value;
                    m_storage.fieldValue("otherTurns").recalculateScaled();
                end;
            else
                m_storage.fieldValue("otherTurns").setUndefined();
            end;
        end;

        return this;
    end;

    macro setOutgoingRest(value : Variant) : Object
        if (m_storage != null)
            if (value != null)
                if (isEqClass("TValue", value))
                    if (value.exact != null)
                        m_storage.fieldValue("outgoingRest").exact = value.exact;
                        m_storage.fieldValue("outgoingRest").scaled = value.scaled;
                    else
                        m_storage.fieldValue("outgoingRest").setUndefined();
                    end;
                else
                    m_storage.fieldValue("outgoingRest").exact = value;
                    m_storage.fieldValue("outgoingRest").recalculateScaled();
                end;
            else
                m_storage.fieldValue("outgoingRest").setUndefined();
            end;
        end;

        return this;
    end;

    macro setInterests(value : Variant) : Object
        if (m_storage != null)
            if (value != null)
                if (isEqClass("TValue", value))
                    if (value.exact != null)
                        m_storage.fieldValue("interests").exact = value.exact;
                        m_storage.fieldValue("interests").scaled = value.scaled;
                    else
                        m_storage.fieldValue("interests").setUndefined();
                    end;
                else
                    m_storage.fieldValue("interests").exact = value;
                    m_storage.fieldValue("interests").recalculateScaled();
                end;
            else
                m_storage.fieldValue("interests").setUndefined();
            end;
        end;

        return this;
    end;

    macro setRtGroup2IncomeRest(value : Variant) : Object
        return this;
    end;

    macro setRtGroup2Turns(value : Variant) : Object
        return this;
    end;

    macro setRtGroup2RevaluationTurns(value : Variant) : Object
        return this;
    end;

    macro setRtGroup2OtherTurns(value : Variant) : Object
        return this;
    end;

    macro setRtGroup2OutgoingRest(value : Variant) : Object
        return this;
    end;

    macro setStockOptionReceived(value : Variant) : Object
        return this;
    end;

    macro setStockOptionPaid(value : Variant) : Object
        return this;
    end;

    macro set(name : String, value : Variant) : Variant
        return execExp("set"+name+"(value)");
    end;

    macro isDefined()
        var value = (getStorage() != null)
                and (getNrCode() != null)
                and (getCurrencyCode() != null)
                and (getRowCode() != null)
                and (getIncomeRest() != null) and getIncomeRest().isDefined()
                and (getTurns() != null) and getTurns().isDefined()
                and (getRevaluationTurns() != null) and getRevaluationTurns().isDefined()
                and (getOtherTurns() != null) and getOtherTurns().isDefined()
                and (getOutgoingRest() != null) and getOutgoingRest().isDefined()
                and (getInterests() != null) and getInterests().isDefined();
        return value;
    end;

    macro isZero()
        var value = (getIncomeRest().exact == $0)
                and (getTurns().exact == $0)
                and (getRevaluationTurns().exact == $0)
                and (getOtherTurns().exact == $0)
                and (getOutgoingRest().exact == $0)
                and (getInterests().exact == $0);
        return value;
    end;

    macro removeStorage()
        m_storage.parent.removeValue(m_storage.valueId);
    end;

    private macro constructorTF401AttributeValuePart2(storage : RcbCompositeValue)
        if (parmCount() < 2)
            throw(TInvalidNumberOfParametersException("TF401AttributeValuePart2::constructorTF401AttributeValuePart2"));
        end;

        if (storage == null)
            throw(TUnspecifiedValueException("TF401AttributeValuePart2::constructorTF401AttributeValuePart2", "storage"));
        end;

        if (    (valType(storage) != V_GENOBJ)
            or (not isEqClass("RcbCompositeValue", storage))
           )
            throw(TIncorrectParameterTypeException("TF401AttributeValuePart2::constructorTF401AttributeValuePart2", "storage"));
        end;

        m_storage = storage;
    end;

    constructorTF401AttributeValuePart2(storage);
end;

/**
 * Форма 401. Класс значения атрибута для атрибута Раздела 3.
 *
 * @since 27.05.2019
 * @author ABP
 * @version 6.20.031.057
 */
private class (IF401AttributeValue) TF401AttributeValuePart3(storage : RcbCompositeValue)
    private var m_storage : RcbCompositeValue;

    macro getStorage() : RcbCompositeValue
        return m_storage;
    end;

    // КодНР, часть идентификатора атрибута
    macro getNrCode() : String
        if (m_storage != null)
            return m_storage.fieldValue("nrCode").exact;
        end;

        return null;
    end;

    // Код валюты, часть идентификатора атрибута
    macro getCurrencyCode() : String
        if (m_storage != null)
            return m_storage.fieldValue("currencyCode").exact;
        end;

        return null;
    end;

    // Номер (код) строки, часть идентификатора атрибута
    macro getRowCode() : String
        if (m_storage != null)
            return m_storage.fieldValue("rowCode").exact;
        end;

        return null;
    end;

    // Признак требование/обязательства, часть идентификатора атрибута
    macro getClaimName() : String
        return null;
    end;

    macro getIncomeRest() : Object
        if (m_storage != null)
            return m_storage.fieldValue("incomeRest");
        end;

        return null;
    end;

    macro getTurns() : Object
        if (m_storage != null)
            return m_storage.fieldValue("turns");
        end;

        return null;
    end;

    macro getRevaluationTurns() : Object
        if (m_storage != null)
            return m_storage.fieldValue("revaluationTurns");
        end;

        return null;
    end;

    macro getOtherTurns() : Object
        if (m_storage != null)
            return m_storage.fieldValue("otherTurns");
        end;

        return null;
    end;

    macro getOutgoingRest() : Object
        if (m_storage != null)
            return m_storage.fieldValue("outgoingRest");
        end;

        return null;
    end;

    macro getInterests() : Object
        return TValue();
    end;

    macro getRtGroup2IncomeRest() : Object
        if (m_storage != null)
            return m_storage.fieldValue("rtGroup2IncomeRest");
        end;

        return null;
    end;

    macro getRtGroup2Turns() : Object
        if (m_storage != null)
            return m_storage.fieldValue("rtGroup2Turns");
        end;

        return null;
    end;

    macro getRtGroup2RevaluationTurns() : Object
        if (m_storage != null)
            return m_storage.fieldValue("rtGroup2RevaluationTurns");
        end;

        return null;
    end;

    macro getRtGroup2OtherTurns() : Object
        if (m_storage != null)
            return m_storage.fieldValue("rtGroup2OtherTurns");
        end;

        return null;
    end;

    macro getRtGroup2OutgoingRest() : Object
        if (m_storage != null)
            return m_storage.fieldValue("rtGroup2OutgoingRest");
        end;

        return null;
    end;

    macro getStockOptionReceived() : Object
        return TValue();
    end;

    macro getStockOptionPaid() : Object
        return TValue();
    end;

    macro get(name : String) : Variant
        return execExp("get"+name+"()");
    end;

    // КодНР, часть идентификатора атрибута
    macro setNrCode(value : String) : Object
        if (parmCount() < 2)
            throw(TInvalidNumberOfParametersException("TF401AttributeValuePart3::setNrCode"));
        end;

        if (value == null)
            throw(TUnspecifiedValueException("TF401AttributeValuePart3::setNrCode", "value"));
        end;

        if (valType(value) != V_STRING)
            throw(TIncorrectParameterTypeException("TF401AttributeValuePart3::setNrCode", "value"));
        end;

        if (value == "")
            throw(TInvalidValueException("TF401AttributeValuePart3::setNrCode", "value"));
        end;

        if (m_storage != null)
            m_storage.fieldValue("nrCode").exact = value;
            m_storage.fieldValue("nrCode").recalculateScaled();
        end;

        return this;
    end;

    // Код валюты, часть идентификатора атрибута
    macro setCurrencyCode(value : String) : Object
        if (parmCount() < 2)
            throw(TInvalidNumberOfParametersException("TF401AttributeValuePart3::setCurrencyCode"));
        end;

        if (value == null)
            throw(TUnspecifiedValueException("TF401AttributeValuePart3::setCurrencyCode", "value"));
        end;

        if (valType(value) != V_STRING)
            throw(TIncorrectParameterTypeException("TF401AttributeValuePart3::setCurrencyCode", "value"));
        end;

        if (value == "")
            throw(TInvalidValueException("TF401AttributeValuePart3::setCurrencyCode", "value"));
        end;

        if (m_storage != null)
            m_storage.fieldValue("currencyCode").exact = value;
            m_storage.fieldValue("currencyCode").recalculateScaled();
        end;

        return this;
    end;

    // Номер (код) строки, часть идентификатора атрибута
    macro setRowCode(value : String) : Object
        if (parmCount() < 2)
            throw(TInvalidNumberOfParametersException("TF401AttributeValuePart3::setRowCode"));
        end;

        if (value == null)
            throw(TUnspecifiedValueException("TF401AttributeValuePart3::setRowCode", "value"));
        end;

        if (valType(value) != V_STRING)
            throw(TIncorrectParameterTypeException("TF401AttributeValuePart3::setRowCode", "value"));
        end;

        if (value == "")
            throw(TInvalidValueException("TF401AttributeValuePart3::setRowCode", "value"));
        end;

        if (m_storage != null)
            m_storage.fieldValue("rowCode").exact = value;
            m_storage.fieldValue("rowCode").recalculateScaled();
        end;

        return this;
    end;

    // Признак требование/обязательства, часть идентификатора атрибута
    macro setClaimName(value : String) : Object
        return this;
    end;

    private macro setValue(value : Variant, name : String) : Object
        if (m_storage != null)
            if (value != null)
                if (isEqClass("TValue", value))
                    if (value.exact != null)
                        m_storage.fieldValue(name).exact = value.exact;
                        m_storage.fieldValue(name).scaled = value.scaled;
                    else
                        m_storage.fieldValue(name).setUndefined();
                    end;
                else
                    m_storage.fieldValue(name).exact = value;
                    m_storage.fieldValue(name).recalculateScaled();
                end;
            else
                m_storage.fieldValue(name).setUndefined();
            end;
        end;

        return this;
    end;

    macro setIncomeRest(value : Variant) : Object
        return setValue(value, "incomeRest");
    end;

    macro setTurns(value : Variant) : Object
        return setValue(value, "turns");
    end;

    macro setRevaluationTurns(value : Variant) : Object
        return setValue(value, "revaluationTurns");
    end;

    macro setOtherTurns(value : Variant) : Object
        return setValue(value, "otherTurns");
    end;

    macro setOutgoingRest(value : Variant) : Object
        return setValue(value, "outgoingRest");
    end;

    macro setInterests(value : Variant) : Object
        return this;
    end;

    macro setRtGroup2IncomeRest(value : Variant) : Object
        return setValue(value, "rtGroup2IncomeRest");
    end;

    macro setRtGroup2Turns(value : Variant) : Object
        return setValue(value, "rtGroup2Turns");
    end;

    macro setRtGroup2RevaluationTurns(value : Variant) : Object
        return setValue(value, "rtGroup2RevaluationTurns");
    end;

    macro setRtGroup2OtherTurns(value : Variant) : Object
        return setValue(value, "rtGroup2OtherTurns");
    end;

    macro setRtGroup2OutgoingRest(value : Variant) : Object
        return setValue(value, "rtGroup2OutgoingRest");
    end;

    macro setStockOptionReceived(value : Variant) : Object
        return this;
    end;

    macro setStockOptionPaid(value : Variant) : Object
        return this;
    end;

    macro set(name : String, value : Variant) : Variant
        return execExp("set"+name+"(value)");
    end;

    macro isDefined()
        var value = (getStorage() != null)
                and (getNrCode() != null)
                and (getCurrencyCode() != null)
                and (getRowCode() != null)
                and (getIncomeRest() != null) and getIncomeRest().isDefined()
                and (getTurns() != null) and getTurns().isDefined()
                and (getRevaluationTurns() != null) and getRevaluationTurns().isDefined()
                and (getOtherTurns() != null) and getOtherTurns().isDefined()
                and (getOutgoingRest() != null) and getOutgoingRest().isDefined()
                and (getRtGroup2IncomeRest() != null) and getRtGroup2IncomeRest().isDefined()
                and (getRtGroup2Turns() != null) and getRtGroup2Turns().isDefined()
                and (getRtGroup2RevaluationTurns() != null) and getRtGroup2RevaluationTurns().isDefined()
                and (getRtGroup2OtherTurns() != null) and getRtGroup2OtherTurns().isDefined()
                and (getRtGroup2OutgoingRest() != null) and getRtGroup2OutgoingRest().isDefined();
        return value;
    end;

    macro isZero()
        var value = (getIncomeRest().exact == $0)
                and (getTurns().exact == $0)
                and (getRevaluationTurns().exact == $0)
                and (getOtherTurns().exact == $0)
                and (getOutgoingRest().exact == $0)
                and (getRtGroup2IncomeRest().exact == $0)
                and (getRtGroup2Turns().exact == $0)
                and (getRtGroup2RevaluationTurns().exact == $0)
                and (getRtGroup2OtherTurns().exact == $0)
                and (getRtGroup2OutgoingRest().exact == $0);
        return value;
    end;

    macro removeStorage()
        m_storage.parent.removeValue(m_storage.valueId);
    end;

    private macro constructorTF401AttributeValuePart3(storage : RcbCompositeValue)
        if (parmCount() < 2)
            throw(TInvalidNumberOfParametersException("TF401AttributeValuePart3::constructorTF401AttributeValuePart3"));
        end;

        if (storage == null)
            throw(TUnspecifiedValueException("TF401AttributeValuePart3::constructorTF401AttributeValuePart3", "storage"));
        end;

        if (    (valType(storage) != V_GENOBJ)
            or (not isEqClass("RcbCompositeValue", storage))
           )
            throw(TIncorrectParameterTypeException("TF401AttributeValuePart3::constructorTF401AttributeValuePart3", "storage"));
        end;

        m_storage = storage;
    end;

    constructorTF401AttributeValuePart3(storage);
end;

/**
 * Форма 401. Класс значения атрибута для атрибута подраздела 3.1.
 *
 * @since 27.05.2019
 * @author ABP
 * @version 6.20.031.057
 */
class (TF401AttributeValuePart3) TF401AttributeValuePart31(storage : RcbCompositeValue)
    macro getStockOptionReceived() : Object
        if (m_storage != null)
            return m_storage.fieldValue("stockOptionReceived");
        end;

        return null;
    end;

    macro getStockOptionPaid() : Object
        if (m_storage != null)
            return m_storage.fieldValue("stockOptionPaid");
        end;

        return null;
    end;

    macro setStockOptionReceived(value : Variant) : Object
        return setValue(value, "stockOptionReceived");
    end;

    macro setStockOptionPaid(value : Variant) : Object
        return setValue(value, "stockOptionPaid");
    end;

    macro isDefined()
        var value = isDefined()
                and (getStockOptionReceived() != null) and getStockOptionReceived().isDefined()
                and (getStockOptionPaid() != null) and getStockOptionPaid().isDefined();
        return value;
    end;

    macro isZero()
        var value = isZero()
                and (getStockOptionReceived().exact == $0)
                and (getStockOptionPaid().exact == $0);
        return value;
    end;

    private macro constructorTF401AttributeValuePart31(storage : RcbCompositeValue)
        if (parmCount() < 2)
            throw(TInvalidNumberOfParametersException("TF401AttributeValuePart31::constructorTF401AttributeValuePart31"));
        end;

        initTF401AttributeValuePart3(storage);
    end;

    constructorTF401AttributeValuePart31(storage);
end;

/**
 * Форма 401. Класс значения атрибута для атрибута подраздела 3.2.
 *
 * @since 27.05.2019
 * @author ABP
 * @version 6.20.031.057
 */
class (TF401AttributeValuePart3) TF401AttributeValuePart32(storage : RcbCompositeValue)
    // Признак требование/обязательства, часть идентификатора атрибута
    macro getClaimName() : String
        if (m_storage != null)
            return m_storage.fieldValue("claimName").exact;
        end;

        return null;
    end;

    // Признак требование/обязательства, часть идентификатора атрибута
    macro setClaimName(value : String) : Object
        if (parmCount() < 2)
            throw(TInvalidNumberOfParametersException("TF401AttributeValuePart32::setClaimName"));
        end;

        if (value == null)
            throw(TUnspecifiedValueException("TF401AttributeValuePart32::setClaimName", "value"));
        end;

        if (valType(value) != V_STRING)
            throw(TIncorrectParameterTypeException("TF401AttributeValuePart32::setClaimName", "value"));
        end;

        if (value == "")
            throw(TInvalidValueException("TF401AttributeValuePart32::setClaimName", "value"));
        end;

        if (m_storage != null)
            m_storage.fieldValue("claimName").exact = value;
            m_storage.fieldValue("claimName").recalculateScaled();
        end;

        return this;
    end;

    macro isDefined()
        var value = isDefined()
                and (getClaimName() != null);
        return value;
    end;

    macro isZero()
        return isZero();
    end;

    private macro constructorTF401AttributeValuePart32(storage : RcbCompositeValue)
        if (parmCount() < 2)
            throw(TInvalidNumberOfParametersException("TF401AttributeValuePart32::constructorTF401AttributeValuePart32"));
        end;

        initTF401AttributeValuePart3(storage);
    end;

    constructorTF401AttributeValuePart32(storage);
end;

/**
 * Форма 401. Класс значения атрибута для атрибута раздела 1, не связаннонго с БД.
 * Используется как временное хранилище
 *
 * @since 12.09.2018
 * @author ABP
 * @version 6.20.031.054
 */
class (IF401AttributeValue) TF401StandaloneAttributeValuePart1(p1 : Variant, /*nrCode : String или value : IF401AttributeValue*/
                                                               currencyCode : String,
                                                               rowCode : String,
                                                               incomeRest : Variant,
                                                               turns : Variant,
                                                               revaluationTurns : Variant,
                                                               otherTurns : Variant,
                                                               outgoingRest : Variant,
                                                               interests : Variant
                                                              )
    private var m_nrCode : String;
    private var m_currencyCode : String;
    private var m_rowCode : String;
    private var m_incomeRest : TValue;
    private var m_turns : TValue;
    private var m_revaluationTurns : TValue;
    private var m_otherTurns : TValue;
    private var m_outgoingRest : TValue;
    private var m_interests : TValue;

    // КодНР, часть идентификатора атрибута
    macro getNrCode() : String
        return m_nrCode;
    end;

    // Код валюты, часть идентификатора атрибута
    macro getCurrencyCode() : String
        return m_currencyCode;
    end;

    // Номер (код) строки, часть идентификатора атрибута
    macro getRowCode() : String
        return m_rowCode;
    end;

    macro getIncomeRest() : TValue
        return m_incomeRest;
    end;

    macro getTurns() : TValue
        return m_turns;
    end;

    macro getRevaluationTurns() : TValue
        return m_revaluationTurns;
    end;

    macro getOtherTurns() : TValue
        return m_otherTurns;
    end;

    macro getOutgoingRest() : TValue
        return m_outgoingRest;
    end;

    macro getInterests() : TValue
        return m_interests;
    end;

    macro get(name : String) : Variant
        return execExp("get"+name+"()");
    end;

    // КодНР, часть идентификатора атрибута
    macro setNrCode(value : String) : Object
        if (parmCount() < 2)
            throw(TInvalidNumberOfParametersException("TF401StandaloneAttributeValuePart1::setNrCode"));
        end;

        if (value == null)
            throw(TUnspecifiedValueException("TF401StandaloneAttributeValuePart1::setNrCode", "value"));
        end;

        if (valType(value) != V_STRING)
            throw(TIncorrectParameterTypeException("TF401StandaloneAttributeValuePart1::setNrCode", "value"));
        end;

        if (value == "")
            throw(TInvalidValueException("TF401StandaloneAttributeValuePart1::setNrCode", "value"));
        end;

        m_nrCode = value;

        return this;
    end;

    // Код валюты, часть идентификатора атрибута
    macro setCurrencyCode(value : String) : Object
        if (parmCount() < 2)
            throw(TInvalidNumberOfParametersException("TF401StandaloneAttributeValuePart1::setCurrencyCode"));
        end;

        if (value == null)
            throw(TUnspecifiedValueException("TF401StandaloneAttributeValuePart1::setCurrencyCode", "value"));
        end;

        if (valType(value) != V_STRING)
            throw(TIncorrectParameterTypeException("TF401StandaloneAttributeValuePart1::setCurrencyCode", "value"));
        end;

        if (value == "")
            throw(TInvalidValueException("TF401StandaloneAttributeValuePart1::setCurrencyCode", "value"));
        end;

        m_currencyCode = value;

        return this;
    end;

    // Номер (код) строки, часть идентификатора атрибута
    macro setRowCode(value : String) : Object
        if (parmCount() < 2)
            throw(TInvalidNumberOfParametersException("TF401StandaloneAttributeValuePart1::setRowCode"));
        end;

        if (value == null)
            throw(TUnspecifiedValueException("TF401StandaloneAttributeValuePart1::setRowCode", "value"));
        end;

        if (valType(value) != V_STRING)
            throw(TIncorrectParameterTypeException("TF401StandaloneAttributeValuePart1::setRowCode", "value"));
        end;

        if (value == "")
            throw(TInvalidValueException("TF401StandaloneAttributeValuePart1::setRowCode", "value"));
        end;

        m_rowCode = value;

        return this;
    end;

    macro setIncomeRest(value : Variant) : Object
        if (value == null)
            m_incomeRest.setUndefined();
        else
            if (isEqClass("TValue", value))
                m_incomeRest = value;
            else
                m_incomeRest = TValue(value);
            end;
        end;

        return this;
    end;

    macro setTurns(value : Variant) : Object
        if (value == null)
            m_turns.setUndefined();
        else
            if (isEqClass("TValue", value))
                m_turns = value;
            else
                m_turns = TValue(value);
            end;
        end;

        return this;
    end;

    macro setRevaluationTurns(value : Variant) : Object
        if (value == null)
            m_revaluationTurns.setUndefined();
        else
            if (isEqClass("TValue", value))
                m_revaluationTurns = value;
            else
                m_revaluationTurns = TValue(value);
            end;
        end;

        return this;
    end;

    macro setOtherTurns(value : Variant) : Object
        if (value == null)
            m_otherTurns.setUndefined();
        else
            if (isEqClass("TValue", value))
                m_otherTurns = value;
            else
                m_otherTurns = TValue(value);
            end;
        end;

        return this;
    end;

    macro setOutgoingRest(value : Variant) : Object
        if (value == null)
            m_outgoingRest.setUndefined();
        else
            if (isEqClass("TValue", value))
                m_outgoingRest = value;
            else
                m_outgoingRest = TValue(value);
            end;
        end;

        return this;
    end;

    macro setInterests(value : Variant) : Object
        if (value == null)
            m_interests.setUndefined();
        else
            if (isEqClass("TValue", value))
                m_interests = value;
            else
                m_interests = TValue(value);
            end;
        end;

        return this;
    end;

    macro set(name : String, value : Variant) : Variant
        return execExp("set"+name+"(value)");
    end;

    macro isDefined()
        var value = (getStorage() != null)
                and (getNrCode() != null)
                and (getCurrencyCode() != null)
                and (getRowCode() != null)
                and (getIncomeRest() != null) and getIncomeRest().isDefined()
                and (getTurns() != null) and getTurns().isDefined()
                and (getRevaluationTurns() != null) and getRevaluationTurns().isDefined()
                and (getOtherTurns() != null) and getOtherTurns().isDefined()
                and (getOutgoingRest() != null) and getOutgoingRest().isDefined()
                and (getInterests() != null) and getInterests().isDefined();
        return value;
    end;

    macro isZero()
        var value = (getIncomeRest().exact == $0)
                and (getTurns().exact == $0)
                and (getRevaluationTurns().exact == $0)
                and (getOtherTurns().exact == $0)
                and (getOutgoingRest().exact == $0)
                and (getInterests().exact == $0);
        return value;
    end;

    private macro constructorTF401StandaloneAttributeValuePart1(p1 : Variant, /*nrCode : String или value : IF401AttributeValue*/
                                                                currencyCode : String,
                                                                rowCode : String,
                                                                incomeRest : Variant,
                                                                turns : Variant,
                                                                revaluationTurns : Variant,
                                                                otherTurns : Variant,
                                                                outgoingRest : Variant,
                                                                interests : Variant
                                                               )
        var nrCode = null;
        if (valtype(p1) == V_GENOBJ)
            nrCode = p1.getNrCode();
            currencyCode = p1.getCurrencyCode();
            rowCode = p1.getRowCode();
            incomeRest = p1.getIncomeRest();
            turns = p1.getTurns();
            revaluationTurns = p1.getRevaluationTurns();
            otherTurns = p1.getOtherTurns();
            outgoingRest = p1.getOutgoingRest();
            interests = p1.getInterests();
        else
            nrCode = p1;

            if (parmCount() < 4)
                throw(TInvalidNumberOfParametersException("TF401StandaloneAttributeValuePart1::constructorTF401StandaloneAttributeValuePart1"));
            end;

            if (nrCode == null)
                throw(TUnspecifiedValueException("TF401StandaloneAttributeValuePart1::constructorTF401StandaloneAttributeValuePart1", "nrCode"));
            end;

            if (valType(nrCode) != V_STRING)
                throw(TIncorrectParameterTypeException("TF401StandaloneAttributeValuePart1::constructorTF401StandaloneAttributeValuePart1", "nrCode"));
            end;

            if ((valType(nrCode) == V_STRING) and (nrCode == ""))
                throw(TInvalidValueException("TF401StandaloneAttributeValuePart1::constructorTF401StandaloneAttributeValuePart1", "nrCode"));
            end;

            if (currencyCode == null)
                throw(TUnspecifiedValueException("TF401StandaloneAttributeValuePart1::constructorTF401StandaloneAttributeValuePart1", "currencyCode"));
            end;

            if (valType(currencyCode) != V_STRING)
                throw(TIncorrectParameterTypeException("TF401StandaloneAttributeValuePart1::constructorTF401StandaloneAttributeValuePart1", "currencyCode"));
            end;

            if ((valType(currencyCode) == V_STRING) and (currencyCode == ""))
                throw(TInvalidValueException("TF401StandaloneAttributeValuePart1::constructorTF401StandaloneAttributeValuePart1", "currencyCode"));
            end;

            if (rowCode == null)
                throw(TUnspecifiedValueException("TF401StandaloneAttributeValuePart1::constructorTF401StandaloneAttributeValuePart1", "rowCode"));
            end;

            if (valType(rowCode) != V_STRING)
                throw(TIncorrectParameterTypeException("TF401StandaloneAttributeValuePart1::constructorTF401StandaloneAttributeValuePart1", "rowCode"));
            end;

            if ((valType(rowCode) == V_STRING) and (rowCode == ""))
                throw(TInvalidValueException("TF401StandaloneAttributeValuePart1::constructorTF401StandaloneAttributeValuePart1", "rowCode"));
            end;
        end;

        setNrCode(nrCode);
        setCurrencyCode(currencyCode);
        setRowCode(rowCode);
        setIncomeRest(incomeRest);
        setTurns(turns);
        setRevaluationTurns(revaluationTurns);
        setOtherTurns(otherTurns);
        setOutgoingRest(outgoingRest);
        setInterests(interests);
    end;

    constructorTF401StandaloneAttributeValuePart1(p1, currencyCode, rowCode, incomeRest, turns, revaluationTurns, otherTurns, outgoingRest, interests);
end;

/**
 * Форма 401. Класс значения атрибута для атрибута раздела 2, не связаннонго с БД.
 * Используется как временное хранилище
 *
 * @since 12.09.2018
 * @author ABP
 * @version 6.20.031.054
 */
class (IF401AttributeValue) TF401StandaloneAttributeValuePart2(p1 : Variant, /*nrCode : String или value : IF401AttributeValue*/
                                                               currencyCode : String,
                                                               rowCode : String,
                                                               incomeRest : Variant,
                                                               turns : Variant,
                                                               revaluationTurns : Variant,
                                                               otherTurns : Variant,
                                                               outgoingRest : Variant,
                                                               interests : Variant
                                                              )
    private var m_nrCode : String;
    private var m_currencyCode : String;
    private var m_rowCode : String;
    private var m_incomeRest : TValue;
    private var m_turns : TValue;
    private var m_revaluationTurns : TValue;
    private var m_otherTurns : TValue;
    private var m_outgoingRest : TValue;
    private var m_interests : TValue;

    // КодНР, часть идентификатора атрибута
    macro getNrCode() : String
        return m_nrCode;
    end;

    // Код валюты, часть идентификатора атрибута
    macro getCurrencyCode() : String
        return m_currencyCode;
    end;

    // Номер (код) строки, часть идентификатора атрибута
    macro getRowCode() : String
        return m_rowCode;
    end;

    macro getIncomeRest() : TValue
        return m_incomeRest;
    end;

    macro getTurns() : TValue
        return m_turns;
    end;

    macro getRevaluationTurns() : TValue
        return m_revaluationTurns;
    end;

    macro getOtherTurns() : TValue
        return m_otherTurns;
    end;

    macro getOutgoingRest() : TValue
        return m_outgoingRest;
    end;

    macro getInterests() : TValue
        return m_interests;
    end;

    macro get(name : String) : Variant
        return execExp("get"+name+"()");
    end;

    // КодНР, часть идентификатора атрибута
    macro setNrCode(value : String) : Object
        if (parmCount() < 2)
            throw(TInvalidNumberOfParametersException("TF401StandaloneAttributeValuePart2::setNrCode"));
        end;

        if (value == null)
            throw(TUnspecifiedValueException("TF401StandaloneAttributeValuePart2::setNrCode", "value"));
        end;

        if (valType(value) != V_STRING)
            throw(TIncorrectParameterTypeException("TF401StandaloneAttributeValuePart2::setNrCode", "value"));
        end;

        if (value == "")
            throw(TInvalidValueException("TF401StandaloneAttributeValuePart2::setNrCode", "value"));
        end;

        m_nrCode = value;

        return this;
    end;

    // Код валюты, часть идентификатора атрибута
    macro setCurrencyCode(value : String) : Object
        if (parmCount() < 2)
            throw(TInvalidNumberOfParametersException("TF401StandaloneAttributeValuePart2::setCurrencyCode"));
        end;

        if (value == null)
            throw(TUnspecifiedValueException("TF401StandaloneAttributeValuePart2::setCurrencyCode", "value"));
        end;

        if (valType(value) != V_STRING)
            throw(TIncorrectParameterTypeException("TF401StandaloneAttributeValuePart2::setCurrencyCode", "value"));
        end;

        if (value == "")
            throw(TInvalidValueException("TF401StandaloneAttributeValuePart2::setCurrencyCode", "value"));
        end;

        m_currencyCode = value;

        return this;
    end;

    // Номер (код) строки, часть идентификатора атрибута
    macro setRowCode(value : String) : Object
        if (parmCount() < 2)
            throw(TInvalidNumberOfParametersException("TF401StandaloneAttributeValuePart2::setRowCode"));
        end;

        if (value == null)
            throw(TUnspecifiedValueException("TF401StandaloneAttributeValuePart2::setRowCode", "value"));
        end;

        if (valType(value) != V_STRING)
            throw(TIncorrectParameterTypeException("TF401StandaloneAttributeValuePart2::setRowCode", "value"));
        end;

        if (value == "")
            throw(TInvalidValueException("TF401StandaloneAttributeValuePart2::setRowCode", "value"));
        end;

        m_rowCode = value;

        return this;
    end;

    macro setIncomeRest(value : Variant) : Object
        if (value == null)
            m_incomeRest.setUndefined();
        else
            if (isEqClass("TValue", value))
                m_incomeRest = value;
            else
                m_incomeRest = TValue(value);
            end;
        end;

        return this;
    end;

    macro setTurns(value : Variant) : Object
        if (value == null)
            m_turns.setUndefined();
        else
            if (isEqClass("TValue", value))
                m_turns = value;
            else
                m_turns = TValue(value);
            end;
        end;

        return this;
    end;

    macro setRevaluationTurns(value : Variant) : Object
        if (value == null)
            m_revaluationTurns.setUndefined();
        else
            if (isEqClass("TValue", value))
                m_revaluationTurns = value;
            else
                m_revaluationTurns = TValue(value);
            end;
        end;

        return this;
    end;

    macro setOtherTurns(value : Variant) : Object
        if (value == null)
            m_otherTurns.setUndefined();
        else
            if (isEqClass("TValue", value))
                m_otherTurns = value;
            else
                m_otherTurns = TValue(value);
            end;
        end;

        return this;
    end;

    macro setOutgoingRest(value : Variant) : Object
        if (value == null)
            m_outgoingRest.setUndefined();
        else
            if (isEqClass("TValue", value))
                m_outgoingRest = value;
            else
                m_outgoingRest = TValue(value);
            end;
        end;

        return this;
    end;

    macro setInterests(value : Variant) : Object
        if (value == null)
            m_interests.setUndefined();
        else
            if (isEqClass("TValue", value))
                m_interests = value;
            else
                m_interests = TValue(value);
            end;
        end;

        return this;
    end;

    macro set(name : String, value : Variant) : Variant
        return execExp("set"+name+"(value)");
    end;

    macro isDefined()
        var value = (getStorage() != null)
                and (getNrCode() != null)
                and (getCurrencyCode() != null)
                and (getRowCode() != null)
                and (getIncomeRest() != null) and getIncomeRest().isDefined()
                and (getTurns() != null) and getTurns().isDefined()
                and (getRevaluationTurns() != null) and getRevaluationTurns().isDefined()
                and (getOtherTurns() != null) and getOtherTurns().isDefined()
                and (getOutgoingRest() != null) and getOutgoingRest().isDefined()
                and (getInterests() != null) and getInterests().isDefined();
        return value;
    end;

    macro isZero()
        var value = (getIncomeRest().exact == $0)
                and (getTurns().exact == $0)
                and (getRevaluationTurns().exact == $0)
                and (getOtherTurns().exact == $0)
                and (getOutgoingRest().exact == $0)
                and (getInterests().exact == $0);
        return value;
    end;

    private macro constructorTF401StandaloneAttributeValuePart2(p1 : Variant, /*nrCode : String или value : IF401AttributeValue*/
                                                                currencyCode : String,
                                                                rowCode : String,
                                                                incomeRest : Variant,
                                                                turns : Variant,
                                                                revaluationTurns : Variant,
                                                                otherTurns : Variant,
                                                                outgoingRest : Variant,
                                                                interests : Variant
                                                               )
        var nrCode = null;
        if (valtype(p1) == V_GENOBJ)
            nrCode = p1.getNrCode();
            currencyCode = p1.getCurrencyCode();
            rowCode = p1.getRowCode();
            incomeRest = p1.getIncomeRest();
            turns = p1.getTurns();
            revaluationTurns = p1.getRevaluationTurns();
            otherTurns = p1.getOtherTurns();
            outgoingRest = p1.getOutgoingRest();
            interests = p1.getInterests();
        else
            nrCode = p1;

            if (parmCount() < 4)
                throw(TInvalidNumberOfParametersException("TF401StandaloneAttributeValuePart2::constructorTF401StandaloneAttributeValuePart2"));
            end;

            if (nrCode == null)
                throw(TUnspecifiedValueException("TF401StandaloneAttributeValuePart2::constructorTF401StandaloneAttributeValuePart2", "nrCode"));
            end;

            if (valType(nrCode) != V_STRING)
                throw(TIncorrectParameterTypeException("TF401StandaloneAttributeValuePart2::constructorTF401StandaloneAttributeValuePart2", "nrCode"));
            end;

            if ((valType(nrCode) == V_STRING) and (nrCode == ""))
                throw(TInvalidValueException("TF401StandaloneAttributeValuePart2::constructorTF401StandaloneAttributeValuePart2", "nrCode"));
            end;

            if (currencyCode == null)
                throw(TUnspecifiedValueException("TF401StandaloneAttributeValuePart2::constructorTF401StandaloneAttributeValuePart2", "currencyCode"));
            end;

            if (valType(currencyCode) != V_STRING)
                throw(TIncorrectParameterTypeException("TF401StandaloneAttributeValuePart2::constructorTF401StandaloneAttributeValuePart2", "currencyCode"));
            end;

            if ((valType(currencyCode) == V_STRING) and (currencyCode == ""))
                throw(TInvalidValueException("TF401StandaloneAttributeValuePart2::constructorTF401StandaloneAttributeValuePart2", "currencyCode"));
            end;

            if (rowCode == null)
                throw(TUnspecifiedValueException("TF401StandaloneAttributeValuePart2::constructorTF401StandaloneAttributeValuePart2", "rowCode"));
            end;

            if (valType(rowCode) != V_STRING)
                throw(TIncorrectParameterTypeException("TF401StandaloneAttributeValuePart2::constructorTF401StandaloneAttributeValuePart2", "rowCode"));
            end;

            if ((valType(rowCode) == V_STRING) and (rowCode == ""))
                throw(TInvalidValueException("TF401StandaloneAttributeValuePart2::constructorTF401StandaloneAttributeValuePart2", "rowCode"));
            end;
        end;

        setNrCode(nrCode);
        setCurrencyCode(currencyCode);
        setRowCode(rowCode);
        setIncomeRest(incomeRest);
        setTurns(turns);
        setRevaluationTurns(revaluationTurns);
        setOtherTurns(otherTurns);
        setOutgoingRest(outgoingRest);
        setInterests(interests);
    end;

    constructorTF401StandaloneAttributeValuePart2(p1, currencyCode, rowCode, incomeRest, turns, revaluationTurns, otherTurns, outgoingRest, interests);
end;
