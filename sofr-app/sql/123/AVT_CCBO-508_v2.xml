<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:pro="http://www.liquibase.org/xml/ns/pro" xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.6.xsd
                            http://www.liquibase.org/xml/ns/pro http://www.liquibase.org/xml/ns/pro/liquibase-pro-4.6.xsd ">

    <changeSet id="AVT_CCBO-508_add_t_priority_column" author="SennikovIV">
        <addColumn tableName="DCNVOPRTYPE_DBT">
            <column name="T_PRIORITY" type="NUMBER(10)"/>
        </addColumn>
    </changeSet>

    <changeSet id="AVT_CCBO-508_fill_t_priority" author="SennikovIV">
        <update tableName="DCNVOPRTYPE_DBT">
            <column name="T_PRIORITY" valueNumeric="30"/>
            <where>T_PRIORITY IS NULL</where>
        </update>

        <update tableName="DCNVOPRTYPE_DBT">
            <column name="T_PRIORITY" valueNumeric="29"/>
            <where>T_OPERATIONID IN (13, 14)</where>
        </update>

        <update tableName="DCNVOPRTYPE_DBT">
            <column name="T_PRIORITY" valueNumeric="28"/>
            <where>T_OPERATIONID IN (1006, 2000)</where>
        </update>
    </changeSet>

</databaseChangeLog>