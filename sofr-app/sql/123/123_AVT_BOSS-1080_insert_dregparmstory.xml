<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xmlns:pro="http://www.liquibase.org/xml/ns/pro"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.6.xsd
    http://www.liquibase.org/xml/ns/pro http://www.liquibase.org/xml/ns/pro/liquibase-pro-4.6.xsd ">
  <changeSet id="123_AVT_BOSS-1080_insert_dregparmstory" author="Nikolaev">  
    
    <!--Добавление в таблицу историчности по настройке "ФОРМИРОВАНИЕ НОБ_УЧАСТ" -->
    <insert tableName="dregparmstory_dbt">
        <column name="t_Id" valueNumeric="0" />
        <column name="t_keyid" valueComputed="(select t_keyid 
                                                 from dregparm_dbt 
                                                where t_parentid = (SELECT t_keyid
                                                                      from (select p.t_keyid,SYS_CONNECT_BY_PATH(p.t_name, '/') Path
                                                                              from dregparm_dbt p
                                                                           connect by prior p.t_keyid=p.t_parentid start with p.t_parentid=0) 
                                                                     where Path='/COMMON/НДФЛ')
                                                                       and t_name = 'ФОРМИРОВАНИЕ НОБ_УЧАСТ' )" />
        <column name="T_DATEBEGIN" valueDate="0001-01-01" />
        <column name="T_DATEEND" valueDate="2024-12-31" />
        <column name="T_INTVALUE" valueNumeric="0"/>
        <column name="T_DOUBLEVALUE" valueNumeric="0"/>
        <column name="T_BOOLVALUE" valueComputed="chr(0)"/>
        <column name="T_STRINGVALUE" valueComputed="chr(1)"/>
    </insert>
    <insert tableName="dregparmstory_dbt">
        <column name="t_Id" valueNumeric="0" />
        <column name="t_keyid" valueComputed="(select t_keyid 
                                                 from dregparm_dbt 
                                                where t_parentid = (SELECT t_keyid
                                                                      from (select p.t_keyid,SYS_CONNECT_BY_PATH(p.t_name, '/') Path
                                                                              from dregparm_dbt p
                                                                           connect by prior p.t_keyid=p.t_parentid start with p.t_parentid=0) 
                                                                     where Path='/COMMON/НДФЛ')
                                                                       and t_name = 'ФОРМИРОВАНИЕ НОБ_УЧАСТ' )" />
        <column name="T_DATEBEGIN" valueDate="2025-01-01" />
        <column name="T_DATEEND" valueDate="9999-12-31" />
        <column name="T_INTVALUE" valueNumeric="0"/>
        <column name="T_DOUBLEVALUE" valueNumeric="0"/>
        <column name="T_BOOLVALUE" valueComputed="chr(88)"/>
        <column name="T_STRINGVALUE" valueComputed="chr(1)"/>
    </insert>

    <!--Добавление в таблицу историчности по настройке "ИИС в НОБ_УЧАСТ" -->
    <insert tableName="dregparmstory_dbt">
        <column name="t_Id" valueNumeric="0" />
        <column name="t_keyid" valueComputed="(select t_keyid 
                                                 from dregparm_dbt 
                                                where t_parentid = (SELECT t_keyid
                                                                      from (select p.t_keyid,SYS_CONNECT_BY_PATH(p.t_name, '/') Path
                                                                              from dregparm_dbt p
                                                                           connect by prior p.t_keyid=p.t_parentid start with p.t_parentid=0) 
                                                                     where Path='/COMMON/НДФЛ')
                                                                       and t_name = 'ИИС в НОБ_УЧАСТ' )" />
        <column name="T_DATEBEGIN" valueDate="0001-01-01" />
        <column name="T_DATEEND" valueDate="2024-12-31" />
        <column name="T_INTVALUE" valueNumeric="0"/>
        <column name="T_DOUBLEVALUE" valueNumeric="0"/>
        <column name="T_BOOLVALUE" valueComputed="chr(0)"/>
        <column name="T_STRINGVALUE" valueComputed="chr(1)"/>
    </insert>
    <insert tableName="dregparmstory_dbt">
        <column name="t_Id" valueNumeric="0" />
        <column name="t_keyid" valueComputed="(select t_keyid 
                                                 from dregparm_dbt 
                                                where t_parentid = (SELECT t_keyid
                                                                      from (select p.t_keyid,SYS_CONNECT_BY_PATH(p.t_name, '/') Path
                                                                              from dregparm_dbt p
                                                                           connect by prior p.t_keyid=p.t_parentid start with p.t_parentid=0) 
                                                                     where Path='/COMMON/НДФЛ')
                                                                       and t_name = 'ИИС в НОБ_УЧАСТ' )" />
        <column name="T_DATEBEGIN" valueDate="2025-01-01" />
        <column name="T_DATEEND" valueDate="9999-12-31" />
        <column name="T_INTVALUE" valueNumeric="0"/>
        <column name="T_DOUBLEVALUE" valueNumeric="0"/>
        <column name="T_BOOLVALUE" valueComputed="chr(88)"/>
        <column name="T_STRINGVALUE" valueComputed="chr(1)"/>
    </insert>

<!--Добавление в таблицу историчности по настройке "СУММА_МАКС_ВЫЧЕТА_УЧАСТ" -->
    <insert tableName="dregparmstory_dbt">
        <column name="t_Id" valueNumeric="0" />
        <column name="t_keyid" valueComputed="(select t_keyid 
                                                 from dregparm_dbt 
                                                where t_parentid = (SELECT t_keyid
                                                                      from (select p.t_keyid,SYS_CONNECT_BY_PATH(p.t_name, '/') Path
                                                                              from dregparm_dbt p
                                                                           connect by prior p.t_keyid=p.t_parentid start with p.t_parentid=0) 
                                                                     where Path='/COMMON/НДФЛ')
                                                                       and t_name = 'СУММА_МАКС_ВЫЧЕТА_УЧАСТ' )" />
        <column name="T_DATEBEGIN" valueDate="0001-01-01" />
        <column name="T_DATEEND" valueDate="2024-12-31" />
        <column name="T_INTVALUE" valueNumeric="2147483647"/>
        <column name="T_DOUBLEVALUE" valueNumeric="0"/>
        <column name="T_BOOLVALUE" valueComputed="chr(0)"/>
        <column name="T_STRINGVALUE" valueComputed="chr(1)"/>
    </insert>
    <insert tableName="dregparmstory_dbt">
        <column name="t_Id" valueNumeric="0" />
        <column name="t_keyid" valueComputed="(select t_keyid 
                                                 from dregparm_dbt 
                                                where t_parentid = (SELECT t_keyid
                                                                      from (select p.t_keyid,SYS_CONNECT_BY_PATH(p.t_name, '/') Path
                                                                              from dregparm_dbt p
                                                                           connect by prior p.t_keyid=p.t_parentid start with p.t_parentid=0) 
                                                                     where Path='/COMMON/НДФЛ')
                                                                       and t_name = 'СУММА_МАКС_ВЫЧЕТА_УЧАСТ' )" />
        <column name="T_DATEBEGIN" valueDate="2025-01-01" />
        <column name="T_DATEEND" valueDate="9999-12-31" />
        <column name="T_INTVALUE" valueNumeric="50000000"/>
        <column name="T_DOUBLEVALUE" valueNumeric="0"/>
        <column name="T_BOOLVALUE" valueComputed="chr(0)"/>
        <column name="T_STRINGVALUE" valueComputed="chr(1)"/>
    </insert>

    <!--Добавление в таблицу историчности по настройке "УЧЕТ РЕПО ДЛЯ СРОКА НЕПР. ВЛАД." -->
    <insert tableName="dregparmstory_dbt">
        <column name="t_Id" valueNumeric="0" />
        <column name="t_keyid" valueComputed="(select t_keyid 
                                                 from dregparm_dbt 
                                                where t_parentid = (SELECT t_keyid
                                                                      from (select p.t_keyid,SYS_CONNECT_BY_PATH(p.t_name, '/') Path
                                                                              from dregparm_dbt p
                                                                           connect by prior p.t_keyid=p.t_parentid start with p.t_parentid=0) 
                                                                     where Path='/COMMON/НДФЛ')
                                                                       and t_name = 'УЧЕТ РЕПО ДЛЯ СРОКА НЕПР. ВЛАД.' )" />
        <column name="T_DATEBEGIN" valueDate="0001-01-01" />
        <column name="T_DATEEND" valueDate="2024-12-31" />
        <column name="T_INTVALUE" valueNumeric="0"/>
        <column name="T_DOUBLEVALUE" valueNumeric="0"/>
        <column name="T_BOOLVALUE" valueComputed="chr(0)"/>
        <column name="T_STRINGVALUE" valueComputed="chr(1)"/>
    </insert>
    <insert tableName="dregparmstory_dbt">
        <column name="t_Id" valueNumeric="0" />
        <column name="t_keyid" valueComputed="(select t_keyid 
                                                 from dregparm_dbt 
                                                where t_parentid = (SELECT t_keyid
                                                                      from (select p.t_keyid,SYS_CONNECT_BY_PATH(p.t_name, '/') Path
                                                                              from dregparm_dbt p
                                                                           connect by prior p.t_keyid=p.t_parentid start with p.t_parentid=0) 
                                                                     where Path='/COMMON/НДФЛ')
                                                                       and t_name = 'УЧЕТ РЕПО ДЛЯ СРОКА НЕПР. ВЛАД.' )" />
        <column name="T_DATEBEGIN" valueDate="2025-01-01" />
        <column name="T_DATEEND" valueDate="9999-12-31" />
        <column name="T_INTVALUE" valueNumeric="0"/>
        <column name="T_DOUBLEVALUE" valueNumeric="0"/>
        <column name="T_BOOLVALUE" valueComputed="chr(88)"/>
        <column name="T_STRINGVALUE" valueComputed="chr(1)"/>
    </insert>

  </changeSet>
</databaseChangeLog>