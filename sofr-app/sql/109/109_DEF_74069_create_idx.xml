<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xmlns:pro="http://www.liquibase.org/xml/ns/pro"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.6.xsd
    http://www.liquibase.org/xml/ns/pro http://www.liquibase.org/xml/ns/pro/liquibase-pro-4.6.xsd ">

  <changeSet id="109_DEF_74069_create_idx" author="KapitonovMA">
    <preConditions onFail="MARK_RAN">
       <sqlCheck expectedResult="0">
          select COUNT(*) 
            from ALL_OBJECTS
           where OBJECT_NAME in ( 'DACCTRN_DBT_IDX9', 'DOPROPER_DBT_IDX7', 'DNPTXOP_DBT_IDX6' )
            </sqlCheck>
    </preConditions>

    <createIndex indexName="DACCTRN_DBT_IDX9" tableName="DACCTRN_DBT">
      <column name="T_CHAPTER"/>
      <column name="T_ACCTRNID"/>
    </createIndex>

    <createIndex indexName="DOPROPER_DBT_IDX7" tableName="DOPROPER_DBT">
      <column name="T_DOCKIND"/>
      <column name="T_ID_OPERATION"/>
      <column name="T_DOCUMENTID"/>
    </createIndex>

    <createIndex indexName="DNPTXOP_DBT_IDX6" tableName="DNPTXOP_DBT">
      <column name="LPAD(TO_CHAR(T_ID),34,'0')"/>
      <column name="T_DOCKIND"/>
    </createIndex>

  </changeSet>

</databaseChangeLog>

