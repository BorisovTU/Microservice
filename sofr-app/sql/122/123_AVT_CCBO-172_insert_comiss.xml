<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xmlns:pro="http://www.liquibase.org/xml/ns/pro"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.6.xsd
    http://www.liquibase.org/xml/ns/pro http://www.liquibase.org/xml/ns/pro/liquibase-pro-4.6.xsd ">

  <changeSet id="123_AVT_CCBO-172_insert_comiss_1" author="Ponomareva">
    <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                select count(1) from dsfcomiss_dbt where t_code = 'СПВББиржВ'
            </sqlCheck>
    </preConditions>
    <insert tableName="dsfcomiss_dbt">
        <column name="t_feetype" valueNumeric="1" />
        <column name="t_number" valueComputed="(select max(sf_c.t_Number) + 1 from dsfcomiss_dbt sf_c)" />
        <column name="t_code" value="СПВББиржВ" />
        <column name="t_name" value="Биржевая комиссия" />
        <column name="t_calcperiodtype" valueNumeric="1" />
        <column name="t_calcperiodnum" valueNumeric="1" />
        <column name="t_date" valueComputed="to_date('01.01.0001', 'dd.mm.yyyy')" />
        <column name="t_paynds" valueNumeric="1" />
        <column name="t_fiid_comm" valueNumeric="0" />
        <column name="t_getsummin" valueComputed="chr(0)" />
        <column name="t_summin" valueNumeric="0" />
        <column name="t_summax" valueNumeric="0" />
        <column name="t_ratetype" valueNumeric="0" />
        <column name="t_receiverid" valueNumeric="365275" />
        <column name="t_incfeetype" valueNumeric="0" />
        <column name="t_inccommnumber" valueNumeric="0" />
        <column name="t_formalg" valueNumeric="1" />
        <column name="t_servicekind" valueNumeric="21" />
        <column name="t_servicesubkind" valueNumeric="0" />
        <column name="t_calccomisssumalg" valueNumeric="1" />
        <column name="t_setaccsearchalg" valueNumeric="1" />
        <column name="t_fiid_paysum" valueNumeric="-1" />
        <column name="t_datebegin" valueComputed="to_date('01.01.2025', 'dd.mm.yyyy')" />
        <column name="t_dateend" valueComputed="to_date('01.01.0001', 'dd.mm.yyyy')" />
        <column name="t_instantpayment" valueComputed="chr(88)" />
        <column name="t_productid" valueNumeric="0" />
        <column name="t_ndscateg" valueNumeric="0" />
        <column name="t_isfreeperiod" valueComputed="chr(0)" />
        <column name="t_comment" value="" />
        <column name="t_comissid" valueNumeric="0" />
        <column name="t_parentcomissid" valueNumeric="0" />
        <column name="t_isbankexpenses" valueComputed="chr(0)" />
        <column name="t_iscompensationcom" valueComputed="chr(0)" />
    </insert>
  </changeSet>

  <changeSet id="123_AVT_CCBO-172_insert_comiss_2" author="Ponomareva">
    <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                select count(1) from dsfcomiss_dbt where t_code = 'СПВББиржКлирВ'
            </sqlCheck>
    </preConditions>
    <insert tableName="dsfcomiss_dbt">
        <column name="t_feetype" valueNumeric="1" />
        <column name="t_number" valueComputed="(SELECT max(sf_c.t_Number) + 1 from dsfcomiss_dbt sf_c)" />
        <column name="t_code" value="СПВББиржКлирВ" />
        <column name="t_name" value="Комиссия за клиринг" />
        <column name="t_calcperiodtype" valueNumeric="1" />
        <column name="t_calcperiodnum" valueNumeric="1" />
        <column name="t_date" valueComputed="to_date('01.01.0001', 'dd.mm.yyyy')" />
        <column name="t_paynds" valueNumeric="1" />
        <column name="t_fiid_comm" valueNumeric="0" />
        <column name="t_getsummin" valueComputed="chr(0)" />
        <column name="t_summin" valueNumeric="0" />
        <column name="t_summax" valueNumeric="0" />
        <column name="t_ratetype" valueNumeric="0" />
        <column name="t_receiverid" valueNumeric="365275" />
        <column name="t_incfeetype" valueNumeric="0" />
        <column name="t_inccommnumber" valueNumeric="0" />
        <column name="t_formalg" valueNumeric="1" />
        <column name="t_servicekind" valueNumeric="21" />
        <column name="t_servicesubkind" valueNumeric="0" />
        <column name="t_calccomisssumalg" valueNumeric="1" />
        <column name="t_setaccsearchalg" valueNumeric="1" />
        <column name="t_fiid_paysum" valueNumeric="-1" />
        <column name="t_datebegin" valueComputed="to_date('01.01.2025', 'dd.mm.yyyy')" />
        <column name="t_dateend" valueComputed="to_date('01.01.0001', 'dd.mm.yyyy')" />
        <column name="t_instantpayment" valueComputed="chr(88)" />
        <column name="t_productid" valueNumeric="0" />
        <column name="t_ndscateg" valueNumeric="0" />
        <column name="t_isfreeperiod" valueComputed="chr(0)" />
        <column name="t_comment" value="" />
        <column name="t_comissid" valueNumeric="0" />
        <column name="t_parentcomissid" valueNumeric="0" />
        <column name="t_isbankexpenses" valueComputed="chr(0)" />
        <column name="t_iscompensationcom" valueComputed="chr(0)" />
    </insert>
  </changeSet>

</databaseChangeLog>