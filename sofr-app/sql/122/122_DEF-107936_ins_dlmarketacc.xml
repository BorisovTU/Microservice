<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xmlns:pro="http://www.liquibase.org/xml/ns/pro"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.6.xsd
    http://www.liquibase.org/xml/ns/pro http://www.liquibase.org/xml/ns/pro/liquibase-pro-4.6.xsd ">

  <changeSet id="122_DEF-107936_ins_dlmarketacc" author="Ponomareva">
    <preConditions onFail="MARK_RAN">
      <sqlCheck expectedResult="0">
        select count(1) from ddlmarketacc_dbt where t_marketid = (select t_id from ddlmarket_dbt where t_code = 'СПВБ_валютный') and t_code_currency in (0, 11, 15, 21, 4068, 62952, 132357)
      </sqlCheck>
    </preConditions>
    <insert tableName="ddlmarketacc_dbt">
        <column name="t_marketid"      valueComputed="(select t_id from ddlmarket_dbt where t_code = 'СПВБ_валютный')" />
        <column name="t_code_currency" valueNumeric="0" />
        <column name="t_account"       value="30411810700000006425" />
        <column name="t_typeown"       valueNumeric="1" />
    </insert>

    <insert tableName="ddlmarketacc_dbt">
        <column name="t_marketid"      valueComputed="(select t_id from ddlmarket_dbt where t_code = 'СПВБ_валютный')" />
        <column name="t_code_currency" valueNumeric="11" />
        <column name="t_account"       valueComputed="chr(1)" />
        <column name="t_typeown"       valueNumeric="1" />
    </insert>

    <insert tableName="ddlmarketacc_dbt">
        <column name="t_marketid"      valueComputed="(select t_id from ddlmarket_dbt where t_code = 'СПВБ_валютный')" />
        <column name="t_code_currency" valueNumeric="15" />
        <column name="t_account"       valueComputed="chr(1)" />
        <column name="t_typeown"       valueNumeric="1" />
    </insert>

    <insert tableName="ddlmarketacc_dbt">
        <column name="t_marketid"      valueComputed="(select t_id from ddlmarket_dbt where t_code = 'СПВБ_валютный')" />
        <column name="t_code_currency" valueNumeric="21" />
        <column name="t_account"       valueComputed="chr(1)" />
        <column name="t_typeown"       valueNumeric="1" />
    </insert>

    <insert tableName="ddlmarketacc_dbt">
        <column name="t_marketid"      valueComputed="(select t_id from ddlmarket_dbt where t_code = 'СПВБ_валютный')" />
        <column name="t_code_currency" valueNumeric="4068" />
        <column name="t_account"       valueComputed="chr(1)" />
        <column name="t_typeown"       valueNumeric="1" />
    </insert>

    <insert tableName="ddlmarketacc_dbt">
        <column name="t_marketid"      valueComputed="(select t_id from ddlmarket_dbt where t_code = 'СПВБ_валютный')" />
        <column name="t_code_currency" valueNumeric="62952" />
        <column name="t_account"       valueComputed="chr(1)" />
        <column name="t_typeown"       valueNumeric="1" />
    </insert>

    <insert tableName="ddlmarketacc_dbt">
        <column name="t_marketid"      valueComputed="(select t_id from ddlmarket_dbt where t_code = 'СПВБ_валютный')" />
        <column name="t_code_currency" valueNumeric="132357" />
        <column name="t_account"       valueComputed="chr(1)" />
        <column name="t_typeown"       valueNumeric="1" />
    </insert>
    
  </changeSet>


</databaseChangeLog>
