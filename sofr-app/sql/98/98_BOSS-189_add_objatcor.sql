-- ¥à¢¨ç­®¥ ¤®¡ ¢«¥­¨¥ ª â¥£®à¨¨ TRD_RESTR ­  ¤®£®¢®àë
DECLARE
  OBJTYPE_BROKERCONTR_DL CONSTANT NUMBER := 207;
  BROKERCONTR_ATTR_GROUP_TRADINGRESTRICTIONS CONSTANT NUMBER := 125;
  
  PROCEDURE AddObjAtCor(objType IN DOBJATCOR_DBT.T_OBJECTTYPE%TYPE, 
                        attrGroup IN DOBJATCOR_DBT.T_GROUPID%TYPE, 
                        attrID IN DOBJATCOR_DBT.T_ATTRID%TYPE, 
                        fromDate IN DOBJATCOR_DBT.T_VALIDFROMDATE%TYPE, 
                        objectID IN DOBJATCOR_DBT.T_OBJECT%TYPE)
  IS
    v_attrid DOBJATCOR_DBT.T_ATTRID%TYPE;
  BEGIN
    v_attrid := RSB_SECUR.GetGeneralMainObjAttr(objType, objectID, attrGroup, fromDate);
    IF v_attrid = 0 THEN -- ¥é¥ ­¥ ¯à¨¢ï§ ­
      INSERT INTO DOBJATCOR_DBT
              (T_OBJECTTYPE, 
               T_GROUPID, 
               T_ATTRID, 
               T_OBJECT, 
               T_GENERAL, 
               T_VALIDFROMDATE, 
               T_OPER, 
               T_VALIDTODATE, 
               T_SYSDATE, 
               T_SYSTIME, 
               T_ISAUTO, 
               T_ID)
       VALUES (objType,
               attrGroup,
               attrID,
               objectID,
               'X',
               TO_DATE('01.01.0001','DD.MM.YYYY'),
               9997,
               TO_DATE('31.12.9999','DD.MM.YYYY'),
               TRUNC(SYSDATE),
               TO_DATE('01.01.0001 ' || TO_CHAR(SYSDATE, 'HH24:MI:SS'),'DD.MM.YYYY HH24:MI:SS'),
               'X',
               0);
    END IF;
  EXCEPTION
    WHEN OTHERS THEN 
      it_error.put_error_in_stack;
      it_log.log(p_msg => 'BOSS-189',
                 p_msg_type => it_log.C_MSG_TYPE__ERROR -- ¯à¨ ãª § ­¨¨ â ª®£® â¨¯ , äã­ªæ¨ï § «®£¨àã¥â áâ¥ª ®è¨¡ª¨, á®¡à ­­ë© ¢ it_error
                );
  END;
BEGIN
  -- ” ©« ü1
  FOR one_id IN (SELECT dl.t_dlcontrid
                   FROM dsfcontr_dbt sf, ddlcontr_dbt dl 
                  WHERE sf.t_number in (--®¬¥à ¤®£®¢®à       Š«¨¥­â                    …ŠŠ
                                        '090522/î24',      -- ŽŽŽ "‘€•Ž €ƒŽ-ˆ‚…‘’"    20024
                                        '07/33-26869',     -- ŠŽ‹•Ž‡ ˆŒ…ˆ ‘.ƒ.˜€“ŒŸ€  26869
                                        '07/20-26868',     -- ‘Š "€” Ž‚Ž€’€‰‘Š€Ÿ"    26868
                                        '081128/ž20',      -- ‡€Ž "Œ®áá¥«ì¯à®¬"         2_000_MSP_20
                                        '60-211973',       -- €Ž "Ÿªãâáªí­¥à£®"        211973
                                        '091112/ž32',      -- €Ž "€”†‘"                 20032
                                        '16-212597',       -- ŽŽŽ ŠŽŒ€ˆŸ "…‹€Ÿ ’ˆ–€ 212597
                                        '090521/î23',      -- ŽŽŽ "ƒŠ ‘€•Ž"             200023
                                        '07-212605',       -- ŽŽŽ "•Ž‹„ˆƒ-“€‹-„Ž"    212605
                                        '35/5-212072',     -- Ž€Ž "€‘‘‚…’"             212072
                                        '01/03-26267',     -- Ž€Ž "’Š‡"                 26267
                                        '09-26540',       -- ‡€Ž "ˆ’›˜‘ŠŽ…"           26540
                                        '20069',           -- ŽŽŽ "-”ˆ€‘"           20069
                                        '212626',          -- ŽŽŽ ‘Ž "ƒ…ŽŽ‹ˆ‘"         212626
                                        '18/13-26496',     -- Œ€“ "…„€Š–ˆŸ ƒ€‡…’› "‘…‹œ‘Šˆ‰ Ž‚€’Ž" 26496
                                        '28-22666',        -- Š’ "Œ„ ¨ Š®"              22666
                                        '20073',           -- ŽŽŽ ˆŠ "ªáâà  ’à¥©¤"     20073
                                        '33-20096',        -- €Ž "ãááª¨© ‹®á®áì"      20096
                                        '73/5-22668',      -- Ž€Ž "„ˆ“"               22668
                                        '7/07-20179',      -- ŽŽŽ –¨äà®¢ë¥ â¥å-£¨¨ 21 ¢ 20179
                                        '20126',           -- ‡€Ž ”ƒ "’¥åª ¯¨â «"       20126
                                        '03/05-27145',     -- ŽŽŽ "…©áª-à¨ §®¢ì¥"      27145
                                        '24-24142',        -- ŽŽŽ "‹ˆŠ€"               24142
                                        '18/08-27319',     -- ŽŽŽ "‹¥¡ï¦ì¥"             27319
                                        '33-20256',        -- Ž€Ž Œãà¬ ­áª ï ƒ‘"       20256
                                        '67-20218',        -- ŽŽŽ ‘ ­ â®à¨© ‘ ­â        20218
                                        '20227',           -- ŽŽŽ "Š®«®à¨â ¨­¢¥áâ"      20227
                                        '20267',           -- ŽŽŽ "’ˆ’€-ˆ‚…‘’"        20267
                                        '55-26556',        -- ŽŽŽ "ƒ‹€‚‘’Ž‰ ”ˆ€‘"    26556
                                        '13/25-20317',     -- ŽŽŽ "’¥å­®ª®¬-‘¥à¢¨á"     20317
                                        '20584',           -- ŽŽŽ "’€‘•€"           20584
                                        '20583',           -- ŽŽŽ "„ƒ"                 20583
                                        '20582',           -- ŽŽŽ "„…’€‹œ’€‘ƒ“"    20582
                                        '71-26454',        -- ’žŒ…‘Šˆ‰ Ž‹Ž’‘Žž‡     26454
                                        '39-20505',        -- ŽŽŽ "ŠŽ “‘ˆ‚…‘’"       20505
                                        '43-211943',       -- ŽŽŽ "€‘ŠŽ"               211943
                                        '11-212106',       -- ŽŽŽ "”…“Œ ‘’"           212106
                                        '63/01-212159',    -- ŽŽŽ "€ˆ‹ˆ’ˆ Š€ˆ’€‹"     212159
                                        '15-20653',        -- ŽŽŽ "€€‹‹€Š‘-ˆ‡…‘"    20653
                                        '67-25937',        -- ŽŽŽ "ŒŠ"                 25937
                                        '24153',           -- ŽŽŽ "‘•-‘’€•Ž‚€ˆ… †ˆ‡ˆ" 24153
                                        '62-211975',       -- €Ž "‹Š …‘“‹ˆŠˆ €˜ŠŽ’Ž‘’€" 211975
                                        '28-22661',        -- ŽŽŽ "‘€’“"              22661
                                        '32-26383',        -- ŽŽŽ "Š€€‚€‰"             26383
                                        '79-22933',        -- ŽŽŽ "ˆŠ+"                22933
                                        '67-26000',        -- ŽŽŽ "ŠŽ’€Š’-ˆ†ˆˆˆƒ"  26000
                                        '28-26302',        -- ŽŽŽ "“„Œ“’‘Šˆ… ‘…Œ…€ 2" 26302
                                        '61-212111',       -- €Ž "‹Š ŸŽ‘‹€‚‘ŠŽ‰ Ž‹€‘’ˆ" 212111
                                        '58-11576',        -- ˆŽ-‚…˜’Žƒ€Š (€Ž)   11576
                                        '22-10666',        -- €Ž "…‚›‰ „Ž’€‘€Š"  10666
                                        '0000',            -- €Ž "Ž‘‘…‹œ•Ž‡€Š"       MC0134700000
                                        '080710/ž13',      -- "‘€ƒˆ Ž‹ˆƒ€”‘…‚ˆ‘"   CM0134700013
                                        '03-212757',       -- ŽŽŽ "ž¦­ë© ¯®«îá"         212757
                                        '312836',          -- ŽŽŽ “Š "Œ„ ’€‘’"         312836
                                        '12-212965',       -- ŒŠŠ "”€"               212965
                                        '212993',          -- ŽŽŽ "Œ€‹ƒ€ˆ‘"            212993
                                        '79-213743',       -- ROS AGRO CHINA LIMITED    213743
                                        '63-213988',       -- ŽŽŽ "ž‹€‰"               213988
                                        '63/33-213991',    -- ŽŽŽ "‘’…‹…– €"           213991
                                        '30-214984',       -- ŽŽŽ "–‘"                 214984
                                        '05/32-215403',    -- ŽŽŽ "ˆ‚…‘’ˆ–ˆŽ€Ÿ ŠŽŒ€ˆŸ "’…‰„Š" 215403
                                        '51-215483',       -- ŽŽŽ "”€Š…‹"               215483
                                        '55-215651',       -- ŽŽŽ "ˆ€‹’ˆ‰‘Š€Ÿ ŒŸ‘€Ÿ ŠŽŒ€ˆŸ ’ˆ" 215651
                                        '63/33-215709',    -- ŽŽŽ "Šˆ‘’…‹ˆ"           215709
                                        '55-215742',       -- ŽŽŽ "ŒŠ ”¨­ ­á"          215742
                                        '51-217073',       -- ŽŽŽ ‘‡ "”®àã¬"            217073
                                        '5/32-218069',     -- ŽŽŽ "˜ŠŽ‹œˆŠ"            218069
                                        '30-220586',       -- ŽŽŽ "’Š"‘‚"             220586
                                        '06/3-220765',     -- ŽŽŽ "‘Š"‘Œ-205"          220765
                                        '73-220796',       -- ŽŽŽ "–Š-ˆ‚…‘’"          220796
                                        '721930',          -- ŽŽŽ "Ž…Š’-ƒ€„"         721930
                                        '63-226275',       -- ŽŽŽ …‘’Ž€ "˜ˆ€Š-2"    226275
                                        '66-226276',       -- ŽŽŽ "’Š Š€’Ž˜Š€"         226276
                                        '63-226397',       -- ŽŽŽ "‘Š–-Œ€ŠŽ‘"          226397
                                        '63-226398',       -- ŽŽŽ "‘…’…Š€ ‹’„"        226398
                                        '1-226424',        -- ŽŽŽ "„Ž‘’Ž‰€„‡Ž"      226424
                                        '32-226448',       -- €Ž "€„…†„€"              226448
                                        '51-226457',       -- ‡€Ž "”Š"                  226457
                                        '63-226479',       -- ŽŽŽ "Œ€ŠŽ‘-3"            226479
                                        '27-227203',       -- ŽŽŽ "’ˆ€’Ž"             227203
                                        '06/04-60166891215', -- ŽŽŽ "Š‘Ž‘…‚ˆ‘"       227284
                                        '63/17-69303510652', -- ŽŽŽ €’ "€€’"         227319
                                        '727802',          -- ŽŽŽ "Œˆ€’Žƒ ”ˆ€‘"     727802
                                        '728422',          -- ŽŽŽ "‘‹€‚Ÿ‘Š ŠŽ"        728422
                                        '13/07-228484',    -- ŽŽŽ "€ƒŽ‘…‚ˆ‘"          228484
                                        '229863',          -- ŽŽŽ "…‘‘"                 229863
                                        '35-229963',       -- €Ž "Œ“Œ€›’"            229963
                                        '59-230740',       -- ”Ž„ "€ƒ€€"             230740
                                        '13-231224',       -- ŽŽŽ "‘Ž‹‘’…Š"             231224
                                        '63/01-232929',    -- ŽŽŽ "ŒŽ‘Š‚€-’“"          232929
                                        '73-237821',       -- ŽŽŽ "Œ€Š…’+"             237821
                                        '08/05-239238',    -- ŽŽŽ "‚€‹„€‰‘Šˆ‰ †…Œ—“ƒ"   239238
                                        '06/06-239501',    -- ŽŽŽ "‹Ž‚…‘’ˆ ’…•Ž‹Ž„†ˆ‘" 239501
                                        '61-263518',       -- ŽŽŽ "ŠŽŒ€ˆŸ "’…‡Ž"    263518
                                        '02-271710',       -- ŽŽŽ "ˆ—…‘ŠŽ…"           271710
                                        '63/67-287896',    -- ŽŽŽ "€Š‚ˆ‹€"              287896
                                        '48/01-294844',    -- ŽŽŽ ‘…–ˆ€‹ˆ‡ˆŽ‚€›‰ ‡€‘’Ž‰™ˆŠ "Œ…ƒ€Ž‹ˆ‘" 294844
                                        '13-298935',       -- Ž€Ž "‘ˆŠŽ"               298935
                                        '63-299373',       -- ŽŽŽ "’€‹Ž"              299373
                                        '10-2101481',      -- Ž‹Ž‚‘Šˆ‰ ‡€‚Ž„ …‡ˆŽ‚›• ˆ‡„…‹ˆ‰ ŽŽŽ "Žš…„ˆ…ˆ… €‹œ”€‹€‘ 2101481
                                        '35-2103278',      -- ŽŽŽ "‹…Œ‡€‚Ž„ "“ƒ›"    2103278
                                        '69-2107429',      -- ŽŽŽ "€ƒŽ”ˆŒ€ Š“‹œ’“€"  2107429
                                        '07-2111836',      -- ŽŽŽ "Ž‡Š ’…‰„ˆƒ"        2111836
                                        '03-2112374',      -- ŽŽŽ "‘€‚€ ’…‰„"          2112374
                                        '63-2118360',      -- ŽŽŽ "ˆ‘’ŽŠˆ"              2118360
                                        '07-2118361',      -- ŽŽŽ "Š“"                2118361
                                        '32-2119699',      -- ŽŽŽ Ž "ŠŽŒŽ‡ˆ’"        2119699
                                        '14-2120372',      -- ŽŽŽ "€ƒŽŠŽ-‚ŽŽ…†"     2120372
                                        '13-2122112',      -- ŽŽŽ "‘ˆŠŽ ’…‰„"         2122112
                                        '63/95-3123813',   -- ŽŽŽ “Š "”ˆ-€’…"      3123813
                                        '63/95-3123829',   -- ŽŽŽ “Š "”ˆ-€’…"      3123829
                                        '14-2127396',      -- ŽŽŽ "€‹œ’…ˆ’"            2127396
                                        '06-2127995',      -- ‡€Ž "€ŒŸ’›‰"            2127995
                                        '73-2177427',      -- ŽŽŽ "€Š’ˆŒ…„"             2177427
                                        '73-2177435',      -- ŽŽŽ "ž Œ…„ ƒ“"        2177435
                                        '7178251',         -- Š "Ž‘‘ˆ‰‘Šˆ‰ ŠŽ‹Žƒˆ—…‘Šˆ‰ Ž…€’Ž" 7178251
                                        '07-2179001',      -- ŽŽŽ "€•…Ž‹Žƒˆ—…‘ŠŽ… Ž™…‘’‚Ž Š“€ˆ" 2179001
                                        '27-2179009',      -- ŽŽŽ "ˆ’…ŒŽ‘’"           2179009
                                        '19-2180220',      -- ‡€Ž ‘Š "’‚…œƒ€†„€‘’Ž‰"  2180220
                                        '7181114',         -- Š "Ž‘‘ˆ‰‘Šˆ‰ ŠŽ‹Žƒˆ—…‘Šˆ‰ Ž…€’Ž" 7181114
                                        '63-2181286',      -- ŽŽŽ "’…‡Ž"              2181286
                                        '69-2182295',      -- €Ž Œ”Š "”ˆ‚…‘’"          2182295
                                        '67-2183865',      -- ŽŽŽ "‘ŠŽ€"               2183865
                                        '73-2186335',      -- Š "‘Žž‡"                 2186335
                                        '63/69-2186464',   -- ŽŽŽ "’ˆ’€"              2186464
                                        '49-2187583',      -- ŽŽŽ "—Ž "…Œ€Š"          2187583
                                        '62-2187863'      -- ŽŽŽ "’ŽƒŽ‚›‰ „ŽŒ "‘‚Œ"    2187863
                                       )
                    AND dl.t_sfcontrid = sf.t_id)
  LOOP
    AddObjAtCor(OBJTYPE_BROKERCONTR_DL, BROKERCONTR_ATTR_GROUP_TRADINGRESTRICTIONS, 2, TRUNC(SYSDATE), LPAD(one_id.t_dlcontrid, 34, '0'));
  END LOOP;
  
  -- ” ©« ü2
  FOR one_id IN (SELECT dl.t_dlcontrid
                   FROM dsfcontr_dbt sf, ddlcontr_dbt dl 
                  WHERE sf.t_number in (--®¬¥à ¤®£®¢®à 
                                        '3116018',
                                        '20084',
                                        '20085',
                                        '20086',
                                        '30117',
                                        '30118',
                                        '30230',
                                        '30289',
                                        '30290',
                                        '3123813',
                                        '3123829',
                                        '312836',
                                        '315356',
                                        '315374',
                                        '315453',
                                        '315600',
                                        '3187147',
                                        '3188289',
                                        '3188480',
                                        '3188888',
                                        '323648',
                                        '326335',
                                        '335146'
                                       )
                    AND dl.t_sfcontrid = sf.t_id)
  LOOP
    AddObjAtCor(OBJTYPE_BROKERCONTR_DL, BROKERCONTR_ATTR_GROUP_TRADINGRESTRICTIONS, 2, TRUNC(SYSDATE), LPAD(one_id.t_dlcontrid, 34, '0'));
  END LOOP;
  
  COMMIT;

EXCEPTION
  WHEN OTHERS THEN
    it_error.put_error_in_stack;
    it_log.log(p_msg => 'BOSS-189',
               p_msg_type => it_log.C_MSG_TYPE__ERROR -- ¯à¨ ãª § ­¨¨ â ª®£® â¨¯ , äã­ªæ¨ï § «®£¨àã¥â áâ¥ª ®è¨¡ª¨, á®¡à ­­ë© ¢ it_error
              );
END;
/