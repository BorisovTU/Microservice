<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xmlns:pro="http://www.liquibase.org/xml/ns/pro"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.6.xsd
    http://www.liquibase.org/xml/ns/pro http://www.liquibase.org/xml/ns/pro/liquibase-pro-4.6.xsd ">

  <changeSet id="107_DEF-69290_x1.xml" author="VeligzhaninAV" >
      <addDefaultValue tableName="ddl_comm_dbt" columnName="t_ratedate" defaultValueDate="0001-01-01T00:00:00" />
      <addDefaultValue tableName="ddl_comm_dbt" columnName="t_commdate" defaultValueDate="0001-01-01T00:00:00" />
      <addDefaultValue tableName="ddl_comm_dbt" columnName="t_corpactiondate" defaultValueDate="0001-01-01T00:00:00" />
      <addDefaultValue tableName="ddl_comm_dbt" columnName="t_begindate" defaultValueDate="0001-01-01T00:00:00" />
      <addDefaultValue tableName="ddl_comm_dbt" columnName="t_enddate" defaultValueDate="0001-01-01T00:00:00" />
  </changeSet>

  <changeSet id="107_DEF-69290_x2.xml" author="VeligzhaninAV" >
      <update tableName="ddl_comm_dbt">
          <column name="t_ratedate" valueComputed="TO_DATE('01.01.0001', 'dd.mm.yyyy')"/>
          <where>t_ratedate is null</where>
      </update>
      <update tableName="ddl_comm_dbt">
          <column name="t_commdate" valueComputed="TO_DATE('01.01.0001', 'dd.mm.yyyy')"/>
          <where>t_commdate is null</where>
      </update>
      <update tableName="ddl_comm_dbt">
          <column name="t_corpactiondate" valueComputed="TO_DATE('01.01.0001', 'dd.mm.yyyy')"/>
          <where>t_corpactiondate is null</where>
      </update>
      <update tableName="ddl_comm_dbt">
          <column name="t_begindate" valueComputed="TO_DATE('01.01.0001', 'dd.mm.yyyy')"/>
          <where>t_begindate is null</where>
      </update>
      <update tableName="ddl_comm_dbt">
          <column name="t_enddate" valueComputed="TO_DATE('01.01.0001', 'dd.mm.yyyy')"/>
          <where>t_enddate is null</where>
      </update>
  </changeSet>

  <changeSet id="107_DEF-69290_x3.xml" author="VeligzhaninAV" >
      <addNotNullConstraint tableName="ddl_comm_dbt" columnName="t_ratedate" />
      <addNotNullConstraint tableName="ddl_comm_dbt" columnName="t_commdate" />
      <addNotNullConstraint tableName="ddl_comm_dbt" columnName="t_corpactiondate" />
      <addNotNullConstraint tableName="ddl_comm_dbt" columnName="t_begindate" />
      <addNotNullConstraint tableName="ddl_comm_dbt" columnName="t_enddate" />
  </changeSet>

</databaseChangeLog>