<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xmlns:pro="http://www.liquibase.org/xml/ns/pro"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.6.xsd
    http://www.liquibase.org/xml/ns/pro http://www.liquibase.org/xml/ns/pro/liquibase-pro-4.6.xsd ">

  <!-- Добавление классификаторов 2020, 2021, 2022, цели списания -->
  <changeSet id="118_BOSS-7143_update_llclass.xml" author="VeligzhaninAV">

    <!-- Удаление первоначально заведенных данных в dllvalues_dbt по списку 5070 -->
    <delete tableName="dllvalues_dbt">
      <where>T_LIST=5070</where>
    </delete>

    <!-- Удаление первоначально заведенных данных в dllclsval_dbt по справочнику 5070 -->
    <delete tableName="dllclsval_dbt">
      <where>T_LIST=5070</where>
    </delete>
                                                   
    <!-- Удаление первоначально заведенных классификаторов по справочнику 5070 -->
    <delete tableName="dllclass_dbt">
      <where>T_LIST = 5070</where>
    </delete>

    <!-- 1) Вывод средств по брокерскому договору -->
    <insert tableName="dllvalues_dbt">
        <column name="T_LIST" valueNumeric="5070" />
        <column name="T_ELEMENT" valueNumeric="1" />
        <column name="T_CODE" value="ВыводПоБрДог" />  <!-- maxLen=16 -->
        <column name="T_NAME" value="Вывод средств по брокерскому договору" />
        <column name="T_FLAG" valueNumeric="0" />
        <column name="T_NOTE" valueComputed="CHR(1)" />
        <column name="T_RESERVE" valueComputed="CHR(1)" />
    </insert>

    <!-- 2) Вывод средств по доверенности\по решению суда -->
    <insert tableName="dllvalues_dbt">
        <column name="T_LIST" valueNumeric="5070" />
        <column name="T_ELEMENT" valueNumeric="2" />
        <column name="T_CODE" value="ВыводСуд" />  <!-- maxLen=16 -->
        <column name="T_NAME" value="Вывод средств по доверенности\по решению суда" />
        <column name="T_FLAG" valueNumeric="0" />
        <column name="T_NOTE" valueComputed="CHR(1)" />
        <column name="T_RESERVE" valueComputed="CHR(1)" />
    </insert>

    <!-- 3) Вывод средств наследнику -->
    <insert tableName="dllvalues_dbt">
        <column name="T_LIST" valueNumeric="5070" />
        <column name="T_ELEMENT" valueNumeric="3" />
        <column name="T_CODE" value="ВыводНаслед" />  <!-- maxLen=16 -->
        <column name="T_NAME" value="Вывод средств наследнику" />
        <column name="T_FLAG" valueNumeric="0" />
        <column name="T_NOTE" valueComputed="CHR(1)" />
        <column name="T_RESERVE" valueComputed="CHR(1)" />
    </insert>

    <!-- 4) Оплата дорогостоящего лечения с ИИС-3 -->
    <insert tableName="dllvalues_dbt">
        <column name="T_LIST" valueNumeric="5070" />
        <column name="T_ELEMENT" valueNumeric="4" />
        <column name="T_CODE" value="ВыводДорЛеч" />  <!-- maxLen=16 -->
        <column name="T_NAME" value="Оплата дорогостоящего лечения с ИИС-3" />
        <column name="T_FLAG" valueNumeric="0" />
        <column name="T_NOTE" valueComputed="CHR(1)" />
        <column name="T_RESERVE" valueComputed="CHR(1)" />
    </insert>

    <!-- 5) Перевод средств другому брокеру -->
    <insert tableName="dllvalues_dbt">
        <column name="T_LIST" valueNumeric="5070" />
        <column name="T_ELEMENT" valueNumeric="5" />
        <column name="T_CODE" value="ПереводДрБрок" />  <!-- maxLen=16 -->
        <column name="T_NAME" value="Перевод средств другому брокеру" />
        <column name="T_FLAG" valueNumeric="0" />
        <column name="T_NOTE" valueComputed="CHR(1)" />
        <column name="T_RESERVE" valueComputed="CHR(1)" />
    </insert>

    <!-- Классификатор 2020, цели списания (основные) -->
    <insert tableName="dllclass_dbt">
        <column name="T_CLASSIFICATOR" valueNumeric="2020" />
        <column name="T_LIST" valueNumeric="5070" />
        <column name="T_SHORTNAME" value="ЦелиСписания" />
        <column name="T_NAME" value="Цели списания (основные)" />
        <column name="T_RESERVED" valueComputed="CHR(1)" />
    </insert>

    <!-- Классификатор 2021, цели списания (ИИС) -->
    <insert tableName="dllclass_dbt">
        <column name="T_CLASSIFICATOR" valueNumeric="2021" />
        <column name="T_LIST" valueNumeric="5070" />
        <column name="T_SHORTNAME" value="ЦелиСписИИС" />
        <column name="T_NAME" value="Цели списания (для ИИС)" />
        <column name="T_RESERVED" valueComputed="CHR(1)" />
    </insert>
    
    <!-- Классификатор 2022, цели списания (ИИС-3) -->
    <insert tableName="dllclass_dbt">
        <column name="T_CLASSIFICATOR" valueNumeric="2022" />
        <column name="T_LIST" valueNumeric="5070" />
        <column name="T_SHORTNAME" value="ЦелиСписИИС3" />
        <column name="T_NAME" value="Цели списания (для ИИС-3)" />
        <column name="T_RESERVED" valueComputed="CHR(1)" />
    </insert>

    <!-- Классификатор 2020: 1) Вывод средств по брокерскому договору -->
    <insert tableName="dllclsval_dbt">
        <column name="T_CLASSIFICATOR" valueNumeric="2020" />
        <column name="T_ELEMENT" valueNumeric="1" />
        <column name="T_LIST" valueNumeric="5070" />
        <column name="T_ISSYS" value="X" />
        <column name="T_SORT" value="1" />
    </insert>

    <!-- Классификатор 2020: 2) Вывод средств по доверенности\по решению суда -->
    <insert tableName="dllclsval_dbt">
        <column name="T_CLASSIFICATOR" valueNumeric="2020" />
        <column name="T_ELEMENT" valueNumeric="2" />
        <column name="T_LIST" valueNumeric="5070" />
        <column name="T_ISSYS" value="X" />
        <column name="T_SORT" value="1" />
    </insert>

    <!-- Классификатор 2020: 3) Вывод средств наследнику -->
    <insert tableName="dllclsval_dbt">
        <column name="T_CLASSIFICATOR" valueNumeric="2020" />
        <column name="T_ELEMENT" valueNumeric="3" />
        <column name="T_LIST" valueNumeric="5070" />
        <column name="T_ISSYS" value="X" />
        <column name="T_SORT" value="1" />
    </insert>

    <!-- Классификатор 2021: 1) Вывод средств по брокерскому договору -->
    <insert tableName="dllclsval_dbt">
        <column name="T_CLASSIFICATOR" valueNumeric="2021" />
        <column name="T_ELEMENT" valueNumeric="1" />
        <column name="T_LIST" valueNumeric="5070" />
        <column name="T_ISSYS" value="X" />
        <column name="T_SORT" value="1" />
    </insert>

    <!-- Классификатор 2021: 2) Вывод средств по доверенности\по решению суда -->
    <insert tableName="dllclsval_dbt">
        <column name="T_CLASSIFICATOR" valueNumeric="2021" />
        <column name="T_ELEMENT" valueNumeric="2" />
        <column name="T_LIST" valueNumeric="5070" />
        <column name="T_ISSYS" value="X" />
        <column name="T_SORT" value="1" />
    </insert>

    <!-- Классификатор 2021: 3) Вывод средств наследнику -->
    <insert tableName="dllclsval_dbt">
        <column name="T_CLASSIFICATOR" valueNumeric="2021" />
        <column name="T_ELEMENT" valueNumeric="3" />
        <column name="T_LIST" valueNumeric="5070" />
        <column name="T_ISSYS" value="X" />
        <column name="T_SORT" value="1" />
    </insert>

    <!-- Классификатор 2021: 5) Перевод средств другому брокеру -->
    <insert tableName="dllclsval_dbt">
        <column name="T_CLASSIFICATOR" valueNumeric="2021" />
        <column name="T_ELEMENT" valueNumeric="5" />
        <column name="T_LIST" valueNumeric="5070" />
        <column name="T_ISSYS" value="X" />
        <column name="T_SORT" value="1" />
    </insert>

    <!-- Классификатор 2022: 1) Вывод средств по брокерскому договору -->
    <insert tableName="dllclsval_dbt">
        <column name="T_CLASSIFICATOR" valueNumeric="2022" />
        <column name="T_ELEMENT" valueNumeric="1" />
        <column name="T_LIST" valueNumeric="5070" />
        <column name="T_ISSYS" value="X" />
        <column name="T_SORT" value="1" />
    </insert>

    <!-- Классификатор 2022: 2) Вывод средств по доверенности\по решению суда -->
    <insert tableName="dllclsval_dbt">
        <column name="T_CLASSIFICATOR" valueNumeric="2022" />
        <column name="T_ELEMENT" valueNumeric="2" />
        <column name="T_LIST" valueNumeric="5070" />
        <column name="T_ISSYS" value="X" />
        <column name="T_SORT" value="1" />
    </insert>

    <!-- Классификатор 2022: 3) Вывод средств наследнику -->
    <insert tableName="dllclsval_dbt">
        <column name="T_CLASSIFICATOR" valueNumeric="2022" />
        <column name="T_ELEMENT" valueNumeric="3" />
        <column name="T_LIST" valueNumeric="5070" />
        <column name="T_ISSYS" value="X" />
        <column name="T_SORT" value="1" />
    </insert>

    <!-- Классификатор 2022: 4) Оплата дорогостоящего лечения с ИИС-3 -->
    <insert tableName="dllclsval_dbt">
        <column name="T_CLASSIFICATOR" valueNumeric="2022" />
        <column name="T_ELEMENT" valueNumeric="4" />
        <column name="T_LIST" valueNumeric="5070" />
        <column name="T_ISSYS" value="X" />
        <column name="T_SORT" value="1" />
    </insert>

    <!-- Классификатор 2022: 5) Перевод средств другому брокеру -->
    <insert tableName="dllclsval_dbt">
        <column name="T_CLASSIFICATOR" valueNumeric="2022" />
        <column name="T_ELEMENT" valueNumeric="5" />
        <column name="T_LIST" valueNumeric="5070" />
        <column name="T_ISSYS" value="X" />
        <column name="T_SORT" value="1" />
    </insert>

  </changeSet>
</databaseChangeLog>