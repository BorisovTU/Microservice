<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xmlns:pro="http://www.liquibase.org/xml/ns/pro"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.6.xsd
    http://www.liquibase.org/xml/ns/pro http://www.liquibase.org/xml/ns/pro/liquibase-pro-4.6.xsd ">
   <property name="now" value="sysdate" dbms="oracle"/>
   <changeSet id="107_DEF-69139_kafka_service.xml" author="Geraskina" >
      <insert tableName="ITT_Q_CORRSYSTEM">
          <column name="SYSTEM_NAME" value="DIASOFT_TAXES" />
          <column name="SYSTEM_CAPTION" value="Депозитарный учет (обмен сообшений через KAFKA)" />
          <column name="OUT_PACK_MESSAGE_PROC" value="it_diasoft.out_pack_message_second" />
          <column name="CREATE_SYSDATE" valueDate="${now}" />
          <column name="UPDATE_SYSDATE" valueDate="${now}" />
      </insert>

      <update tableName="ITT_KAFKA_TOPIC">
          <column name="system_name" value="DIASOFT_TAXES"/>
          <where>servicename in ('Diasoft.GetAllocatedCouponInfo', 'Diasoft.SendAllocatedCouponResult')</where>
      </update>
   </changeSet>

</databaseChangeLog>