<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xmlns:pro="http://www.liquibase.org/xml/ns/pro"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.6.xsd
    http://www.liquibase.org/xml/ns/pro http://www.liquibase.org/xml/ns/pro/liquibase-pro-4.6.xsd ">

  <changeSet id="115_CCBO-10997_create_acccontr" context="prod" author="Ponomareva">
    <createTable tableName="DBUSYACCCONTR_DBT" remarks="Таблица окончаний счетов в разрезе контрагентов, занятых в генерации">
      <column name="T_CONTRAGENT" type="number(10)" remarks="Идентификатор контрагента"/>
      <column name="T_VALUE" type="number(10)" remarks="Счетчик, используемый для определения хвоста счета (контрагента)"/>
      <column name="T_BALANCE" type="varchar(5)" remarks="Балансовый счет"/>
      <column name="T_CURRENCY" type="varchar(3)" remarks="Код валюты счета"/>
      <column name="T_BA" type="varchar(3)" remarks="Код валюты БА"/>
      <column name="T_CONTRCODE" type="varchar(4)" remarks="'Код контрагента в счете"/>
    </createTable>

    <createIndex indexName="DBUSYACCCONTR_DBT_IDX0" tableName="DBUSYACCCONTR_DBT" unique="false">
      <column name="T_VALUE"/>
      <column name="T_BALANCE"/>
      <column name="T_CURRENCY"/>
      <column name="T_BA"/>
      <column name="T_CONTRCODE"/>
    </createIndex>

    <createIndex indexName="DBUSYACCCONTR_DBT_IDX1" tableName="DBUSYACCCONTR_DBT" unique="false">
      <column name="T_CONTRAGENT"/>
    </createIndex>

  </changeSet>
</databaseChangeLog>

