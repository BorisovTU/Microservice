<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xmlns:pro="http://www.liquibase.org/xml/ns/pro"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.6.xsd
    http://www.liquibase.org/xml/ns/pro http://www.liquibase.org/xml/ns/pro/liquibase-pro-4.6.xsd ">
  <changeSet id="112_BOSS-6753_insert_regval.xml" author="Shestakov">    
    <!-- РСХБ\БРОКЕРСКОЕ ОБСЛУЖИВАНИЕ\УЧЕТ ДЕПО КОМИССИЙ -->
    <insert tableName="dregparm_dbt">
        <column name="t_KeyId" valueNumeric="0"/>
        <column name="t_ParentId" valueComputed="(SELECT t_keyid 
                                                    FROM (SELECT p.t_keyid, SYS_CONNECT_BY_PATH(p.t_name, '/') Path
                                                            FROM dregparm_dbt p, dregval_dbt v
                                                           WHERE v.t_keyid=p.t_keyid and v.t_objectid=0
                                                         connect by prior p.t_keyid=p.t_parentid start with p.t_parentid=0)
                                                   WHERE Path='/РСХБ/БРОКЕРСКОЕ ОБСЛУЖИВАНИЕ')"/>
        <column name="t_Name" value="УЧЕТ ДЕПО КОМИССИЙ"/>
        <column name="t_Type" valueNumeric="0"/>
        <column name="t_Global" valueComputed="CHR(0)"/>
        <column name="t_Description" valueComputed="CHR(0)"/>
        <column name="t_Security" valueComputed="CHR(0)"/>
        <column name="t_IsBranch" valueComputed="CHR(0)"/>                 
    </insert>
	
	<!-- Значение РСХБ\БРОКЕРСКОЕ ОБСЛУЖИВАНИЕ\УЧЕТ ДЕПО КОМИССИЙ -->
    <insert tableName="dregval_dbt">
        <column name="T_KEYID" valueComputed="(SELECT t_keyid 
                                                 FROM dregparm_dbt 
                                                WHERE t_parentid = (SELECT t_keyid                                               
                                                                      FROM (SELECT p.t_keyid,SYS_CONNECT_BY_PATH(p.t_name, '/') Path                                     
                                                                              FROM dregparm_dbt p, dregval_dbt v 
                                                                             WHERE v.t_keyid=p.t_keyid and v.t_objectid=0                       
                                                                           connect by prior p.t_keyid=p.t_parentid start with p.t_parentid=0)                                 
                                                                     WHERE Path='/РСХБ/БРОКЕРСКОЕ ОБСЛУЖИВАНИЕ')
                                                  AND t_name = 'УЧЕТ ДЕПО КОМИССИЙ' )"/>
        <column name="T_REGKIND" valueNumeric="0"/>
        <column name="T_OBJECTID" valueNumeric="0"/>
        <column name="T_BLOCKUSERVALUE" valueComputed="CHR(0)"/>
        <column name="T_EXPDEP" valueNumeric="0"/>
        <column name="T_LINTVALUE" valueNumeric="0"/>
        <column name="T_LDOUBLEVALUE" valueNumeric="0"/>
    </insert> 
	
	<!-- РСХБ\БРОКЕРСКОЕ ОБСЛУЖИВАНИЕ\УЧЕТ ДЕПО КОМИССИ\ВРЕМЯ_ПРЕДОСТАВЛЕНИЯ_ОСТАТКОВ -->
    <insert tableName="dregparm_dbt">
        <column name="t_KeyId" valueNumeric="0"/>
        <column name="t_ParentId" valueComputed="(SELECT t_keyid 
                                                    FROM (SELECT p.t_keyid, SYS_CONNECT_BY_PATH(p.t_name, '/') Path
                                                            FROM dregparm_dbt p, dregval_dbt v
                                                           WHERE v.t_keyid=p.t_keyid and v.t_objectid=0
                                                         connect by prior p.t_keyid=p.t_parentid start with p.t_parentid=0)
                                                   WHERE Path='/РСХБ/БРОКЕРСКОЕ ОБСЛУЖИВАНИЕ/УЧЕТ ДЕПО КОМИССИЙ')"/>
        <column name="t_Name" value="ВРЕМЯ_ПРЕДОСТАВЛЕНИЯ_ОСТАТКОВ"/>
        <column name="t_Type" valueNumeric="0"/>
        <column name="t_Global" valueComputed="CHR(88)"/>
        <column name="t_Description" value="Время В МИНУТАХ работы пункта БА 'Обмен данными СОФР-ЦФТ по Депо комиссиям'"/>
        <column name="t_Security" valueComputed="CHR(0)"/>
        <column name="t_IsBranch" valueComputed="CHR(0)"/>                 
    </insert>
    <!-- Значение РСХБ\БРОКЕРСКОЕ ОБСЛУЖИВАНИЕ\УЧЕТ ДЕПО КОМИССИ\ВРЕМЯ_ПРЕДОСТАВЛЕНИЯ_ОСТАТКОВ = 30-->
    <insert tableName="dregval_dbt">
        <column name="T_KEYID" valueComputed="(SELECT t_keyid 
                                                 FROM dregparm_dbt 
                                                WHERE t_parentid = (SELECT t_keyid                                               
                                                                      FROM (SELECT p.t_keyid,SYS_CONNECT_BY_PATH(p.t_name, '/') Path                                     
                                                                              FROM dregparm_dbt p, dregval_dbt v 
                                                                             WHERE v.t_keyid=p.t_keyid and v.t_objectid=0                       
                                                                           connect by prior p.t_keyid=p.t_parentid start with p.t_parentid=0)                                 
                                                                     WHERE Path='/РСХБ/БРОКЕРСКОЕ ОБСЛУЖИВАНИЕ/УЧЕТ ДЕПО КОМИССИЙ')
                                                  AND t_name = 'ВРЕМЯ_ПРЕДОСТАВЛЕНИЯ_ОСТАТКОВ' )"/>
        <column name="T_REGKIND" valueNumeric="0"/>
        <column name="T_OBJECTID" valueNumeric="0"/>
        <column name="T_BLOCKUSERVALUE" valueComputed="CHR(0)"/>
        <column name="T_EXPDEP" valueNumeric="0"/>
        <column name="T_LINTVALUE" valueNumeric="30"/>
        <column name="T_LDOUBLEVALUE" valueNumeric="0"/>
    </insert> 
	
	<!-- РСХБ\БРОКЕРСКОЕ ОБСЛУЖИВАНИЕ\УЧЕТ ДЕПО КОМИССИ\КОНЕЦ_ПРЕДОСТАВЛЕНИЯ_ОСТАТКОВ -->
    <insert tableName="dregparm_dbt">
        <column name="t_KeyId" valueNumeric="0"/>
        <column name="t_ParentId" valueComputed="(SELECT t_keyid 
                                                    FROM (SELECT p.t_keyid, SYS_CONNECT_BY_PATH(p.t_name, '/') Path
                                                            FROM dregparm_dbt p, dregval_dbt v
                                                           WHERE v.t_keyid=p.t_keyid and v.t_objectid=0
                                                         connect by prior p.t_keyid=p.t_parentid start with p.t_parentid=0)
                                                   WHERE Path='/РСХБ/БРОКЕРСКОЕ ОБСЛУЖИВАНИЕ/УЧЕТ ДЕПО КОМИССИЙ')"/>
        <column name="t_Name" value="КОНЕЦ_ПРЕДОСТАВЛЕНИЯ_ОСТАТКОВ"/>
        <column name="t_Type" valueNumeric="0"/>
        <column name="t_Global" valueComputed="CHR(88)"/>
        <column name="t_Description" value=" Предельное время окончания(указывается час в виде целого числа от 1 до 24) работы пункта БА 'Обмен данными СОФР-ЦФТ по Депо комиссиям'"/>
        <column name="t_Security" valueComputed="CHR(0)"/>
        <column name="t_IsBranch" valueComputed="CHR(0)"/>                 
    </insert>
   
    <insert tableName="dregval_dbt">
        <column name="T_KEYID" valueComputed="(SELECT t_keyid 
                                                 FROM dregparm_dbt 
                                                WHERE t_parentid = (SELECT t_keyid                                               
                                                                      FROM (SELECT p.t_keyid,SYS_CONNECT_BY_PATH(p.t_name, '/') Path                                     
                                                                              FROM dregparm_dbt p, dregval_dbt v 
                                                                             WHERE v.t_keyid=p.t_keyid and v.t_objectid=0                       
                                                                           connect by prior p.t_keyid=p.t_parentid start with p.t_parentid=0)                                 
                                                                     WHERE Path='/РСХБ/БРОКЕРСКОЕ ОБСЛУЖИВАНИЕ/УЧЕТ ДЕПО КОМИССИЙ')
                                                  AND t_name = 'КОНЕЦ_ПРЕДОСТАВЛЕНИЯ_ОСТАТКОВ' )"/>
        <column name="T_REGKIND" valueNumeric="0"/>
        <column name="T_OBJECTID" valueNumeric="0"/>
        <column name="T_BLOCKUSERVALUE" valueComputed="CHR(0)"/>
        <column name="T_EXPDEP" valueNumeric="0"/>
        <column name="T_LINTVALUE" valueNumeric="5"/>
        <column name="T_LDOUBLEVALUE" valueNumeric="0"/>
    </insert>

	
  </changeSet>
</databaseChangeLog>