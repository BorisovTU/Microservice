/*16.12.2021 SShurak*/
import get;


/* добавление змыкающего слеша к строке str*/
MACRO AddSl(str)
  str = trim(str);
  if (substr (str, strlen(str), 1) != "\\")
    str = str + "\\";
  end;
  return str;
END;


/*каталоги */
//московская биржа
const MBDirIn    =   AddSl(GetSetupValue("МБ\\Каталоги\\MBInDir"));/*Каталог принимаемых  файлов*/
const MBDirArc   =   AddSl(GetSetupValue("МБ\\Каталоги\\MBArcDir"));/*Папка для архива файлов*/
const MBDirErr   =   AddSl(GetSetupValue("МБ\\Каталоги\\MBErrDir"));/*Папка для принятых с ошибкой файлов*/


//Валютный рынок
const CMDirIn    =   AddSl(GetSetupValue("Валютный рынок\\Каталоги\\CMInDir")); /*Каталог принимаемых  файлов*/
const CMDirArc   =   AddSl(GetSetupValue("Валютный рынок\\Каталоги\\CMArcDir"));/*Папка для архива файлов*/
const CMDirErr   =   AddSl(GetSetupValue("Валютный рынок\\Каталоги\\CMErrDir"));/*Папка для принятых с ошибкой файлов*/


//Срочный рынок
const FMDirIn    =   AddSl(GetSetupValue("Срочный рынок\\Каталоги\\FMInDir")); /*Каталог принимаемых  файлов*/
const FMDirArc   =   AddSl(GetSetupValue("Срочный рынок\\Каталоги\\FMArcDir"));/*Папка для архива файлов*/
const FMDirErr   =   AddSl(GetSetupValue("Срочный рынок\\Каталоги\\FMErrDir"));/*Папка для принятых с ошибкой файлов*/

const FMZipDirIn    =   AddSl(GetSetupValue("Срочный рынок\\Каталоги\\FMZipInDir")); /*Каталог принимаемых  файлов архивов*/
const FMZipDirArc   =   AddSl(GetSetupValue("Срочный рынок\\Каталоги\\FMZipArcDir"));/*Папка для архива файлов архивов*/
const FMZipDirErr   =   AddSl(GetSetupValue("Срочный рынок\\Каталоги\\FMZipErrDir"));/*Папка для принятых с ошибкой файлов архивов*/



//Санкт Петербург
const SPBDirIn    =   AddSl(GetSetupValue("СПБ\\Каталоги\\SPBInDir"));/*Каталог принимаемых  файлов*/
const SPBDirArc   =   AddSl(GetSetupValue("СПБ\\Каталоги\\SPBArcDir"));/*Папка для архива файлов*/
const SPBDirErr   =   AddSl(GetSetupValue("СПБ\\Каталоги\\SPBErrDir"));/*Папка для принятых с ошибкой файлов*/

const SPBZipDirIn    =   AddSl(GetSetupValue("СПБ\\Каталоги\\SPBZipInDir"));/*Каталог принимаемых  файлов архивов*/
const SPBZipDirArc   =   AddSl(GetSetupValue("СПБ\\Каталоги\\SPBZipArcDir"));/*Папка для архива файлов архивов*/
const SPBZipDirErr   =   AddSl(GetSetupValue("СПБ\\Каталоги\\SPBZipErrDir"));/*Папка для принятых с ошибкой файлов архивов*/


/*Массив масок файлов для загрузки*/
//московская биржа
Array MBImpFileNameMask;
MBImpFileNameMask[ASize(MBImpFileNameMask)] = "*_SEM02_*.xml";
MBImpFileNameMask[ASize(MBImpFileNameMask)] = "*_SEM03_*.xml";
MBImpFileNameMask[ASize(MBImpFileNameMask)] = "*_EQM06_*.xml";
//MBImpFileNameMask[ASize(MBImpFileNameMask)] = "*_EQM6C_*.xml";
MBImpFileNameMask[ASize(MBImpFileNameMask)] = "*_SEM21_*.xml";
//MBImpFileNameMask[ASize(MBImpFileNameMask)] = "*_SEM25_*.xml";
//MBImpFileNameMask[ASize(MBImpFileNameMask)] = "*_SEM26_*.xml";
MBImpFileNameMask[ASize(MBImpFileNameMask)] = "*_EQM13_*.xml";
//MBImpFileNameMask[ASize(MBImpFileNameMask)] = "*_EQM98_*.xml";
MBImpFileNameMask[ASize(MBImpFileNameMask)] = "*_EQM99_*.xml";
MBImpFileNameMask[ASize(MBImpFileNameMask)] = "*_EQM3T_*.xml";
MBImpFileNameMask[ASize(MBImpFileNameMask)] = "*_EQM2T_*.xml";


//Валютный рынок
Array CMImpFileNameMask;
CMImpFileNameMask[ASize(CMImpFileNameMask)] = "*_CUX23_*.xml";
CMImpFileNameMask[ASize(CMImpFileNameMask)] = "*_CCX17_*.xml";
CMImpFileNameMask[ASize(CMImpFileNameMask)] = "*_CCX10_*.xml";
CMImpFileNameMask[ASize(CMImpFileNameMask)] = "*_CUX22_*.xml";
CMImpFileNameMask[ASize(CMImpFileNameMask)] = "*_CCX04_*.xml";
CMImpFileNameMask[ASize(CMImpFileNameMask)] = "*_CCX4P_*.xml";
CMImpFileNameMask[ASize(CMImpFileNameMask)] = "*_CCX99_*.xml";

//Срочный рынок
Array FMImpFileNameMask;
FMImpFileNameMask[ASize(FMImpFileNameMask)] = "F04_*.csv";
FMImpFileNameMask[ASize(FMImpFileNameMask)] = "O04_*.csv";
FMImpFileNameMask[ASize(FMImpFileNameMask)] = "FPOS*.csv";
FMImpFileNameMask[ASize(FMImpFileNameMask)] = "OPOS*.csv";
FMImpFileNameMask[ASize(FMImpFileNameMask)] = "FORDLOG*.csv";
FMImpFileNameMask[ASize(FMImpFileNameMask)] = "OORDLOG*.csv";
FMImpFileNameMask[ASize(FMImpFileNameMask)] = "F07*.csv";
FMImpFileNameMask[ASize(FMImpFileNameMask)] = "O07*.csv";
FMImpFileNameMask[ASize(FMImpFileNameMask)] = "PAY*.csv";
FMImpFileNameMask[ASize(FMImpFileNameMask)] = "MON*.csv";

         
//Санкт Петербург
Array SPBImpFileNameMask;
SPBImpFileNameMask[ASize(SPBImpFileNameMask)] = "*_SPB03_*.xml";
SPBImpFileNameMask[ASize(SPBImpFileNameMask)] = "*_SPB21_*.xml";
SPBImpFileNameMask[ASize(SPBImpFileNameMask)] = "*_MFB06C_*.xml";
SPBImpFileNameMask[ASize(SPBImpFileNameMask)] = "*_MFB13_*.xml";
//SPBImpFileNameMask[ASize(SPBImpFileNameMask)] = "*_MFB98_*.xml";
SPBImpFileNameMask[ASize(SPBImpFileNameMask)] = "*_MFB99_*.xml";
SPBImpFileNameMask[ASize(SPBImpFileNameMask)] = "orders-ORDERS_*.txt";


Array SPBZipFileNameMask;
SPBZipFileNameMask[ASize(SPBZipFileNameMask)] = "*.zip";
SPBZipFileNameMask[ASize(SPBZipFileNameMask)] = "*.7z";

Array FMZipFileNameMask;
FMZipFileNameMask[ASize(FMZipFileNameMask)] = "*.zip";
FMZipFileNameMask[ASize(FMZipFileNameMask)] = "*.p7s";




//номер группы в СОФР для отправки оповещений о ошибках приема
// 0 - оповещения не отправляются
const EmailGroupMB = 25;
